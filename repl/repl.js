require=function e(r,t,o){function n(a,d){if(!t[a]){if(!r[a]){var v="function"==typeof require&&require;if(!d&&v)return v(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};r[a][0].call(c.exports,function(e){var t=r[a][1][e];return n(t?t:e)},c,c.exports,e,r,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(e,r,t){(function(r){r._egruntime_installed?6==r._egruntime_installed&&(r._egruntime_installed=5,e("core-js/shim"),e("regenerator/runtime")):(r._egruntime_installed=5,e("core-js/shim"),e("regenerator/runtime"),e("./lib"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib":2,"core-js/shim":3,"regenerator/runtime":4}],2:[function(e,r,t){(function(e){"use strict";function r(e){return e.reduce(function(e,r){return e.concat(r)},[])}function t(e,r){var t=typeof e;return null===e||void 0===e?!1:"string"===t?r in String.prototype:"number"===t?r in Number.prototype:"boolean"===t?r in Boolean.prototype:"boolean"===t?r in Boolean.prototype:"symbol"===t?r in Symbol.prototype:r in e||"function"===t&&Array.isArray(r)?!0:!1}function o(e){return"object"==typeof e&&null!==e?e["::serialize_ast"]():["value",e]}function n(e,r){var t=O("match").createFrom(n,(r?"'"+r+"' c":"C")+"ould not find a match for value '"+String(e)+"'",{value:e});throw t}function i(e,r){return u(r).forEach(function(r){e[r[0]]=r[1]}),e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e["::super"]=r.prototype,e}function a(e,r,t){var o=typeof r,n=null;if("string"===o||"number"===o||"symbol"===o)n=e[r];else if(r instanceof E)n=e.slice(r.start,void 0===r.end?r.end:r.end+1);else if("object"===o&&e instanceof Object&&e["::send"])n=e["::send"](r);else{if(!r||Object.getPrototypeOf(r)!==Symbol.prototype)throw Error(e+" cannot receive message '"+r+"'");n=e[r]}return t&&"function"==typeof n?n.bind(e):n}function d(e,r,t){if(Object.hasProperty.call(e,r))return e[r];throw O("no_property").createFrom(d,"'"+(t||e.toString())+"' does not have property '"+r+"'")}function v(e){var r={};if(void 0===e.length)throw O("object").create("Argument to 'object' must be an array of pairs.");for(var t=0;t<e.length;t++){var o=e[t];if(!o||2!==o.length)throw O("object").create("Argument to 'object' must be an array of pairs.");r[o[0]]=o[1]}return r}function u(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push([t,e[t]]);return r}function c(e){for(var r=[],t=0;t<e.length;t++)r.push([t,e[t]]);return r}function s(){for(var e=[],r=0;r<arguments[0].length;r++){for(var t=[],o=0;o<arguments.length;o++)t.push(arguments[o][r]);e.push(t)}return e}function l(e,r){for(var t=[],o=0;o<e.length;o++)for(var n=0;n<r.length;n++)t.push([e[o],r[n]]);return t}function h(e,r){r=r||2;for(var t=[],o=0;o<=e.length-r;o++)t.push(e.slice(o,o+r));return t}function p(e){return e["::check"]=e,e}function _(e,r){if(e===r)return!0;if("number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||void 0===e)return!1;if(e instanceof Array){if(!(r instanceof Array)||e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!_(e[t],r[t]))return!1;return!0}if(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype&&void 0!==r&&null!==r&&"object"==typeof r&&(null===Object.getPrototypeOf(r)||Object.getPrototypeOf(r)===Object.prototype)){var o=Object.keys(e);if(!_(o.sort(),Object.keys(r).sort()))return!1;for(var n in e)if(!_(e[n],r[n]))return!1;return!0}return"object"==typeof e&&e["::serialize"]?void 0!==r&&"object"==typeof r&&r["::serialize"]?_(e["::serialize"](),r["::serialize"]()):void 0:!1}function f(e,r){return!_(e,r)}function g(e,r){return e["::contains"](r)}function y(e,r){for(var t=u(e),o=[],n=0;n<t.length;n++){var i=t[n];o.push(C(".assoc",[r(i[0]),r(i[1])]))}return C(".object",o)}function m(e){function r(t){function o(r){if(null===r||void 0===r)return C("."+String(r),String(r));var t=e.seen.get(r);if(!t||r["::lightweight"]&&r["::lightweight"]()){e.seen.set(r,!0);var o=m(w(e,{depth:e.depth+1}));if(r["::repr"])var n=r["::repr"](o);else if(r.constructor&&r.constructor["::egclass"])var n=C(".instance",[C(".name",r.constructor["::name"]),y(r,o)]);else if(Object.getPrototypeOf(r)===Object.prototype)var n=y(r,o);else var n=C(".unknown",String(r));var i=e.seen.get(r);return"number"==typeof i&&(n.props._refid=i),e.seen.set(r,n),n}if(t===!0){var a=e.refid++;return e.seen.set(r,a),C(".reference",a)}return"number"==typeof t?C(".reference",t):t.props._refid?C(".reference",t.props._refid):(t.props._refid=e.refid++,C(".reference",t.props._refid))}return b(o,e),o.repr=r,e.wrap?e.wrap(t,o):o(t)}return e||(e={depth:0,seen:new Map}),b(r,e),r.withState=function(r){return m(w(e,r))},r}function x(e,r){return x.withState({wrap:r})(e)}function b(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}function w(e,r){var t=k(e);return b(t,r)}function k(e){if(void 0===e||null===e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e;if("object"==typeof e&&e["::clone"])return e["::clone"]();if(Object.getPrototypeOf(e)===Object.prototype){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}throw O("clone").create("Object cannot be cloned")}function E(e,r){return this instanceof E?(this.start=e,void(this.end=r)):new E(e,r)}function A(e){var r=e["::check"];return void 0===r?function(r){return r instanceof e}:function(t){return r.call(e,t)}}function S(e){var r=e[":::project"];return void 0===r?(r=e["::project"],void 0===r?function(r){return[!0,e(r)]}:function(t){try{return[!0,r.call(e,t)]}catch(o){return[!1,null]}}):r.bind(e)}function P(e,r){if((null===r||void 0===r)&&(r=1/0),!e||!e.next||0>=r){if(!Array.isArray(e)&&e[Symbol.iterator]){for(var t=[],o=e[Symbol.iterator](),n=o.next(),i=0,i=0;!n.done&&r>i;i++)t.push(n.value),n=o.next();return t}return e}for(var n=e.next(),a=[],i=0;!n.done&&r>i;)a.push(n.value),n=e.next(),i++;return a}function j(e,r){return function(){var t=[].slice.call(arguments);return new Promise(function(o,n){function i(e,t){if(r){var i={resolve:o,reject:n};return r.apply(i,[].slice.call(arguments))}return e?n(e):o(t)}return t.push(i),e.apply(e,t)})}}function N(e){var r=this;return new Promise(function(t,o){function n(e){var r;try{r=e()}catch(a){return void o(a)}return r.done?void t(r.value):void Promise.resolve(r.value).then(function(e){n(function(){return i.next(e)})},function(e){n(function(){return i["throw"](e)})})}var i=e.call(r);n(function(){return i.next(void 0)})})}function O(e){return this instanceof O?void(this.tags=e):new O(e)}function C(e,r){return q([e],{},r)}function q(e,r,t){return this instanceof q?(e instanceof Array||(e=[e]),t instanceof Array||(t=[t]),this.tags=e,this.props=r,void(this.children=t)):new q(e,r,t)}"undefined"==typeof e&&(e=window),Symbol.check="::check",Symbol.project="::project",Symbol.projectNoExc=":::project",Symbol.clone="::clone",Symbol.send="::send",Symbol.contains="::contains",Symbol.repr="::repr",String["::check"]=function(e){return"string"==typeof e},String[":::project"]=function(e){return[!0,String(e)]},Number["::check"]=function(e){return"number"==typeof e},Number[":::project"]=function(e){return[!0,parseFloat(e)]},Boolean["::check"]=function(e){return"boolean"==typeof e},Boolean[":::project"]=function(e){return[!0,Boolean(e)]},Array["::check"]=function(e){return this.isArray(e)},Array[":::project"]=function(e){return e instanceof Array?[!0,e]:[!0,[e]]};var L={"::lightweight":function(){return!0},"::repr":function(e){return C(".num",this)}},R={"::contains":function(e){return this.includes(e)},"::lightweight":function(){return!0},"::repr":function(e){return C(".str",this)}},M={"::lightweight":function(){return!0},"::repr":function(e){return q([".bool","."+String(this)],{},[this])}},T={hasProperty:function(e){return e in this}},I={"::check":function(e){if(e instanceof Array){for(var r=0;r<this.length;r++)if(this[r]!==e[r])return!1;return!0}return!1},"::clone":function(e){return b(this.slice(0),this)},":::project":function(e){if(e instanceof Array){for(var r=0;r<this.length;r++)if(this[r]!==e[r])return[!0,this.concat([e])];return[!0,e]}return[!0,this.concat([e])]},"::serialize_ast":function(){return["array"].concat(this.map(_serialize_ast))},"::contains":function(e){return-1!==this.indexOf(e)},"::repr":function(e){return C(".array",this.map(function(r){return e(r)}))},ejoin:function(e){return q([],{},this.map(function(e){return x(e)})).join(e)}},F={"::check":function(e){return"string"==typeof e&&e.match(this)?!0:!1},":::project":function(e){if("string"==typeof e){var r=e.match(this);return null===r?[!1,null]:[!0,r]}return[!1,null]},"::lightweight":function(){return!0},"::repr":function(e){return C(".regexp",String(this).slice(1,-1))},"::contains":function(e){return"string"==typeof e&&this.test(e)}},z={"::lightweight":function(){return!this["::egclass"]},"::repr":function(e){return this["::egclass"]?C(".class",[C(".name",this["::name"]),y(this.prototype,e)]):C(".function",this.name||"<anonymous>")},"::send":function(e){if(Array.isArray(e)){var r=e["::objinsert"];if(void 0!==r){var t=e.slice(0);return t.splice(r,r,e),this.apply(this,t)}return this.apply(this,e)}return this(e)}};[[Number,L],[String,R],[Boolean,M],[Array,I],[RegExp,F],[Function,z],[Object,T]].map(function(e){u(e[1]).map(function(r){e[0].prototype[r[0]]||Object.defineProperty(e[0].prototype,r[0],{enumerate:!1,value:r[1],writable:!0})})}),e.___build_array=r,e.___hasprop=t,e.___serialize_ast=o,e.___match_error=n,e.___extend=i,e.send=a,e.getProperty=d,e.object=v,e.keys=Object.keys,e.items=u,e.enumerate=c,e.zip=s,e.product=l,e.neighbours=h,e.predicate=p,e.__equal____equal__=_,e.equal=_,e.__bang____equal__=f,e.nequal=f,e.__in__=function(e,r){return g(r,e)},e.contains=g,x.withState=x.create=function(e){return e=w({depth:0,seen:new Map,refid:1},e),m(e)},e.repr=x,e.__amp____colon__=b,e.__amp__=w,e.clone=k,E["::egclass"]=!0,E["::name"]="range",E.prototype[Symbol.iterator]=function(){var e=this,r=e.start;return{next:function(){if(r>=e.end+1)return{value:void 0,done:!0};var t={value:r,done:!1};return r++,t}}},E.prototype.toArray=function(){for(var e=[],r=this.start;r<=this.end;r++)e.push(r);return e},E.prototype["::check"]=function(e){return e>=this.start&&e<=this.end},E.prototype["::contains"]=function(e){return e>=this.start&&e<=this.end},e.range=E,e.getChecker=A,e.getProjector=S,e.consume=P,e.take=P,e.promisify=j,e.spawn=N,e.ErrorFactory=O,O.prototype.createFrom=function(e){var r=this.create.apply(this,[].slice.call(arguments,1));return Error.captureStackTrace&&Error.captureStackTrace(r,e),r},O.prototype.create=function(e){var r=Error(e);return r["::tags"]=this.tags,r.args=[].slice.call(arguments,1),c(r.args).forEach(function(e){r[e[0]]=e[1]}),r.length=r.args.length,r.name=["E"].concat(this.tags).join("."),Error.captureStackTrace&&Error.captureStackTrace(r,O.prototype.create),r},O.prototype["::check"]=function(e){if(!(e&&e instanceof Error))return!1;for(var r=e["::tags"]||[],t=0;t<this.tags.length;t++)if(-1===r.indexOf(this.tags[t]))return!1;return!0},q["::egclass"]=!0,q["::name"]="ENode",e.ENode=q,q.fromObject=function(e){return e&&"object"==typeof e&&e.tags&&e.props&&e.children?q(e.tags,e.props,q.fromObject(e.children)):Array.isArray(e)?e.map(q.fromObject):e},q.prototype["::check"]=function(e){if(!(e instanceof q))return!1;for(var r=0;r<this.tags.length;r++)if(-1===e.tags.indexOf(this.tags[r]))return!1;for(var r=0;r<this.children.length;r++)if(f(e.children[r],this.children[r]))return!1;for(var t in this.props)if(f(e.props[t],this.props[t]))return!1;return!0},q.prototype[":::project"]=function(e){return this["::check"](e)?[!0,[e.tags,e.props,e.children]]:[!1,null]},q.prototype["::repr"]=function(e){return this},q.prototype.hasTag=function(e){return-1!==this.tags.indexOf(e)},q.prototype.concat=function(e){return q([],{},[this,e])},q.prototype.join=function(e){if(void 0===e)return this;for(var r=[],t=0;t<this.children.length;t++)t>0&&r.push(e),r.push(this.children[t]);return q(this.tags,this.props,r)},q.prototype.toString=function(){return this.children.map(function(e){return String(e)}).join("")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,r,t){!function(e,t,o){"use strict";function n(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function i(e){return"function"==typeof e}function a(e,r,t){e&&!sr(e=t?e:e[he],Rr)&&Pr(e,Rr,r)}function d(e){return Ze.call(e).slice(8,-1)}function v(e){var r,t;return e==o?e===o?"Undefined":"Null":"string"==typeof(t=(r=Ee(e))[Rr])?t:d(r)}function u(){for(var e=C(this),r=arguments.length,t=Ae(r),o=0,n=Qr._,i=!1;r>o;)(t[o]=arguments[o++])===n&&(i=!0);return function(){var o,a=this,d=arguments.length,v=0,u=0;if(!i&&!d)return s(e,t,a);if(o=t.slice(),i)for(;r>v;v++)o[v]===n&&(o[v]=arguments[u++]);for(;d>u;)o.push(arguments[u++]);return s(e,o,a)}}function c(e,r,t){if(C(e),~t&&r===o)return e;switch(t){case 1:return function(t){return e.call(r,t)};case 2:return function(t,o){return e.call(r,t,o)};case 3:return function(t,o,n){return e.call(r,t,o,n)}}return function(){return e.apply(r,arguments)}}function s(e,r,t){var n=t===o;switch(0|r.length){case 0:return n?e():e.call(t);case 1:return n?e(r[0]):e.call(t,r[0]);case 2:return n?e(r[0],r[1]):e.call(t,r[0],r[1]);case 3:return n?e(r[0],r[1],r[2]):e.call(t,r[0],r[1],r[2]);case 4:return n?e(r[0],r[1],r[2],r[3]):e.call(t,r[0],r[1],r[2],r[3]);case 5:return n?e(r[0],r[1],r[2],r[3],r[4]):e.call(t,r[0],r[1],r[2],r[3],r[4])}return e.apply(t,r)}function l(e,r){var t=C(arguments.length<3?e:arguments[2])[he],o=tr(n(t)?t:Je),i=rr.call(e,o,r);return n(i)?i:o}function h(e){return lr(O(e))}function p(e){return e}function _(){return this}function f(e,r){return sr(e,r)?e[r]:void 0}function g(e){return q(e),ur?vr(e).concat(ur(e)):vr(e)}function y(e,r){for(var t,o=h(e),n=dr(o),i=n.length,a=0;i>a;)if(o[t=n[a++]]===r)return t}function m(e){return Se(e).split(",")}function x(e){var r=1==e,t=2==e,n=3==e,i=4==e,a=6==e,d=5==e||a;return function(v){for(var u,s,l=Ee(O(this)),h=arguments[1],p=lr(l),_=c(v,h,3),f=A(p.length),g=0,y=r?Ae(f):t?[]:o;f>g;g++)if((d||g in p)&&(u=p[g],s=_(u,g,l),e))if(r)y[g]=s;else if(s)switch(e){case 3:return!0;case 5:return u;case 6:return g;case 2:y.push(u)}else if(i)return!1;return a?-1:n||i?i:y}}function b(e){return function(r){var t=h(this),o=A(t.length),n=S(arguments[1],o);if(e&&r!=r){for(;o>n;n++)if(k(t[n]))return e||n}else for(;o>n;n++)if((e||n in t)&&t[n]===r)return e||n;return!e&&-1}}function w(e,r){return"function"==typeof e?e:r}function k(e){return e!=e}function E(e){return isNaN(e)?0:Er(e)}function A(e){return e>0?wr(E(e),fr):0}function S(e,r){var e=E(e);return 0>e?br(e+r,0):wr(e,r)}function P(e,r,t){var o=n(r)?function(e){return r[e]}:r;return function(r){return Se(t?r:this).replace(e,o)}}function j(e){return function(r){var t,n,i=Se(O(this)),a=E(r),d=i.length;return 0>a||a>=d?e?"":o:(t=i.charCodeAt(a),55296>t||t>56319||a+1===d||(n=i.charCodeAt(a+1))<56320||n>57343?e?i.charAt(a):t:e?i.slice(a,a+2):(t-55296<<10)+(n-56320)+65536)}}function N(e,r,t){if(!e)throw Me(t?r+t:r)}function O(e){if(e==o)throw Me("Function called on null or undefined");return e}function C(e){return N(i(e),e," is not a function!"),e}function q(e){return N(n(e),e," is not an object!"),e}function L(e,r,t){N(e instanceof r,t,": use the 'new' operator!")}function R(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}function M(e,r,t){return e[r]=t,e}function T(e){return Ar?function(r,t,o){return ir(r,t,R(e,o))}:M}function I(e){return ue+"("+e+")_"+(++Sr+kr())[_e](36)}function F(e,r){return Le&&Le[e]||(r?Le:Nr)(ue+Ke+e)}function z(e,r){for(var t in r)Pr(e,t,r[t]);return e}function $(e){(t||!Xe(e))&&ir(e,qr,{configurable:!0,get:_})}function D(e,r){Pr(e,Lr,r),Mr&&Pr(e,xe,r)}function W(e,r,t,o){e[he]=tr(o||$r,{next:R(1,t)}),a(e,r+" Iterator")}function B(e,r,o,n){var i=e[he],d=f(i,Lr)||f(i,xe)||n&&f(i,n)||o;if(t&&(D(i,d),d!==o)){var v=or(d.call(new e));a(v,r+" Iterator",!0),sr(i,xe)&&D(v,_)}return zr[r]=d,zr[r+" Iterator"]=_,d}function G(e,r,t,o,n,i){function a(e){return function(){return new t(this,e)}}W(t,r,o);var d=a(Ir+Fr),v=a(Fr);n==Fr?v=B(e,r,v,"values"):d=B(e,r,d,"entries"),n&&Y(Kr+Jr*Wr,r,{entries:d,keys:i?v:a(Ir),values:v})}function H(e,r){return{value:r,done:!!e}}function Q(r){var t=Ee(r),o=e[ue],n=(o&&o[me]||xe)in t;return n||Lr in t||sr(zr,v(t))}function U(r){var t=e[ue],o=r[t&&t[me]||xe],n=o||r[Lr]||zr[v(r)];return q(n.call(r))}function J(e,r,t){return t?s(e,r):e(r)}function V(e,r,t,o){for(var n,i=U(e),a=c(t,o,r?2:1);!(n=i.next()).done;)if(J(a,n.value,r)===!1)return}function Y(r,o,n){var a,d,v,u,s=r&Vr,l=s?e:r&Yr?e[o]:(e[o]||Je)[he],h=s?Hr:Hr[o]||(Hr[o]={});s&&(n=o);for(a in n)d=!(r&Jr)&&l&&a in l&&(!i(l[a])||Xe(l[a])),v=(d?l:n)[a],t||!s||i(l[a])?r&Xr&&d?u=c(v,e):r&Zr&&!t&&l[a]==v?(u=function(e){return this instanceof v?new v(e):v(e)},u[he]=v[he]):u=r&Kr&&i(v)?c(er,v):v:u=n[a],t&&l&&!d&&(s||r&et?l[a]=v:delete l[a]&&Pr(l,a,v)),h[a]!=v&&Pr(h,a,u)}var K,X="Object",Z="Function",ee="Array",re="String",te="Number",oe="RegExp",ne="Date",ie="Map",ae="Set",de="WeakMap",ve="WeakSet",ue="Symbol",ce="Promise",se="Math",le="Arguments",he="prototype",pe="constructor",_e="toString",fe=_e+"Tag",ge="hasOwnProperty",ye="forEach",me="iterator",xe="@@"+me,be="process",we="createElement",ke=e[Z],Ee=e[X],Ae=e[ee],Se=e[re],Pe=e[te],je=e[oe],Ne=(e[ne],e[ie]),Oe=e[ae],Ce=e[de],qe=e[ve],Le=e[ue],Re=e[se],Me=e.TypeError,Te=e.RangeError,Ie=e.setTimeout,Fe=e.setImmediate,ze=e.clearImmediate,$e=e.parseInt,De=e.isFinite,We=e[be],Be=We&&We.nextTick,Ge=e.document,He=Ge&&Ge.documentElement,Qe=(e.navigator,e.define),Ue=Ae[he],Je=Ee[he],Ve=ke[he],Ye=1/0,Ke=".",Xe=c(/./.test,/\[native code\]\s*\}\s*$/,1),Ze=Je[_e],er=Ve.call,rr=Ve.apply,tr=Ee.create,or=Ee.getPrototypeOf,nr=Ee.setPrototypeOf,ir=Ee.defineProperty,ar=(Ee.defineProperties,Ee.getOwnPropertyDescriptor),dr=Ee.keys,vr=Ee.getOwnPropertyNames,ur=Ee.getOwnPropertySymbols,cr=Ee.isFrozen,sr=c(er,Je[ge],2),lr=Ee,hr=Ee.assign||function(e,r){for(var t=Ee(O(e)),o=arguments.length,n=1;o>n;)for(var i,a=lr(arguments[n++]),d=dr(a),v=d.length,u=0;v>u;)t[i=d[u++]]=a[i];return t},pr=Ue.push,_r=(Ue.unshift,Ue.slice,Ue.splice,Ue.indexOf,Ue[ye]),fr=9007199254740991,gr=Re.pow,yr=Re.abs,mr=Re.ceil,xr=Re.floor,br=Re.max,wr=Re.min,kr=Re.random,Er=Re.trunc||function(e){return(e>0?xr:mr)(e)},Ar=!!function(){try{return 2==ir({},"a",{get:function(){return 2}}).a}catch(e){}}(),Sr=0,Pr=T(1),jr=Le?M:Pr,Nr=Le||I,Or=F("unscopables"),Cr=Ue[Or]||{},qr=F("species"),Lr=F(me),Rr=F(fe),Mr=xe in Ue,Tr=Nr("iter"),Ir=1,Fr=2,zr={},$r={},Dr=Lr in Ue,Wr="keys"in Ue&&!("next"in[].keys());D($r,_);var Br,Gr=d(We)==be,Hr={},Qr=t?e:Hr,Ur=e.core,Jr=1,Vr=2,Yr=4,Kr=8,Xr=16,Zr=32,et=64;"undefined"!=typeof r&&r.exports?r.exports=Hr:i(Qe)&&Qe.amd?Qe(function(){return Hr}):Br=!0,(Br||t)&&(Hr.noConflict=function(){return e.core=Ur,Hr},e.core=Hr),!function(e,r,t,o){Xe(Le)||(Le=function(r){N(!(this instanceof Le),ue+" is not a "+pe);var n=I(r),i=jr(tr(Le[he]),e,n);return t[n]=i,Ar&&o&&ir(Je,n,{configurable:!0,set:function(e){Pr(this,n,e)}}),i},Pr(Le[he],_e,function(){return this[e]})),Y(Vr+Zr,{Symbol:Le});var n={"for":function(e){return sr(r,e+="")?r[e]:r[e]=Le(e)},iterator:Lr,keyFor:u.call(y,r),species:qr,toStringTag:Rr=F(fe,!0),unscopables:Or,pure:Nr,set:jr,useSetter:function(){o=!0},useSimple:function(){o=!1}};_r.call(m("hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive"),function(e){n[e]=F(e)}),Y(Yr,ue,n),a(Le,ue),Y(Yr+Jr*!Xe(Le),X,{getOwnPropertyNames:function(e){for(var r,o=vr(h(e)),n=[],i=0;o.length>i;)sr(t,r=o[i++])||n.push(r);return n},getOwnPropertySymbols:function(e){for(var r,o=vr(h(e)),n=[],i=0;o.length>i;)sr(t,r=o[i++])&&n.push(t[r]);return n}})}(Nr("tag"),{},{},!0),!function(r){var o={assign:hr,is:function(e,r){return e===r?0!==e||1/e===1/r:e!=e&&r!=r}};"__proto__"in Je&&function(e,r){try{r=c(er,ar(Je,"__proto__").set,2),r({},Ue)}catch(t){e=!0}o.setPrototypeOf=nr=nr||function(t,o){return q(t),N(null===o||n(o),o,": can't set as prototype!"),e?t.__proto__=o:r(t,o),t}}(),Y(Yr,X,o),t&&(r[Rr]=Ke,d(r)!=Ke&&Pr(Je,_e,function(){return"[object "+v(this)+"]"})),a(Re,se,!0),a(e.JSON,"JSON",!0)}({}),!function(){function e(e,r){var t=Ee[e],o=Hr[X][e],i=0,a={};if(!o||Xe(o)){a[e]=1==r?function(e){return n(e)?t(e):e}:2==r?function(e){return n(e)?t(e):!0}:3==r?function(e){return n(e)?t(e):!1}:4==r?function(e,r){return t(h(e),r)}:function(e){return t(h(e))};try{t(Ke)}catch(d){i=1}Y(Yr+Jr*i,X,a)}}e("freeze",1),e("seal",1),e("preventExtensions",1),e("isFrozen",2),e("isSealed",2),e("isExtensible",3),e("getOwnPropertyDescriptor",4),e("getPrototypeOf"),e("keys"),e("getOwnPropertyNames")}(),!function(e){e in Ve||ir(Ve,e,{configurable:!0,get:function(){var r=Se(this).match(/^\s*function ([^ (]*)/),t=r?r[1]:"";return sr(this,e)||ir(this,e,R(5,t)),t},set:function(r){sr(this,e)||ir(this,e,R(0,r))}})}("name"),Pe("0o1")&&Pe("0b1")||function(r,t){function o(e){if(n(e)&&(e=a(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var r=!1;switch(e.charCodeAt(1)){case 66:case 98:r=!0;case 79:case 111:return $e(e.slice(2),r?2:8)}}return+e}function a(e){var r,t;if(i(r=e.valueOf)&&!n(t=r.call(e)))return t;if(i(r=e[_e])&&!n(t=r.call(e)))return t;throw Me("Can't convert object to number")}Pe=function d(e){return this instanceof d?new r(o(e)):o(e)},_r.call(Ar?vr(r):m("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY"),function(e){e in Pe||ir(Pe,e,ar(r,e))}),Pe[he]=t,t[pe]=Pe,Pr(e,te,Pe)}(Pe,Pe[he]),!function(e){Y(Yr,te,{EPSILON:gr(2,-52),isFinite:function(e){return"number"==typeof e&&De(e)},isInteger:e,isNaN:k,isSafeInteger:function(r){return e(r)&&yr(r)<=fr},MAX_SAFE_INTEGER:fr,MIN_SAFE_INTEGER:-fr,parseFloat:parseFloat,parseInt:$e})}(Pe.isInteger||function(e){return!n(e)&&De(e)&&xr(e)===e}),!function(){function e(r){return De(r=+r)&&0!=r?0>r?-e(-r):n(r+i(r*r+1)):r}function r(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:o(e)-1}var t=Re.E,o=Re.exp,n=Re.log,i=Re.sqrt,a=Re.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1};Y(Yr,se,{acosh:function(e){return(e=+e)<1?0/0:De(e)?n(e/t+i(e+1)*i(e-1)/t)+1:e},asinh:e,atanh:function(e){return 0==(e=+e)?e:n((1+e)/(1-e))/2},cbrt:function(e){return a(e=+e)*gr(yr(e),1/3)},clz32:function(e){return(e>>>=0)?32-e[_e](2).length:32},cosh:function(e){return(o(e=+e)+o(-e))/2},expm1:r,fround:function(e){return new Float32Array([e])[0]},hypot:function(e,r){for(var t,o=0,n=arguments.length,a=n,d=Ae(n),v=-Ye;n--;){if(t=d[n]=+arguments[n],t==Ye||t==-Ye)return Ye;t>v&&(v=t)}for(v=t||1;a--;)o+=gr(d[a]/v,2);return v*i(o)},imul:function(e,r){var t=65535,o=+e,n=+r,i=t&o,a=t&n;return 0|i*a+((t&o>>>16)*a+i*(t&n>>>16)<<16>>>0)},log1p:function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:n(1+e)},log10:function(e){return n(e)/Re.LN10},log2:function(e){return n(e)/Re.LN2},sign:a,sinh:function(e){return yr(e=+e)<1?(r(e)-r(-e))/2:(o(e-1)-o(-e-1))*(t/2)},tanh:function(e){var t=r(e=+e),n=r(-e);return t==Ye?1:n==Ye?-1:(t-n)/(o(e)+o(-e))},trunc:Er})}(),!function(e){function r(e){if(d(e)==oe)throw Me()}Y(Yr,re,{fromCodePoint:function(r){for(var t,o=[],n=arguments.length,i=0;n>i;){if(t=+arguments[i++],S(t,1114111)!==t)throw Te(t+" is not a valid code point");o.push(65536>t?e(t):e(((t-=65536)>>10)+55296,t%1024+56320))}return o.join("")},raw:function(e){for(var r=h(e.raw),t=A(r.length),o=arguments.length,n=[],i=0;t>i;)n.push(Se(r[i++])),o>i&&n.push(Se(arguments[i]));return n.join("")}}),Y(Kr,re,{codePointAt:j(!1),endsWith:function(e){r(e);var t=Se(O(this)),n=arguments[1],i=A(t.length),a=n===o?i:wr(A(n),i);return e+="",t.slice(a-e.length,a)===e},includes:function(e){return r(e),!!~Se(O(this)).indexOf(e,arguments[1])},repeat:function(e){var r=Se(O(this)),t="",o=E(e);if(0>o||o==Ye)throw Te("Count can't be negative");for(;o>0;(o>>>=1)&&(r+=r))1&o&&(t+=r);return t},startsWith:function(e){r(e);var t=Se(O(this)),o=A(wr(arguments[1],t.length));return e+="",t.slice(o,o+e.length)===e}})}(Se.fromCharCode),!function(){Y(Yr,ee,{from:function(e){var r,t,n,i,a=Ee(O(e)),d=arguments[1],v=d!==o,u=v?c(d,arguments[2],2):o,s=0;if(Q(a))for(n=U(a),t=new(w(this,Ae));!(i=n.next()).done;s++)t[s]=v?u(i.value,s):i.value;else for(t=new(w(this,Ae))(r=A(a.length));r>s;s++)t[s]=v?u(a[s],s):a[s];return t.length=s,t},of:function(){for(var e=0,r=arguments.length,t=new(w(this,Ae))(r);r>e;)t[e]=arguments[e++];return t.length=r,t}}),Y(Kr,ee,{copyWithin:function(e,r){var t=Ee(O(this)),n=A(t.length),i=S(e,n),a=S(r,n),d=arguments[2],v=d===o?n:S(d,n),u=wr(v-a,n-i),c=1;for(i>a&&a+u>i&&(c=-1,a=a+u-1,i=i+u-1);u-->0;)a in t?t[i]=t[a]:delete t[i],i+=c,a+=c;return t},fill:function(e){for(var r=Ee(O(this)),t=A(r.length),n=S(arguments[1],t),i=arguments[2],a=i===o?t:S(i,t);a>n;)r[n++]=e;return r},find:x(5),findIndex:x(6)}),t&&(_r.call(m("find,findIndex,fill,copyWithin,entries,keys,values"),function(e){Cr[e]=!0}),Or in Ue||Pr(Ue,Or,Cr)),$(Ae)}(),!function(e){G(Ae,ee,function(e,r){jr(this,Tr,{o:h(e),i:0,k:r})},function(){var e=this[Tr],r=e.o,t=e.k,n=e.i++;return!r||n>=r.length?(e.o=o,H(1)):t==Ir?H(0,n):t==Fr?H(0,r[n]):H(0,[n,r[n]])},Fr),zr[le]=zr[ee],G(Se,re,function(e){jr(this,Tr,{o:Se(e),i:0})},function(){var r,t=this[Tr],o=t.o,n=t.i;return n>=o.length?H(1):(r=e.call(o,n),t.i+=r.length,H(0,r))})}(j(!0)),!function(r,t){function n(e){return function(){return N(d(this)===oe),e(this)}}Ar&&!function(){try{return"/a/i"==je(/a/g,"i")}catch(e){}}()&&(je=function(e,r){return new t(d(e)==oe&&r!==o?e.source:e,r)},_r.call(vr(t),function(e){e in je||ir(je,e,{configurable:!0,get:function(){return t[e]},set:function(r){t[e]=r}})}),r[pe]=je,je[he]=r,Pr(e,oe,je)),"g"!=/./g.flags&&ir(r,"flags",{configurable:!0,get:n(P(/^.*\/(\w*)$/,"$1",!0))}),_r.call(m("sticky,unicode"),function(e){e in/./||ir(r,e,Ar?{configurable:!0,get:n(function(){return!1})}:R(5,!1))}),$(je)}(je[he],je),i(Fe)&&i(ze)||function(r){function t(e){if(sr(_,e)){var r=_[e];delete _[e],r()}}function o(e){t(e.data)}var n,a,d,v=e.postMessage,l=e.addEventListener,h=e.MessageChannel,p=0,_={};Fe=function(e){for(var r=[],t=1;arguments.length>t;)r.push(arguments[t++]);return _[++p]=function(){s(i(e)?e:ke(e),r)},n(p),p},ze=function(e){delete _[e]},Gr?n=function(e){Be(u.call(t,e))}:l&&i(v)&&!e.importScripts?(n=function(e){v(e,"*")},l("message",o,!1)):i(h)?(a=new h,d=a.port2,a.port1.onmessage=o,n=c(d.postMessage,d,1)):n=Ge&&r in Ge[we]("script")?function(e){He.appendChild(Ge[we]("script"))[r]=function(){He.removeChild(this),t(e)}}:function(e){Ie(t,0,e)}}("onreadystatechange"),Y(Vr+Xr,{setImmediate:Fe,clearImmediate:ze}),!function(e,r){i(e)&&i(e.resolve)&&e.resolve(r=new e(function(){}))==r||function(r,t){function a(e){var r;return n(e)&&(r=e.then),i(r)?r:!1}function d(e){var t=e.chain;t.length&&r(function(){for(var r=e.msg,o=1==e.state,n=0;t.length>n;)!function(e){var t,n,i=o?e.ok:e.fail;try{i?(t=i===!0?r:i(r),t===e.P?e.rej(Me(ce+"-chain cycle")):(n=a(t))?n.call(t,e.res,e.rej):e.res(t)):e.rej(r)}catch(d){e.rej(d)}}(t[n++]);t.length=0})}function v(e){var r,t,o=this;if(!o.done){o.done=!0,o=o.def||o;try{(r=a(e))?(t={def:o,done:!1},r.call(e,c(v,t,1),c(u,t,1))):(o.msg=e,o.state=1,d(o))}catch(n){u.call(t||{def:o,done:!1},n)}}}function u(e){var r=this;r.done||(r.done=!0,r=r.def||r,r.msg=e,r.state=2,d(r))}function s(e){var r=q(e)[qr];return r!=o?r:e}e=function(r){C(r),L(this,e,ce);var n={chain:[],state:0,done:!1,msg:o};Pr(this,t,n);try{r(c(v,n,1),c(u,n,1))}catch(i){u.call(n,i)}},z(e[he],{then:function(r,n){var a=q(q(this)[pe])[qr],v={ok:i(r)?r:!0,fail:i(n)?n:!1},u=v.P=new(a!=o?a:e)(function(e,r){v.res=C(e),v.rej=C(r)}),c=this[t];return c.chain.push(v),c.state&&d(c),u},"catch":function(e){return this.then(o,e)}}),z(e,{all:function(e){var r=s(this),t=[];return new r(function(o,n){V(e,!1,pr,t);var i=t.length,a=Ae(i);i?_r.call(t,function(e,t){r.resolve(e).then(function(e){a[t]=e,--i||o(a)},n)}):o(a)})},race:function(e){var r=s(this);return new r(function(t,o){V(e,!1,function(e){r.resolve(e).then(t,o)})})},reject:function(e){return new(s(this))(function(r,t){t(e)})},resolve:function(e){return n(e)&&t in e&&or(e)===this[he]?e:new(s(this))(function(r,t){r(e)})}})}(Be||Fe,Nr("def")),a(e,ce),$(e),Y(Vr+Jr*!Xe(e),{Promise:e})}(e[ce]),!function(){function e(e,r,n,i,d,v){function u(e,r){return r!=o&&V(r,d,e[h],e),e}function c(e,r){var o=p[e];t&&(p[e]=function(e,t){var n=o.call(this,0===e?0:e,t);return r?this:n})}var h=d?"set":"add",p=e&&e[he],m={};if(Xe(e)&&(v||!Wr&&sr(p,ye)&&sr(p,"entries"))){var x,b=e,w=new e,k=w[h](v?{}:-0,1);Dr&&e.length||(e=function(t){return L(this,e,r),u(new b,t)},e[he]=p,t&&(p[pe]=e)),v||w[ye](function(e,r){x=1/r===-Ye}),x&&(c("delete"),c("has"),d&&c("get")),(x||k!==w)&&c(h,!0)}else e=v?function(t){L(this,e,r),jr(this,s,y++),u(this,t)}:function(t){var n=this;L(n,e,r),jr(n,l,tr(null)),jr(n,g,0),jr(n,_,o),jr(n,f,o),u(n,t)},z(z(e[he],n),i),v||ir(e[he],"size",{get:function(){return O(this[g])}});return a(e,r),$(e),m[r]=e,Y(Vr+Zr+Jr*!Xe(e),m),v||G(e,r,function(e,r){jr(this,Tr,{o:e,k:r})},function(){for(var e=this[Tr],r=e.k,t=e.l;t&&t.r;)t=t.p;return e.o&&(e.l=t=t?t.n:e.o[f])?r==Ir?H(0,t.k):r==Fr?H(0,t.v):H(0,[t.k,t.v]):(e.o=o,H(1))},d?Ir+Fr:Fr,!d),e}function r(e,r){if(!n(e))return("string"==typeof e?"S":"P")+e;if(cr(e))return"F";if(!sr(e,s)){if(!r)return"E";Pr(e,s,++y)}return"O"+e[s]}function i(e,t){var o,n=r(t);if("F"!=n)return e[l][n];for(o=e[f];o;o=o.n)if(o.k==t)return o}function d(e,t,n){var a,d,v=i(e,t);return v?v.v=n:(e[_]=v={i:d=r(t,!0),k:t,v:n,p:a=e[_],n:o,r:!1},e[f]||(e[f]=v),a&&(a.n=v),e[g]++,"F"!=d&&(e[l][d]=v)),e}function v(e,r,t){return cr(q(r))?u(e).set(r,t):(sr(r,h)||Pr(r,h,{}),r[h][e[s]]=t),e}function u(e){return e[p]||Pr(e,p,new Ne)[p]}var s=Nr("uid"),l=Nr("O1"),h=Nr("weak"),p=Nr("leak"),_=Nr("last"),f=Nr("first"),g=Ar?Nr("size"):"size",y=0,x={},b={clear:function(){for(var e=this,r=e[l],t=e[f];t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=o),delete r[t.i];e[f]=e[_]=o,e[g]=0},"delete":function(e){var r=this,t=i(r,e);if(t){var o=t.n,n=t.p;delete r[l][t.i],t.r=!0,n&&(n.n=o),o&&(o.p=n),r[f]==t&&(r[f]=o),r[_]==t&&(r[_]=n),r[g]--}return!!t},forEach:function(e){for(var r,t=c(e,arguments[1],3);r=r?r.n:this[f];)for(t(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!i(this,e)}};Ne=e(Ne,ie,{get:function(e){var r=i(this,e);return r&&r.v},set:function(e,r){return d(this,0===e?0:e,r)}},b,!0),Oe=e(Oe,ae,{add:function(e){return d(this,e=0===e?0:e,e)}},b);var w={"delete":function(e){return n(e)?cr(e)?u(this)["delete"](e):sr(e,h)&&sr(e[h],this[s])&&delete e[h][this[s]]:!1},has:function(e){return n(e)?cr(e)?u(this).has(e):sr(e,h)&&sr(e[h],this[s]):!1}};Ce=e(Ce,de,{get:function(e){if(n(e)){if(cr(e))return u(this).get(e);if(sr(e,h))return e[h][this[s]]}},set:function(e,r){return v(this,e,r)}},w,!0,!0),t&&7!=(new Ce).set(Ee.freeze(x),7).get(x)&&_r.call(m("delete,has,get,set"),function(e){var r=Ce[he][e];Ce[he][e]=function(t,o){if(n(t)&&cr(t)){var i=u(this)[e](t,o);return"set"==e?this:i}return r.call(this,t,o)}}),qe=e(qe,ve,{add:function(e){return v(this,e,!0)}},w,!1,!0)}(),!function(){function e(e){var r,t=[];for(r in e)t.push(r);jr(this,Tr,{o:e,a:t,i:0})}function r(e){return function(r){q(r);try{return e.apply(o,arguments),!0}catch(t){return!1}}}function t(e,r){var i,a=arguments.length<3?e:arguments[2],d=ar(q(e),r);return d?sr(d,"value")?d.value:d.get===o?o:d.get.call(a):n(i=or(e))?t(i,r,a):o}function i(e,r,t){var a,d,v=arguments.length<4?e:arguments[3],u=ar(q(e),r);if(!u){if(n(d=or(e)))return i(d,r,t,v);u=R(0)}return sr(u,"value")?u.writable!==!1&&n(v)?(a=ar(v,r)||R(0),a.value=t,ir(v,r,a),!0):!1:u.set===o?!1:(u.set.call(v,t),!0)}W(e,X,function(){var e,r=this[Tr],t=r.a;do if(r.i>=t.length)return H(1);while(!((e=t[r.i++])in r.o));return H(0,e)});var a=Ee.isExtensible||p,d={apply:c(er,rr,3),construct:l,defineProperty:r(ir),deleteProperty:function(e,r){var t=ar(q(e),r);return t&&!t.configurable?!1:delete e[r]},enumerate:function(r){return new e(q(r))},get:t,
getOwnPropertyDescriptor:function(e,r){return ar(q(e),r)},getPrototypeOf:function(e){return or(q(e))},has:function(e,r){return r in e},isExtensible:function(e){return!!a(q(e))},ownKeys:g,preventExtensions:r(Ee.preventExtensions||p),set:i};nr&&(d.setPrototypeOf=function(e,r){return nr(q(e),r),!0}),Y(Vr,{Reflect:{}}),Y(Yr,"Reflect",d)}(),!function(){function e(e){return function(r){var t,o=h(r),n=dr(r),i=n.length,a=0,d=Ae(i);if(e)for(;i>a;)d[a]=[t=n[a++],o[t]];else for(;i>a;)d[a]=o[n[a++]];return d}}Y(Kr,ee,{includes:b(!0)}),Y(Kr,re,{at:j(!0)}),Y(Yr,X,{values:e(!1),entries:e(!0)}),Y(Yr,oe,{escape:P(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(e){function r(e){if(e){var r=e[he];Pr(r,K,r.get),Pr(r,t,r.set),Pr(r,o,r["delete"])}}K=F(e+"Get",!0);var t=F(e+ae,!0),o=F(e+"Delete",!0);Y(Yr,ue,{referenceGet:K,referenceSet:t,referenceDelete:o}),Pr(Ve,K,_),r(Ne),r(Ce)}("reference"),!function(e){function r(r,t){_r.call(m(r),function(r){r in Ue&&(e[r]=c(er,Ue[r],t))})}r("pop,reverse,shift,keys,values,entries",1),r("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),r("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),Y(Yr,ee,e)}({}),!function(e){!t||!e||Lr in e[he]||Pr(e[he],Lr,zr[ee]),zr.NodeList=zr[ee]}(e.NodeList)}("undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),!0)},{}],4:[function(e,r,t){(function(e){!function(e){"use strict";function t(e,r,t,o){return new a(e,r,t||null,o||[])}function o(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(o){return{type:"throw",arg:o}}}function n(){}function i(){}function a(e,r,t,n){function i(r,n){if(v===m)throw new Error("Generator is already running");if(v===x)return s();for(;;){var i=d.delegate;if(i){var a=o(i.iterator[r],i.iterator,n);if("throw"===a.type){d.delegate=null,r="throw",n=a.arg;continue}r="next",n=l;var u=a.arg;if(!u.done)return v=y,u;d[i.resultName]=u.value,d.next=i.nextLoc,d.delegate=null}if("next"===r){if(v===g&&"undefined"!=typeof n)throw new TypeError("attempt to send "+JSON.stringify(n)+" to newborn generator");v===y?d.sent=n:delete d.sent}else if("throw"===r){if(v===g)throw v=x,n;d.dispatchException(n)&&(r="next",n=l)}else"return"===r&&d.abrupt("return",n);v=m;var a=o(e,t,d);if("normal"===a.type){v=d.done?x:y;var u={value:a.arg,done:d.done};if(a.arg!==b)return u;d.delegate&&"next"===r&&(n=l)}else"throw"===a.type&&(v=x,"next"===r?d.dispatchException(a.arg):n=a.arg)}}var a=r?Object.create(r.prototype):this,d=new u(n),v=g;return a.next=i.bind(a,"next"),a["throw"]=i.bind(a,"throw"),a["return"]=i.bind(a,"return"),a}function d(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function v(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function u(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset()}function c(e){if(e){var r=e[p];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var t=-1,o=function n(){for(;++t<e.length;)if(h.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=l,n.done=!0,n};return o.next=o}}return{next:s}}function s(){return{value:l,done:!0}}var l,h=Object.prototype.hasOwnProperty,p="function"==typeof Symbol&&Symbol.iterator||"@@iterator",_="object"==typeof r,f=e.regeneratorRuntime;if(f)return void(_&&(r.exports=f));f=e.regeneratorRuntime=_?r.exports:{},f.wrap=t;var g="suspendedStart",y="suspendedYield",m="executing",x="completed",b={},w=i.prototype=a.prototype;n.prototype=w.constructor=i,i.constructor=n,n.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return r?r===n||"GeneratorFunction"===(r.displayName||r.name):!1},f.mark=function(e){return e.__proto__=i,e.prototype=Object.create(w),e},f.async=function(e,r,n,i){return new Promise(function(a,d){function v(e){var r=o(this,null,e);if("throw"===r.type)return void d(r.arg);var t=r.arg;t.done?a(t.value):Promise.resolve(t.value).then(c,s)}var u=t(e,r,n,i),c=v.bind(u.next),s=v.bind(u["throw"]);c()})},w[p]=function(){return this},w.toString=function(){return"[object Generator]"},f.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function o(){for(;r.length;){var t=r.pop();if(t in e)return o.value=t,o.done=!1,o}return o.done=!0,o}},f.values=c,u.prototype={constructor:u,reset:function(){this.prev=0,this.next=0,this.sent=l,this.done=!1,this.delegate=null,this.tryEntries.forEach(v);for(var e,r=0;h.call(this,e="t"+r)||20>r;++r)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],r=e.completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(e){function r(r,o){return i.type="throw",i.arg=e,t.next=r,!!o}if(this.done)throw e;for(var t=this,o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var a=h.call(n,"catchLoc"),d=h.call(n,"finallyLoc");if(a&&d){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},_findFinallyEntry:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc<=this.prev&&h.call(t,"finallyLoc")&&(t.finallyLoc===e||this.prev<t.finallyLoc))return t}},abrupt:function(e,r){var t=this._findFinallyEntry(),o=t?t.completion:{};return o.type=e,o.arg=r,t?this.next=t.finallyLoc:this.complete(o),b},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&r&&(this.next=r),b},finish:function(e){var r=this._findFinallyEntry(e);return this.complete(r.completion,r.afterLoc)},"catch":function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var o=t.completion;if("throw"===o.type){var n=o.arg;v(t)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,t){return this.delegate={iterator:c(e),resultName:r,nextLoc:t},b}}}("object"==typeof e?e:"object"==typeof window?window:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,r,t){function o(e){function r(e){if("number"==typeof e)return r(Number.prototype);if("string"==typeof e)return r(String.prototype);if(e===!0||e===!1)return r(Boolean.prototype);for(var t=e,o=[];t&&(e===Object||t!==Object);){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];if(!a.match(/^toString|^__|^::/))try{o.push([a,e[a]])}catch(d){o.push([a,d])}}t=Object.getPrototypeOf(t)}return object(o.sort())}return r(e)}r.exports=o},{}],6:[function(e,r,t){"use strict";e("earlgrey-runtime/5");var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0,T=void 0,I=void 0,F=void 0;v=e("opg"),u=getProperty(v,"transferLocation","opg"),c=e("./tools"),s=getProperty(c,"parseSpec","tools"),l=getProperty(c,"makeExtractor","tools"),h=getProperty(c,"extractor","tools"),p=getProperty(c,"raw","tools"),_=getProperty(c,"rawRelative","tools"),f=getProperty(c,"dedent","tools"),g=getProperty(c,"extract","tools"),y=getProperty(c,"collapse","tools"),m=getProperty(c,"statements","tools"),x=getProperty(c,"shed","tools"),b=getProperty(c,"shedAll","tools"),w=getProperty(c,"shedIndent","tools"),k=getProperty(c,"mergeable","tools"),E=e("./doc"),A=getProperty(E,"SeqDocument","./doc"),S=getProperty(E,"MapDocument","./doc"),P=e("./util"),j=getProperty(P,"insertSorted","./util"),N=e("./lang"),O=getProperty(N,"QAst","./lang"),C=getProperty(N,"Text","./lang"),q=getProperty(N,"Oper","./lang"),L=getProperty(N,"Seq","./lang"),R=function(e){return function(r,t){return t._wide?e.call(this,r,t):c.next}},M=function(e){return function(r,t){var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return o=t,___hasprop(o,"x")?d=o.x:___match_error(t),n=r.gen(d),i=p(d).replace(RegExp("\\W","g"),"").toLowerCase(),a=ENode([String(ENode([],{},["h",e]).toString())],{id:i},[n,ENode(["genfor"],{document:"sections"},[[e,n,i]])]),__amp____colon__(a,{block:!0})}},T=function(){var e=void 0,r=void 0,t=void 0;return t=getChecker(T)(this)?this:Object.create(T.prototype),r=arguments,e=r.length,e>=0&&1>=e?t.store=0>=e?Object.create(null):r[0]:___match_error(r,"{@store = Object.create{null}}"),t},T.prototype.eval=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;if(a=this,d=this,i=arguments,n=i.length,n>=1&&3>=n){if(r=i[0],t=1>=n?{}:i[1],o=2>=n?null:i[2],e=__amp____colon__(Object.create(a.store),t),!Object.hasProperty.call(e,r))throw ErrorFactory(["not_in_environment"]).create(r);return send(e,r)}return ___match_error(i,"{key, env = {=}, loc = null}")},T.prototype.setenv=function(e,r){var t=void 0,o=void 0,n=void 0;return o=this,n=this,t=r,void(o.store[e]=t)},T.prototype.fork=function(){var e=void 0,r=void 0;return e=this,r=this,T(Object.create(e.store))},__amp____colon__(T,__amp____colon__((o="BasicEvaluator",n={},n["::name"]=o,n),(i=!0,a={},a["::egclass"]=i,a))),I=function(e){var r=void 0,t=void 0;return e.clearRules(),e.registerRule((r=function(e,r){var t=void 0,o=void 0;return t=r,___hasprop(t,"x")?o=t.x:___match_error(r),c.code(e,o)},t={},t["{\\x}"]=r,t))},F=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,l=void 0,b=void 0,E=void 0,P=void 0,j=void 0,N=void 0,O=void 0,q=void 0,F=void 0,z=void 0,$=void 0,D=void 0,W=void 0,B=void 0,G=void 0,H=void 0,Q=void 0,U=void 0,J=void 0,V=void 0,Y=void 0,K=void 0,X=void 0,Z=void 0,ee=void 0,re=void 0,te=void 0,oe=void 0,ne=void 0,ie=void 0,ae=void 0,de=void 0,ve=void 0,ue=void 0,ce=void 0,se=void 0,le=void 0,he=void 0,pe=void 0,_e=void 0,fe=void 0,ge=void 0,ye=void 0,me=void 0,xe=void 0,be=void 0,we=void 0,ke=void 0,Ee=void 0,Ae=void 0,Se=void 0,Pe=void 0,je=void 0,Ne=void 0,Oe=void 0,Ce=void 0,qe=void 0,Le=void 0;return e.registerDocument({meta:S(),sections:A()}),Le=T(),e.evaluator=Le,e.setenv(__amp____colon__((r={},r.store=function(e,r,t){var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return o=getProjector(x)(r),o[0]&&(n=getProjector(p)(o[1]),n[0])?d=n[1]:___match_error(r),equal(p(t),"dump!")?ENode(["genfrom"],(i={},i.generate=function(r,t){var o=void 0,n=void 0,i=void 0,a=void 0,v=void 0;if(v=send(t,d),void 0===v)return"";a=v,n=[],i=null,o=null;for(var u,c=a.entries()[Symbol.iterator]();!(u=c.next()).done;){o=u.value;var s=void 0;s=o,i=e.gen(s),n.push(i)}return n},i),[]):ENode(["genfor"],__amp____colon__({document:d},(a={},a.create=function(){return A()},a)),[t])},r),__amp____colon__((t={},t.css=function(e,r){var t=void 0,o=void 0;return t=getProjector(x)(r),t[0]?o=t[1]:___match_error(r),ENode(["style","raw"],{},p(o))},t),__amp____colon__((o={},o.html=function(e,r){var t=void 0,o=void 0;return t=getProjector(x)(r),t[0]?o=t[1]:___match_error(r),ENode(["raw"],{},p(o))},o),__amp____colon__((n={},n.js=function(e,r){var t=void 0,o=void 0;return t=getProjector(x)(r),t[0]?o=t[1]:___match_error(r),ENode(["script","raw"],{},p(o))},n),__amp____colon__((i={},i.toc=function(e,r){var t=void 0;return ENode(["genfrom"],(t={},t.generate=function(e,t){var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;a=ENode(["ul",".toc"],{},[]),d=[],v=a,u=-1,n=p(r),o=n,c=""===o||"all"===o?t.sections.entries(e):"below"===n?t.sections.entriesAfter(e):___match_error(n,".below"),i=null;for(var s,l=c[Symbol.iterator]();!(s=l.next()).done;){i=s.value;var h=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0;if(P=i,Array.isArray(P)&&(j=P.length,3===j))if(E=P[0],A=P[1],S=P[2],b=ENode(["a"],{href:String(ENode([],{},["#",S]).toString())},A),w=E,equal(w,u)&&(x=w,!0)||(x=w,equal(u,-1)))u=x,v.children.push(ENode(["li"],{},b));else if(k=E,k>u)m=k,f=ENode(["ul"],{},ENode(["li"],{},b)),v.children.push(f),d.push([u,v]),g=[m,f],h=g,Array.isArray(h)&&(_=h.length,2===_)?(u=h[0],v=h[1]):___match_error(g,"{clvl, cnode}");else if(u>k){for(y=k;u>y;){var N=void 0,O=void 0,C=void 0;C=d.pop(),N=C,Array.isArray(N)&&(O=N.length,2===O)?(u=N[0],v=N[1]):___match_error(C,"{clvl, cnode}")}v.children.push(ENode(["li"],{},b))}else ___match_error(E);else ___match_error(i)}return a},t),[])},i),(a={},a.meta=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;return v=p(r),equal(v,"dump!")?ENode(["genfrom"],(t={},t.generate=function(r,t){var o=void 0,n=void 0,i=void 0;return ENode(["table"],{},(n=[],i=null,o=null,function(){for(var r,a=t.meta.entries()[Symbol.iterator]();!(r=a.next()).done;){o=r.value;var d=void 0,v=void 0,u=void 0,c=void 0;u=o,Array.isArray(u)&&(c=u.length,2===c)?(d=u[0],v=u[1],i=ENode(["tr"],{},[ENode(["td"],{},d),ENode(["td"],{},e.gen(v))]),n.push(i)):___match_error(o)}}(),n))},t),[]):__in__("=",p(r))?(a=h("\\key = \\value"),ENode(["genfor"],{document:"meta"},(n=[],i=null,o=null,function(){for(var e,t=m(r)[Symbol.iterator]();!(e=t.next()).done;){o=e.value;var d=void 0,v=void 0,u=void 0,c=void 0;u=getProjector(a)(o),u[0]&&(c=u[1],___hasprop(c,"key")&&(d=c.key,___hasprop(c,"value")))?(v=c.value,i=[p(d),v],n.push(i)):___match_error(o)}}(),n))):ENode(["genfrom"],(d={},d.generate=function(r,t){var o=void 0,n=void 0,i=void 0,a=void 0;return a=t.meta.get(v),void 0===a?ENode([],{},["No meta information: ",v]).toString():(i=a,getChecker(ENode)(i)&&(n=i,!0)||"string"==typeof i&&(n=i,!0)?n:(o=a,e.gen(o)))},d),[])},a))))))),e.registerMethods(__amp____colon__((d={},d.lit=function(){return this.forkPlug(I)},d),(v={},v.litgen=function(e){return this.lit().gen(e)},v))),e.registerRule(__amp____colon__((u=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0;return t=r,___hasprop(t,"_node")&&(o=t._node,getChecker(L)(o)&&(n=o.length,5===n))?(o[0],u=o[1],c=o[2],s=o[3],o[4]):___match_error(r),i=p(u).replace("[",""),a=e.gen(c),d=p(s).replace("]",""),v=i||d||a.block?ENode([],{},[i,a,d]):a,a.block&&__amp____colon__(v,{block:a.block}),v},l={},l["[\\maybe\\x]"]=u,l),__amp____colon__((b=function(e,r){var t=void 0,o=void 0;return t=r,___hasprop(t,"x")?o=t.x:___match_error(r),c.code(e,o)},E={},E["{\\x}"]=b,E),__amp____colon__((P=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0;t=r,___hasprop(t,"fn")&&(l=t.fn,___hasprop(t,"body"))?h=t.body:___match_error(r),s=!1;try{c=l,d=getProjector(g)(c),d[0]&&(v=d[1],getChecker(L)(v)&&(u=v.length,u>=2&&"J"===v[0]))?(i=v[1],a=Array.prototype.slice.call(v,2),o=e.eval(p(i),{},i.location),s=send(o,[e].concat(a).concat([h]))||""):(n=e.eval(p(l),{},l.location),s=n(e,h)||"")}catch(_){var f=void 0;f=_,s=ENode(["span",".error"],{},String(f))}return s},j={},j["\\fn :: \\maybe\\body"]=P,j),__amp____colon__((N=function(e,r){var t=void 0,o=void 0;return t=r,___hasprop(t,"x")?o=t.x:___match_error(r),ENode(["em"],{},e.gen(o))},O={},O["_ \\x"]=N,O),__amp____colon__((q=function(e,r){var t=void 0,o=void 0;return t=r,___hasprop(t,"x")?o=t.x:___match_error(r),ENode(["strong"],{},e.gen(o))},F={},F["__ \\x"]=q,F),__amp____colon__((z=function(e,r){var t=void 0,o=void 0,n=void 0;return t=r,___hasprop(t,"x")&&(o=getProjector(x)(t.x),o[0])?n=o[1]:___match_error(r),ENode(["code"],{},p(n))},$={},$["` \\x"]=z,$),__amp____colon__((D=function(e,r){var t=void 0,o=void 0,n=void 0;return t=r,___hasprop(t,"x")&&(o=getProjector(x)(t.x),o[0])?n=o[1]:___match_error(r),ENode(["pre"],{},f(_(n).replace(RegExp("^ *\\n",""),"")))},W={},W["\\maybe\\lang & \\x"]=D,W),__amp____colon__((B=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0;return t=r,___hasprop(t,"label")&&(n=t.label,___hasprop(t,"url")&&(o=getProjector(x)(t.url),o[0]))?i=o[1]:___match_error(r),ENode(["a"],{href:e.litgen(i)},e.gen(n))},G={},G["\\label @@ \\url"]=B,G),__amp____colon__((H=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0;return t=r,___hasprop(t,"label")&&(n=t.label,___hasprop(t,"url")&&(o=getProjector(x)(t.url),o[0]))?i=o[1]:___match_error(r),ENode(["img"],{src:e.litgen(i),alt:e.gen(n)},[])},Q={},Q["\\label @@ image : \\url"]=H,Q),__amp____colon__((U=function(e,r){var t=void 0,o=void 0,n=void 0;return t=r,___hasprop(t,"url")&&(o=getProjector(x)(t.url),o[0])?n=o[1]:___match_error(r),ENode(["img"],{src:e.litgen(n)},[])},J={},J["\\url @@ image"]=U,J),__amp____colon__((Y=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,_=void 0,f=void 0,g=void 0,y=void 0,x=void 0,b=void 0,k=void 0,E=void 0;t=r,___hasprop(t,"descr")&&(k=t.descr,___hasprop(t,"contents"))?E=t.contents:___match_error(r),s=e.lit(),l=h("\\key = \\value"),_={},n=[],i=null,o=null;for(var A,S=m(E)[Symbol.iterator]();!(A=S.next()).done;){o=A.value;var P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0;C=getProjector(l)(o),C[0]&&(q=C[1],___hasprop(q,"key")&&(L=getProjector(p)(q.key),L[0]&&(N=L[1],___hasprop(q,"value"))))?(O=q.value,P=s.gen(O),_[N]=P):(j=o,i=j,n.push(i))}f=n,g=nequal(_,{})?ENode([],{},(d=[],v=null,a=null,function(){for(var r,t=f[Symbol.iterator]();!(r=t.next()).done;){a=r.value;var o=void 0;o=a,v=e.gen(o),d.push(v)}}(),d)).join("\n").children:[e.gen(w(E))],y=p(k).split(RegExp("[ +]|(?=\\.|#)","")),x=null,b=[],u=null;for(var R,M=y[Symbol.iterator]();!(R=M.next()).done;){u=R.value;var T=void 0,I=void 0,F=void 0,z=void 0,$=void 0;""===u||(F=getProjector(RegExp("^#(.*)",""))(u),F[0]&&(z=F[1],$=z.length,2===$)?(z[0],I=z[1],x=I):(T=u,b.push(T)))}return x&&(c=x,_.id=c),ENode(b,_,g)},K={},V=getProjector(R)(Y),V[0]?(K["\\descr % \\maybe\\contents"]=V[1],K):___match_error(Y,'requireWide! "\\\\descr % \\\\maybe\\\\contents"{engine, var {=> descr, => contents}}')),__amp____colon__((Z=M(1),ee={},X=getProjector(R)(Z),X[0]?(ee["= \\x"]=X[1],ee):___match_error(Z,'requireWide! "= \\\\x"')),__amp____colon__((te=M(2),oe={},re=getProjector(R)(te),re[0]?(oe["== \\x"]=re[1],oe):___match_error(te,'requireWide! "== \\\\x"')),__amp____colon__((ie=M(3),ae={},ne=getProjector(R)(ie),ne[0]?(ae["=== \\x"]=ne[1],ae):___match_error(ie,'requireWide! "=== \\\\x"')),__amp____colon__((ve=M(4),ue={},de=getProjector(R)(ve),de[0]?(ue["==== \\x"]=de[1],ue):___match_error(ve,'requireWide! "==== \\\\x"')),__amp____colon__((se=M(5),le={},ce=getProjector(R)(se),ce[0]?(le["===== \\x"]=ce[1],le):___match_error(se,'requireWide! "===== \\\\x"')),__amp____colon__((pe=M(6),_e={},he=getProjector(R)(pe),he[0]?(_e["====== \\x"]=he[1],_e):___match_error(pe,'requireWide! "====== \\\\x"')),__amp____colon__((ge=function(e,r){var t=void 0,o=void 0;return t=r,___hasprop(t,"x")?o=t.x:___match_error(r),k("ol",ENode(["li"],{},e.gen(o)))},ye={},fe=getProjector(R)(ge),fe[0]?(ye["# \\x"]=fe[1],ye):___match_error(ge,'requireWide! "# \\\\x"{engine, {=> x}}')),__amp____colon__((xe=function(e,r){var t=void 0,o=void 0;return t=r,___hasprop(t,"x")?o=t.x:___match_error(r),k("ul",ENode(["li"],{},e.gen(o)))},be={},me=getProjector(R)(xe),me[0]?(be["* \\x"]=me[1],be):___match_error(xe,'requireWide! "* \\\\x"{engine, {=> x}}')),__amp____colon__((ke=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return t=r,___hasprop(t,"x")?d=t.x:___match_error(r),a=y("+",d),k("table",ENode(["tr"],{},(n=[],i=null,o=null,function(){for(var r,t=a[Symbol.iterator]();!(r=t.next()).done;){o=r.value;var d=void 0;d=o,i=ENode(["th"],{},e.gen(d)),n.push(i)}}(),n)))},Ee={},we=getProjector(R)(ke),we[0]?(Ee["+ \\x"]=we[1],Ee):___match_error(ke,'requireWide! "+ \\\\x"{engine, {=> x}}')),__amp____colon__((Se=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return t=r,___hasprop(t,"x")?d=t.x:___match_error(r),a=y("|",d),k("table",ENode(["tr"],{},(n=[],i=null,o=null,function(){for(var r,t=a[Symbol.iterator]();!(r=t.next()).done;){o=r.value;var d=void 0;d=o,i=ENode(["td"],{},e.gen(d)),n.push(i)}}(),n)))},Pe={},Ae=getProjector(R)(Se),Ae[0]?(Pe["| \\x"]=Ae[1],Pe):___match_error(Se,'requireWide! "| \\\\x"{engine, {=> x}}')),__amp____colon__((je=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,l=void 0,h=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,b=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0;if(t=r,___hasprop(t,"rule")&&(o=getProjector(x)(t.rule),o[0]&&(n=getProjector(p)(o[1]),n[0]&&(j=n[1],___hasprop(t,"body")&&(i=getProjector(x)(t.body),i[0]&&(a=getProjector(w)(i[1]),a[0])))))?N=a[1]:___match_error(r),P=j,k=getProjector(RegExp("^/(.*)/$",""))(P),k[0]&&(E=k[1],A=E.length,2===A))E[0],b=E[1],e.registerReplace(b,function(){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return d=arguments,a=d.length,a>=0?(i=Array.prototype.slice.call(d,0),n=object((t=[],o=null,r=null,function(){for(var e,n=enumerate(i)[Symbol.iterator]();!(e=n.next()).done;){r=e.value;var a=void 0,d=void 0,v=void 0,u=void 0;v=r,Array.isArray(v)&&(u=v.length,2===u)?(a=v[0],d=v[1],o=[String(ENode([],{},["m",a]).toString()),d],t.push(o)):___match_error(r)}}(),t)),e.fork().setenv(n).gen(N)):___match_error(d,"{*matches}")});else if(k=getProjector(s)(P),k[0]&&(E=k[1],_=E,Array.isArray(E)&&(A=E.length,3===A))){if(f=E[0],S=E[1],g=S,y=S,m=E[2],d=y,d instanceof Array&&"put"===d[0])throw ErrorFactory(["too_general"]).create(j);u=y,Array.isArray(u)&&(c=u.length,2===c&&"eq"===u[0]&&(l=u[1],getChecker(C)(l)&&(h=l.length,1===h)))?(v=l[0],e.setenv(v,N)):e.registerRule(_,function(e,r){return e.fork().setenv(r).gen(N)})}else ___match_error(P,"parseSpec! [spec and {top, match tree, specificity}]");return""},Ne={},Ne["\\rule => \\body"]=je,Ne),{newlineRule:(Oe=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return r=e,a=r,d=r,o=getProjector(g)(d),o[0]&&(n=o[1],getChecker(L)(n)&&(i=n.length,i>=1&&"NL"===n[0]))?(t=Array.prototype.slice.call(n,1),{args:t}):!1},Ce=["NL",["fn",Oe],1],qe=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0;t=r,___hasprop(t,"_node")&&(o=t._node,g=o,getChecker(L)(o)&&(n=o.length,n>=0&&(y=Array.prototype.slice.call(o,0),___hasprop(t,"args"))))?m=t.args:___match_error(r),u=[],c=equal(g.width,"wide"),s=null,l=e.gen.bind(e),h=-3,_=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0;return n=arguments,o=n.length,o>=0&&1>=o?(t=0>=o?!0:n[0],u.push((r=s,e=r,getChecker(ENode(["div"],{},[]))(e)||___hasprop(e,"block")&&(e.block?!0:!1)?s:nequal(r,"")&&c?ENode(["p"],{},s):s)),t?u.push(p(send(y,h))):void 0):___match_error(n,"{addblank = true}")},f=!0,i=null;for(var x,b=m[Symbol.iterator]();!(x=b.next()).done;){i=x.value;var w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0;j=getProjector(l)(i),j[0]?(P=j[1],h+=2,S=P,f?(f=!1,s=S):(A=P,s&&s.merge?(k=s.merge(A),k?(w=k,s=w):(_(),s=A)):(E=P,_(),s=E))):___match_error(i)}return h+=2,s&&_(!1),v=u,Array.isArray(v)&&(d=v.length,1===d)?a=v[0]:__amp____colon__(ENode([],{},u),{block:[!0,Boolean(c)][1]})},[Ce,qe])})))))))))))))))))))))))},d=F,t.basicPlugin=d},{"./doc":7,"./lang":10,"./tools":11,"./util":12,"earlgrey-runtime/5":13,opg:21}],7:[function(e,r,t){"use strict";e("earlgrey-runtime/5");var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0;m=e("./util"),x=getProperty(m,"findInsert","./util"),b=getProperty(m,"insertSorted","./util"),w=getProperty(m,"deleteSorted","./util"),k=function(e,r){var t=void 0,o=void 0;t=null;for(var n,i=zip(e,r)[Symbol.iterator]();!(n=i.next()).done;){t=n.value;var a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0;if(u=t,Array.isArray(u)&&(c=u.length,2===c)){if(s=u[0],a=s,d=s,v=u[1],d>v)return 1;if(v>d)return-1}else ___match_error(t)}return o=e.length,o>r.length?1:o<r.length?-1:0},E=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return t=e,Array.isArray(t)&&(o=t.length,2===o)?(a=t[0],t[1]):___match_error(e),n=r,Array.isArray(n)&&(i=n.length,2===i)?(d=n[0],n[1]):___match_error(r),k(a,d)},A=function(){var e=void 0;return e=getChecker(A)(this)?this:Object.create(A.prototype),e.resetFlags(),e},A.prototype.resetFlags=function(){var e=void 0,r=void 0,t=void 0,o=void 0;return t=this,o=this,r=!1,e=r,t.accessed=e,void(t.modified=e)},__amp____colon__(A,__amp____colon__((o="BasicDocument",n={},n["::name"]=o,n),(i=!0,a={},a["::egclass"]=i,a))),S=___extend(function(){var e=void 0,r=void 0;return r=getChecker(S)(this)?this:Object.create(S.prototype),r.resetFlags(),e=new Map,r.data=e,r},A),S.prototype.register=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;if(d=this,v=this,a=arguments,i=a.length,i>=1){a[0],n=Array.prototype.slice.call(a,1),o=!0,d.modified=o,r=[],t=null,e=null;for(var u,c=n[Symbol.iterator]();!(u=c.next()).done;){e=u.value;var s=void 0,l=void 0,h=void 0,p=void 0;h=e,Array.isArray(h)&&(p=h.length,2===p)?(s=h[0],l=h[1],t=d.data.set(s,l),r.push(t)):___match_error(e)}return r}return ___match_error(a,"{_, *pairs}")},P=function(e){var r=void 0,t=void 0,o=void 0;return t=this,o=this,r=!0,t.accessed=r,t.data.has(e)},S.prototype.has=P,j=function(e){var r=void 0,t=void 0,o=void 0;return t=this,o=this,r=!0,t.accessed=r,t.data.get(e)},S.prototype.get=j,N=function(e,r){var t=void 0,o=void 0,n=void 0;return o=this,n=this,t=!0,o.modified=t,o.data.set(e,r)},S.prototype.set=N,O=function(e){var r=void 0,t=void 0,o=void 0;return t=this,o=this,r=!0,t.modified=r,t.data["delete"](e)},S.prototype["delete"]=O,S.prototype.entries=function(){var e=void 0,r=void 0,t=void 0;return r=this,t=this,e=!0,r.accessed=e,r.data.entries()},__amp____colon__(S,__amp____colon__((d="MapDocument",v={},v["::name"]=d,v),(u=!0,c={},c["::egclass"]=u,c))),C=___extend(function(){var e=void 0,r=void 0;return r=getChecker(C)(this)?this:Object.create(C.prototype),r.resetFlags(),e=[],r.data=e,r},A),C.prototype.register=function(e,r){var t=void 0,o=void 0,n=void 0;return o=this,n=this,t=!0,o.modified=t,void 0===r?w(o.data,[e,r],E):equal(o.data.length,0)||equal(k(e,send(send(o,"data",!0),o.data.length-1)[0]),1)?o.data.push([e,r]):b(o.data,[e,r],E)},q=function(e){var r=void 0,t=void 0;return r=this,t=this,r.register(e,void 0)},C.prototype["delete"]=q,C.prototype.entriesWithPaths=function(){var e=void 0,r=void 0,t=void 0;return r=this,t=this,e=!0,r.accessed=e,r.data.slice()},C.prototype.entries=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0;n=this,i=this,o=!0,n.accessed=o,r=[],t=null,e=null;for(var a,d=n.data[Symbol.iterator]();!(a=d.next()).done;){e=a.value;var v=void 0,u=void 0,c=void 0;u=e,Array.isArray(u)&&(c=u.length,2===c)?(u[0],v=u[1],t=v,r.push(t)):___match_error(e)}return r},C.prototype.entriesBefore=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;i=this,a=this,n=!0,i.accessed=n,t=[],o=null,r=null;for(var d,v=i.data[Symbol.iterator]();!(d=v.next()).done;){r=d.value;var u=void 0,c=void 0,s=void 0,l=void 0;s=r,Array.isArray(s)&&(l=s.length,2===l&&(u=s[0],c=s[1],k(u,e)<0))&&(o=c,t.push(o))}return t},C.prototype.entriesAfter=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;i=this,a=this,n=!0,i.accessed=n,t=[],o=null,r=null;for(var d,v=i.data[Symbol.iterator]();!(d=v.next()).done;){r=d.value;var u=void 0,c=void 0,s=void 0,l=void 0;s=r,Array.isArray(s)&&(l=s.length,2===l&&(u=s[0],c=s[1],k(u,e)>0))&&(o=c,t.push(o))}return t},__amp____colon__(C,__amp____colon__((s="SeqDocument",l={},l["::name"]=s,l),(h=!0,p={},p["::egclass"]=h,p))),_=k,t.comparePaths=_,f=A,t.BasicDocument=f,g=S,t.MapDocument=g,y=C,t.SeqDocument=y},{"./util":12,"earlgrey-runtime/5":13}],8:[function(e,r,t){"use strict";e("earlgrey-runtime/5");var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0,T=void 0,I=void 0,F=void 0,z=void 0,$=void 0,D=void 0,W=void 0;m=e("opg"),x=getProperty(m,"Source","opg"),b=e("./lang"),w=getProperty(b,"parse","./lang"),k=getProperty(b,"QAst","./lang"),E=getProperty(b,"Text","./lang"),A=getProperty(b,"Oper","./lang"),S=getProperty(b,"Seq","./lang"),P=e("./tools"),j=getProperty(P,"makeExtractor","tools"),N=getProperty(P,"normalize","tools"),O=e("./doc"),C=getProperty(O,"SeqDocument","./doc"),q=e("./util"),L=getProperty(q,"insertSorted","./util"),R=getProperty(q,"transform","./util"),M=e("earlgrey-runtime/std/html"),T=e("earlgrey-runtime/std/dom"),I=function(){var e=void 0,r=void 0;return r=getChecker(I)(this)?this:Object.create(I.prototype),e=[],r.dispatch=e,r},I.prototype.handlers=regeneratorRuntime.mark(function B(e){var r,t,o,n,i,a,d,v,u,c,s,l,h=this;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,i=h,a=h,n=e.operator||"",n||console.error("Node lacks an operator key. That may be indicative of a bug."),o=send(send(i,"dispatch",!0),n),void 0!==o){p.next=15;break}return p.abrupt("return",!1);case 15:t=o,r=null,d=t[Symbol.iterator]();case 18:if((v=d.next()).done){p.next=36;break}if(r=v.value,u=void 0,c=void 0,s=void 0,l=void 0,l=r,s=e,c=getProjector(l)(s),!c[0]){p.next=33;break}return u=c[1],p.next=31,[u,l];case 31:p.next=34;break;case 33:case 34:p.next=18;break;case 36:return p.abrupt("return",!1);case 37:case"end":return p.stop()}},B,this)}),I.prototype.register=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0;return s=this,l=this,c=arguments,u=c.length,u>=0?(v=Array.prototype.slice.call(c,0),i=v,a=i.length,1===a&&(d=i[0],getChecker($)(d))?(n=d,e=n.operator,r=s.dispatch[e]=send(send(s,"dispatch",!0),e)||[],L(r,n,function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return t=e,___hasprop(t,"specificity")?(o=t.specificity,i=o,a=o):___match_error(e),n=r,___hasprop(n,"specificity")?d=n.specificity:___match_error(r),a>d?-1:1})):2===a?(t=i[0],o=i[1],s.register($(t,o))):___match_error(v,"{rule, fn}")):___match_error(c,"{*match}")},I.prototype.clone=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;return i=this,a=this,o=I(),n=object((r=[],t=null,e=null,function(){for(var o,n=items(i.dispatch)[Symbol.iterator]();!(o=n.next()).done;){e=o.value;var a=void 0,d=void 0,v=void 0,u=void 0;v=e,Array.isArray(v)&&(u=v.length,2===u)?(a=v[0],d=v[1],t=[a,d.slice(0)],r.push(t)):___match_error(e)}}(),r)),o.dispatch=n,o},__amp____colon__(I,__amp____colon__((o="Dispatcher",n={},n["::name"]=o,n),(i=!0,a={},a["::egclass"]=i,a))),F=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;return v=getChecker(F)(this)?this:Object.create(F.prototype),t=[!0,(r=e,Array.isArray(r)?r:[r])],t[0]?d=t[1]:___match_error(e),o=I(),v.dispatch=o,n={},v.documents=n,i=[],v.regexps=i,a=[],v.methods=a,send(send(v,"plug",!0),d),v},F.prototype.forkPlug=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0;return o=this,n=this,t=arguments,r=t.length,r>=0?(e=Array.prototype.slice.call(t,0),send(send(o.fork(),"plug",!0),e)):___match_error(t,"{*plugins}")},F.prototype.plug=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0;if(n=this,i=this,o=arguments,t=o.length,t>=0){r=Array.prototype.slice.call(o,0),e=null;for(var a,d=r[Symbol.iterator]();!(a=d.next()).done;){e=a.value;var v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0;

h=e,s=h,l=h,c=l,"function"==typeof c?(u=c)(n):___hasprop(c,"installTo")?(v=c.installTo,s.installTo(n)):___match_error(l)}return n}return ___match_error(o,"{*plugins}")},z=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0;return y=this,m=this,r=e,f=r,g=r,l=g,getChecker(E)(l)&&(t=l.length,1===t&&(s=l[0],!0))||getChecker(A)(l)&&(o=l.length,1===o&&(s=l[0],!0))?(n=f.location,i=RegExp("~|\\\\[\\\\~!@#$%^&*_\\-+=<>/?;:.`|(){}\\[\\],.]","g"),f.location.text().replace(i,function(e){var r=void 0;return"~"===e?"":(r=e,r[1])})):(h=g,getChecker(S)(h)&&(p=h.length,p>=0)?(c=Array.prototype.slice.call(h,0),a=function(){var e=void 0,r=void 0,t=void 0,o=void 0;e=null;for(var n,i=y.dispatch.handlers(f)[Symbol.iterator]();!(n=i.next()).done;){e=n.value;var a=void 0,d=void 0,v=void 0,u=void 0,s=void 0,l=void 0,h=void 0;if(l=e,Array.isArray(l)&&(h=l.length,2===h)){if(u=l[0],s=l[1],v={_node:f,_wide:equal(f.width,"wide"),_op:f[2]},d=s.gen(y,__amp__(v,u)),!equal(d,P.next))return a=d}else ___match_error(e)}return ENode([],{},(t=[],o=null,r=null,function(){for(var e,n=c[Symbol.iterator]();!(e=n.next()).done;){r=e.value;var i=void 0;i=r,o=y.gen(i),t.push(o)}}(),t))},d=a()):(u=h,_=h,v=_,getChecker(ENode)(v)||Array.isArray(v)||"string"==typeof _?u:___match_error(g,"x and [ENode? or Array? or String?]")))},F.prototype.gen=z,F.prototype.run=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;return u=this,c=this,i=e,"string"==typeof i?(n=i,u.run(x(n,"<quaint>"))):(getChecker(x)(i)?(o=i,r=w(o),a=u.gen(r)):(t=i,a=u.gen(t)),d=u.documents,v=W(a,d),__amp____colon__(d,{main:v}))},F.prototype.translate=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0;return s=this,l=this,c=arguments,u=c.length,u>=2&&3>=u?(a=c[0],d=c[1],v=2>=u?{}:c[2],t=function(e,r){var t=void 0,n=void 0,i=void 0,a=void 0;if(a=e,"string"==typeof a){i=a,t=null;for(var d,v=enumerate(s.regexps.slice(r))[Symbol.iterator]();!(d=v.next()).done;){var u=function(){t=d.value;var e=void 0,n=void 0,a=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0;if(p=t,Array.isArray(p)&&(_=p.length,2===_&&(c=p[0],f=p[1],Array.isArray(f)&&(g=f.length,2===g))))if(s=f[0],y=f[1],l=y,h=y,"string"==typeof h)i=i.replace(s,l);else{if(u=h,"function"==typeof u&&(v=u,!0)||(v=function(){return l},!0)){e=[],n=0,a=null;e:for(;(a=s.exec(i))&&(e.push(send(i,range(n,a.index-1))),n=a.index+a[0].length,e.push(send(v,a)),__in__("g",s.flags)););return e.push(i.slice(n)),{v:o(e,r+c+1)}}___match_error(h)}else ___match_error(t)}();if("object"==typeof u)return u.v}return i}return n=e},o=function(){var e=void 0,r=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0;if(m=arguments,y=m.length,y>=1&&2>=y){if(f=m[0],g=1>=y?0:m[1],p=f,getChecker(ENode)(p)&&___hasprop(p,"tags")&&(e=p.tags,Array.isArray(e)&&(r=e.length,0===r&&___hasprop(p,"props")&&equal(p.props,{})&&___hasprop(p,"children")&&(h=p.children,!0)))||Array.isArray(p)&&(h=p,!0)){d=function(){var e=void 0,r=void 0,t=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0;return g=arguments,f=g.length,f>=0?(_=Array.prototype.slice.call(g,0),c=_,s=c.length,(u=2===s)&&(l=c[0],"string"==typeof l&&(d=l,h=c[1],"string"==typeof h))?(v=h,["replace",d+v]):u&&(i=c[0],p=c[1],getChecker(ENode)(p)&&___hasprop(p,"tags")&&(e=p.tags,Array.isArray(e)&&(r=e.length,0===r&&___hasprop(p,"props")&&equal(p.props,{})&&___hasprop(p,"children")&&(a=p.children,!0)))||Array.isArray(p)&&(a=p,!0))?["splice"].concat(a):u?(t=c[0],n=c[1],["push",o(n)]):___match_error(_,"{x, y}")):___match_error(g,"{*match}")},v=R(h,d,""),i=[],a=null,n=null;for(var x,b=v[Symbol.iterator]();!(x=b.next()).done;){n=x.value;var w=void 0;w=n,a=t(w,g),i.push(a)}return i}return _=f,getChecker(ENode)(_)&&___hasprop(_,"tags")&&(c=_.tags,___hasprop(_,"props")&&(s=_.props,___hasprop(_,"children")))?(l=_.children,ENode(c,s,o(l))):u=f}return ___match_error(m,"{match, ndone = 0}")},n=s.run(a),e=v.paragraph?ENode(["p"],{},n.main):ENode(["top"],{},n.main),i=N(o(e)),r=d,"enode"===r?i:"text"===r?i.toString():"html"===r?M(i):"dom"===r?T(i):___match_error(r,".dom")):___match_error(c,"{src, format, options = {=}}")},F.prototype.registerMethods=function(e){var r=void 0,t=void 0;return r=this,t=this,r.methods=r.methods.concat(keys(e)),__amp____colon__(this,e)},F.prototype.registerReplace=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0;if(h=this,p=this,l=arguments,s=l.length,s>=0){if(c=Array.prototype.slice.call(l,0),d=c,v=d.length,2===v)return u=d[0],n=u,i=u,a=d[1],"string"==typeof i?h.regexps.push([RegExp(n,"g"),a]):getChecker(RegExp)(i)?h.regexps.push([n,a]):___match_error(i,"RegExp? ");if(1===v){o=d[0],r=[],t=null,e=null;for(var _,f=o[Symbol.iterator]();!(_=f.next()).done;){e=_.value;var g=void 0,y=void 0,m=void 0,x=void 0;m=e,Array.isArray(m)&&(x=m.length,2===x)?(g=m[0],y=m[1],t=h.registerReplace(g,y),r.push(t)):___match_error(e)}return r}return ___match_error(c,"{each {expr, repl}}")}return ___match_error(l,"{*match}")},F.prototype.clearRules=function(){var e=void 0,r=void 0,t=void 0;return r=this,t=this,e=I(),void(r.dispatch=e)},F.prototype.registerRule=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;if(u=this,c=this,v=arguments,d=v.length,d>=0){if(a=Array.prototype.slice.call(v,0),n=a,i=n.length,2===i)return t=n[0],o=n[1],u.dispatch.register(t,o),u;if(1===i){r=n[0],e=null;for(var s,l=items(r)[Symbol.iterator]();!(s=l.next()).done;){e=s.value;var h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0;x=e,Array.isArray(x)&&(b=x.length,2===b)?(y=x[0],m=x[1],f=m,"function"==typeof f?(_=f,u.registerRule(y,_)):Array.isArray(f)&&(g=f.length,2===g)?(h=f[0],p=f[1],u.registerRule(h,p)):___match_error(m)):___match_error(e)}return u}return ___match_error(a,"{rules}")}return ___match_error(v,"{*match}")},F.prototype.registerDocument=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0;if(c=this,s=this,u=arguments,v=u.length,v>=0){if(d=Array.prototype.slice.call(u,0),i=d,a=i.length,2===a)return o=i[0],n=i[1],e=n,c.documents[o]=e,c;if(1===a){t=i[0],r=null;for(var l,h=items(t)[Symbol.iterator]();!(l=h.next()).done;){r=l.value;var p=void 0,_=void 0,f=void 0,g=void 0,y=void 0;g=r,Array.isArray(g)&&(y=g.length,2===y)?(_=g[0],f=g[1],p=f,c.documents[_]=p):___match_error(r)}return c}return ___match_error(d,"{docs}")}return ___match_error(u,"{*match}")},F.prototype.fork=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;d=this,v=this,r=F([]),t=d.dispatch.clone(),r.dispatch=t,o=clone(d.documentMakers),r.documentMakers=o,n=d.evaluator.fork(),r.evaluator=n,i=clone(d.regexps),r.regexps=i,a=clone(d.methods),r.methods=a,e=null;for(var u,c=r.methods[Symbol.iterator]();!(u=c.next()).done;){e=u.value;var s=void 0,l=void 0;l=e,s=send(this,l),r[l]=s}return r},F.prototype.eval=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;return i=this,a=this,n=arguments,o=n.length,o>=2&&3>=o?(e=n[0],r=n[1],t=2>=o?null:n[2],i.evaluator.eval(e,r,t)):___match_error(n,"{text, env, loc = null}")},F.prototype.setenv=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;if(u=this,c=this,v=arguments,d=v.length,d>=0){if(a=Array.prototype.slice.call(v,0),n=a,i=n.length,2===i)return t=n[0],o=n[1],u.evaluator.setenv(t,o),u;if(1===i){r=n[0],e=null;for(var s,l=items(r)[Symbol.iterator]();!(s=l.next()).done;){e=s.value;var h=void 0,p=void 0,_=void 0,f=void 0;_=e,Array.isArray(_)&&(f=_.length,2===f)?(h=_[0],p=_[1],u.setenv(h,p)):___match_error(e)}return u}return ___match_error(a,"{env}")}return ___match_error(v,"{*match}")},__amp____colon__(F,__amp____colon__((d="Engine",v={},v["::name"]=d,v),(u=!0,c={},c["::egclass"]=u,c))),$=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0;return i=getChecker($)(this)?this:Object.create($.prototype),t=getProjector(j)(e),t[0]&&(o=t[1],n=o.length,3===n)?(i.operator=o[0],i.specificity=o[1],i.extractor=o[2]):___match_error(e),i.gen=r,i},D=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0;return n=this,i=this,r=getProjector(n.extractor)(e),r[0]?o=r[1]:___match_error(e),o?(t=o,[!0,t]):[!1,null]},$.prototype[":::project"]=D,__amp____colon__($,__amp____colon__((s="Spec",l={},l["::name"]=s,l),(h=!0,p={},p["::egclass"]=h,p))),W=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;if(c=arguments,u=c.length,u>=2&&3>=u){for(a=c[0],d=c[1],v=2>=u?10:c[2],r=new Set,t=new Map,o=function(e,t,n,i){var a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0;if(a=e,R=a,M=a,getChecker(ENode(["redoc"],{},[]))(M))return h=R.children,d=h,Array.isArray(d)&&(v=d.length,1===v)?p=d[0]:___match_error(h,"{child}"),s=R.props.documents,"function"==typeof s?(c=s,l=c(t)):(u=s,l=__amp__(t,u)),o(p,l,n,i);if(getChecker(ENode(["genfor"],{},[]))(M)){if(m=R.props.document,f=send(t,m),void 0===f&&R.props.create)_=R.props.create(),t[m]=_;else if(void 0===f&&R.props.important)throw ErrorFactory(["no_document"]).create(m);return y=send(t,m),y?!___hasprop(y,"delay")||(y.delay?0:1)?(g=y,g.register.apply(g,[i].concat(R.children)),""):R:""}if(getChecker(ENode(["genfrom"],{},[]))(M))return r.add([R,t,n,i]),"PLACEHOLDER";if(getChecker(ENode)(M)){S=R.tags,P=object((b=[],w=null,x=null,function(){for(var e,r=items(R.props)[Symbol.iterator]();!(e=r.next()).done;)!function(){x=e.value;var r=void 0,n=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;v=x,Array.isArray(v)&&(u=v.length,2===u)?(n=v[0],c=v[1],a=c,d=c,r=function(e){var r=void 0;return r=e,void(N.props[n]=r)},w=[n,o(a,t,r,i.concat([n]))],b.push(w)):___match_error(x)}()}(),b)),E=[],A=null,k=null;for(var T,I=enumerate(R.children)[Symbol.iterator]();!(T=I.next()).done;)!function(){k=T.value;var e=void 0,r=void 0,n=void 0,a=void 0,d=void 0;a=k,Array.isArray(a)&&(d=a.length,2===d)?(r=a[0],n=a[1],e=function(e){var t=void 0;return t=e,void(N.children[r]=t)},A=o(n,t,e,i.concat([r])),E.push(A)):___match_error(k)}();return j=E,N=ENode(S,P,j)}if(Array.isArray(M)){C=[],q=null,O=null;for(var F,z=enumerate(R)[Symbol.iterator]();!(F=z.next()).done;)!function(){O=F.value;var e=void 0,r=void 0,n=void 0,a=void 0,d=void 0;a=O,Array.isArray(a)&&(d=a.length,2===d)?(r=a[0],n=a[1],e=function(e){var t=void 0;return t=e,void(L[r]=t)},q=o(n,t,e,i.concat([r])),C.push(q)):___match_error(O)}();return L=C}return R},e=function(e){return n=e},n=o(ENode([],{},a),d,e,[]),i=0;nequal(r.size,0)&&v>i;){var s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0;f=[r,new Set],s=f,Array.isArray(s)&&(l=s.length,2===l)?(g=s[0],r=s[1]):___match_error(f,"{_forges, forges}"),i+=1,p=[],_=null,h=null;for(var y,m=g[Symbol.iterator]();!(y=m.next()).done;){h=y.value;var x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0;if(C=h,S=C,Array.isArray(C)&&(q=C.length,4===q)){P=C[0],j=C[1],N=C[2],O=C[3],x=null;for(var L,R=items(j)[Symbol.iterator]();!(L=R.next()).done;){x=L.value;var M=void 0,T=void 0,I=void 0;T=x,Array.isArray(T)&&(I=T.length,2===I&&(T[0],M=T[1],M.resetFlags))&&M.resetFlags()}N((b=P.props.generate(O,j),o(b,j,N,O))),w=null;for(var F,z=items(j)[Symbol.iterator]();!(F=z.next()).done;){w=F.value;var $=void 0,D=void 0,W=void 0,B=void 0;if(W=w,Array.isArray(W)&&(B=W.length,2===B&&(W[0],D=W[1],D.modified))){$=null;for(var G,H=(t.get(D)||[])[Symbol.iterator]();!(G=H.next()).done;){$=G.value;var Q=void 0;Q=$,r.add(Q)}t.set(D,[])}}E=[],A=null,k=null;for(var U,J=items(j)[Symbol.iterator]();!(U=J.next()).done;){k=U.value;var V=void 0,Y=void 0,K=void 0;Y=k,Array.isArray(Y)&&(K=Y.length,2===K&&(Y[0],V=Y[1],V.accessed))&&(t.has(V)||t.set(V,[]),A=t.get(V).push(S),E.push(A))}_=E,p.push(_)}else ___match_error(h)}}return n.children[0]}return ___match_error(c,"{x, documents, maxiter = 10}")},_=I,t.Dispatcher=_,f=F,t.Engine=f,g=$,t.Spec=g,y=W,t.processDocuments=y},{"./doc":7,"./lang":10,"./tools":11,"./util":12,"earlgrey-runtime/5":13,"earlgrey-runtime/std/dom":17,"earlgrey-runtime/std/html":18,opg:21}],9:[function(e,r,t){"use strict";e("earlgrey-runtime/5");var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0;f=e("opg"),g=getProperty(f,"Source","opg"),y=getProperty(f,"Location","opg"),m=getProperty(f,"transferLocation","opg"),x=e("./lang"),b=getProperty(x,"parse","./lang"),w=getProperty(x,"QAst","./lang"),k=getProperty(x,"Text","./lang"),E=getProperty(x,"Oper","./lang"),A=getProperty(x,"Seq","./lang"),S=e("./tools"),P=e("./doc"),j=e("./engine"),N=getProperty(j,"Engine","./engine"),O=getProperty(j,"processDocuments","./engine"),C=e("./basic"),q=getProperty(C,"basicPlugin","./basic"),L=function(){var e=void 0,r=void 0,t=void 0;return t=arguments,r=t.length,r>=0?(e=Array.prototype.slice.call(t,0),N([q].concat(e))):___match_error(t,"{*plugins}")},R=function(){var e=void 0,r=void 0,t=void 0,o=void 0;return o=arguments,t=o.length,t>=1&&2>=t?(e=o[0],r=1>=t?{}:o[1],L().translate(e,"enode",r)):___match_error(o,"{text, options = {=}}")},M=function(){var e=void 0,r=void 0,t=void 0,o=void 0;return o=arguments,t=o.length,t>=1&&2>=t?(e=o[0],r=1>=t?{}:o[1],L().translate(e,"html",r)):___match_error(o,"{text, options = {=}}")},o=b,t.parse=o,n=y,t.Location=n,i=g,t.Source=i,a=N,t.Engine=a,d=L,t.create=d,v=R,t.toENode=v,u=M,t.toHTML=u,c=O,t.processDocuments=c,s=S,t.tools=s,l=w,t.QAst=l,h=k,t.Text=h,p=E,t.Oper=p,_=A,t.Seq=_},{"./basic":6,"./doc":7,"./engine":8,"./lang":10,"./tools":11,"earlgrey-runtime/5":13,opg:21}],10:[function(e,r,t){"use strict";e("earlgrey-runtime/5");var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0,T=void 0,I=void 0,F=void 0,z=void 0,$=void 0,D=void 0,W=void 0,B=void 0,G=void 0,H=void 0,Q=void 0,U=void 0,J=void 0,V=void 0,Y=void 0,K=void 0,X=void 0,Z=void 0,ee=void 0,re=void 0,te=void 0,oe=void 0,ne=void 0,ie=void 0,ae=void 0,de=void 0,ve=void 0,ue=void 0,ce=void 0,se=void 0,le=void 0,he=void 0;M=e("opg"),T=getProperty(M,"Source","opg"),I=getProperty(M,"Location","opg"),F=getProperty(M,"transferLocation","opg"),z=getProperty(M,"tokenize","opg"),$=getProperty(z,"Tokenizer","tknz"),D=getProperty(z,"indentTracker","tknz"),W=getProperty(z,"inferLocation","tknz"),B=getProperty(M,"parse","opg"),G=getProperty(B,"Parser","_parse"),H=getProperty(B,"TokenGroups","_parse"),Q=getProperty(B,"PriorityOrder","_parse"),U=$({regexps:[["nl"," *(?:\n *)+"],["ws","[ ~]+"],["op","[!@#$%^&*_\\-+=<>/?;:.`|]+|[(){}\\[\\],.]"],["word","(?:\\\\.|[^\n!@#$%^&*_\\-+=<>/?;:.`|\\[\\](){},. ~])+"],["unknown","."]],post:(o=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;return r=e,d=r,v=r,a=v,___hasprop(a,"type")&&"nl"===a.type?(n=d.token.split("\n"),t=n,Array.isArray(t)&&(o=t.length,o>=1)?(Array.prototype.slice.call(t,0,-1),i=t[o-1]):___match_error(n,"{*, x}"),i.length):-1},n=function(e){return __amp____colon__(e,{wsb:0,wsa:0})},i=function(e,r,t){var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0;return o=e,E=o,A=o,g=[send(t,r-1),send(t,r+1)],n=g,Array.isArray(n)&&(i=n.length,2===i)?(y=n[0],m=n[1]):___match_error(g,"{prev, next}"),w=A,(x=___hasprop(w,"type"))&&"ws"===w.type&&___hasprop(w,"token")?(f=w.token,d=f.length,a=d,y.wsa=a,m.wsb=a,v=E,m.tucked=v,[]):x&&"op"===w.type&&___hasprop(w,"token")&&(k=w.token,u=k,"]"===u||"}"===u||")"===k)?(c=1,y.wsa=c,[E]):x&&"indent"===w.type?(s=y.wsb,y.wsa=s,[E]):x&&"nl"===w.type?(l=1,y.wsa=l,h=1,m.wsb=h,[E]):x&&(b="boundary"===w.type)&&y?(p=1,y.wsa=p,[E]):b&&m?(_=1,m.wsb=_,[E]):[E]},a=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0,T=void 0,F=void 0,z=void 0;if(r=e,F=r,z=r,C=F.tucked,delete F.tucked,q=this.sfx,L=function(e){var r=void 0;return q?(r=C||{type:"sh_ws",token:"",location:I(e.location.source,e.location.start,e.location.start)},[r,e]):[e]},M=z,(R=___hasprop(M,"type"))&&(T=M.type,t=T,"boundary"===t||"ws"===t||"indent"===T))return o=!1,this.sfx=o,[F];if(R&&"nl"===M.type&&___hasprop(M,"token"))return O=M.token,i=!1,this.sfx=i,O.split("\n").length<=2&&(n="sh_nl",F.type=n),[F];if(R&&"dedent"===M.type)return a=!0,this.sfx=a,[F];if(R&&"word"===M.type)return d=!0,this.sfx=d,L(F);if(R&&"op"===M.type&&___hasprop(M,"token")&&(P=M.token,___hasprop(M,"wsb")&&(j=M.wsb,___hasprop(M,"wsa"))))return N=M.wsa,E=!1,g=F.token,p=g,v=p,"("===v||"["===v||"{"===p?(u="open",F.type=u,c=!1,this.sfx=c,L(F)):(_=g,s=_,")"===s||"]"===s||"}"===_?(l="close",F.type=l,h=!0,this.sfx=h,[F]):(f=g,(","===f||":"===f)&&(E=!0),b=[q,j,N],(y=Array.isArray(b))&&(x=b.length,(m=3===x)&&(b[0]?!0:!1)&&0===b[1]&&0===b[2])?A=["sh_ifx",!1,[F]]:m&&(b[0]?!0:!1)&&b[1]>0&&b[2]>0?A=["wi_ifx",!1,[F]]:!m||(b[0]?0:1)||(b[1],0!==b[2])?!m||(b[0]?0:1)||0!==b[1]?m&&!b[0]&&0===b[1]&&0===b[2]?A=["sh_pfx",!1,[F]]:m&&!b[0]&&b[1]>0&&b[2]>0?A=["wi_pfx",!1,[F]]:m&&!b[0]&&(b[1],0===b[2])?A=["sh_pfx",!1,[F]]:m&&!b[0]&&0===b[1]?(b[2],A=[E?"wi_ifx":"wi_pfx",!1,[F]]):A=___match_error(b,"{false?,  0  , _}"):(b[2],A=[E?"wi_ifx":"sh_sfx",!E,[F]]):A=["sh_pfx",!1,L(F)],w=A,Array.isArray(w)&&(k=w.length,3===k)?(F.type=w[0],this.sfx=w[1],S=w[2]):___match_error(A,"{tok.type, this.sfx, get}"),S));throw ErrorFactory(["unknown_token_type"]).create(F.type+" "+F.token)},d=function(e,r,t){return e},[D(o,!0),W,n,i,a,d])}),v=H({sh_pfx:["sh_pfx"],sh_ifx:["sh_ifx"],sh_sfx:["sh_sfx"],wi_pfx:["wi_pfx"],wi_ifx:["wi_ifx"],wi_sfx:["wi_sfx"],sh_ws:["sh_ws"],ws:["ws"],sh_nl:["sh_nl"],nl:["nl"],indent:["indent"],dedent:["dedent"],openp:["open ("],closep:["close )"],opens:["open ["],closes:["close ]"],openb:["open {"],closeb:["close }"],period:["sh_sfx ."],word:["word"],boundary:["boundary"]}),u=1/0,c={indent:{left:240,right:1},dedent:{left:1,right:u},opens:{left:u,right:2},closes:{left:2,right:u},openb:{left:u,right:3},closeb:{left:3,right:u},openp:{left:u,right:4},closep:{left:4,right:u},nl:{left:100,right:100},sh_nl:{left:150,right:150},wi_pfx:{left:u,right:200},wi_ifx:{left:201,right:200},wi_sfx:{left:201,right:u},ws:{left:250,right:250},period:{left:299,right:u},sh_pfx:{left:u,right:300},sh_ifx:{left:301,right:300},sh_sfx:{left:301,right:u},sh_ws:{left:350,right:350},word:{left:1e3,right:1e3},boundary:{left:-1,right:-1}},J=Q(v,c),V=function(){var e=void 0;return e=getChecker(V)(this)?this:Object.create(V.prototype)},V.prototype.raw=function(){var e=void 0,r=void 0,t=void 0;r=this,t=this,e=!1;try{e=r.location.text()}catch(o){var n=void 0;throw n=o,ErrorFactory(["noraw"]).create(ENode([],{},["Cannot get a raw string from ",r,"."]).toString())}return e},__amp____colon__(V,__amp____colon__((s="QAst",l={},l["::name"]=s,l),(h=!0,p={},p["::egclass"]=h,p))),Y=Symbol("text"),K=___extend(function(e){var r=void 0,t=void 0,o=void 0;return o=getChecker(K)(this)?this:Object.create(K.prototype),r=e,o[0]=r,t=1,o.length=t,o},V),X=function(){var e=void 0,r=void 0;return e=this,r=this,K(e[0])},K.prototype["::clone"]=X,Z=function(){var e=void 0,r=void 0;return e=this,r=this,[Y,e[0]]},K.prototype["::serialize"]=Z,__amp____colon__(K,__amp____colon__((_="Text",f={},f["::name"]=_,f),(g=!0,y={},y["::egclass"]=g,y))),ee=Symbol("oper"),re=___extend(function(e){var r=void 0,t=void 0,o=void 0;return o=getChecker(re)(this)?this:Object.create(re.prototype),r=e,o[0]=r,t=1,o.length=t,o},V),te=function(){var e=void 0,r=void 0;return e=this,r=this,re(e[0])},re.prototype["::clone"]=te,oe=function(){var e=void 0,r=void 0;return e=this,r=this,[ee,e[0]]},re.prototype["::serialize"]=oe,__amp____colon__(re,__amp____colon__((m="Oper",x={},x["::name"]=m,x),(b=!0,w={},w["::egclass"]=b,w))),ne=Symbol("seq"),ie=___extend(function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;if(a=getChecker(ie)(this)?this:Object.create(ie.prototype),i=arguments,n=i.length,n>=0){o=Array.prototype.slice.call(i,0),r=a,e=null;for(var d,v=enumerate(o)[Symbol.iterator]();!(d=v.next()).done;){e=d.value;var u=void 0,c=void 0,s=void 0,l=void 0,h=void 0;l=e,Array.isArray(l)&&(h=l.length,2===h)?(c=l[0],s=l[1],u=s,r[c]=u):___match_error(e)}t=o.length,a.length=t}else ___match_error(i,"{*xs}");return a},V),ae=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0;return o=this,n=this,send(ie,(r=[],t=null,e=null,function(){for(var n,i=enumerate(o)[Symbol.iterator]();!(n=i.next()).done;){e=n.value;var a=void 0,d=void 0,v=void 0;d=e,Array.isArray(d)&&(v=d.length,2===v)?(d[0],a=d[1],t=a,r.push(t)):___match_error(e)}}(),r))},ie.prototype["::clone"]=ae,de=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0;return o=this,n=this,[ne,(r=[],t=null,e=null,function(){for(var n,i=enumerate(o)[Symbol.iterator]();!(n=i.next()).done;){e=n.value;var a=void 0,d=void 0,v=void 0;d=e,Array.isArray(d)&&(v=d.length,2===v)?(d[0],a=d[1],t=a,r.push(t)):___match_error(e)}}(),r)]},ie.prototype["::serialize"]=de,__amp____colon__(ie,__amp____colon__((k="Seq",E={},E["::name"]=k,E),(A=!0,S={},S["::egclass"]=A,S))),ve=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0;if(r=e,f=r,g=r,h=g,p=h.length,3===p&&null===h[0]&&(_=h[1],u=_,___hasprop(_,"token")&&(c=_.token,___hasprop(_,"location")&&(s=_.location,___hasprop(_,"type")&&(l=_.type,null===h[2])))))return t=F(K(c),s),__amp____colon__(t,{operatorToken:nequal(l,"word")});if(p>=0){v=Array.prototype.slice.call(h,0),n=[],i=null,o=null;for(var y,m=enumerate(v)[Symbol.iterator]();!(y=m.next()).done;){o=y.value;var x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0,T=void 0,z=void 0,$=void 0,D=void 0,W=void 0;$=o,Array.isArray($)&&(D=$.length,2===D)?(W=$[0],M=W,T=W,z=$[1],R=z,equal(M%2,0)?i=null===R?F(K(""),(x=send(v,M-1),b=send(v,M+1),w=x?x.location.end:b.location.start,k=b?b.location.start:x.location.end,I(x?x.location.source:b.location.source,w,k))):z:(N=I(z.location.source,(E=send(v,M-1))?E.location.end:z.location.start,(A=send(v,M+1))?A.location.start:z.location.end),S=z.type,O="indent"===S?[re("I("),"wide"]:"dedent"===S?[re(")I"),"wide"]:"sh_nl"===S?[re("NL"),"short"]:"nl"===S?[re("NL"),"wide"]:"sh_ws"===S?[re("J"),"short"]:"ws"===S?[re("J"),"wide"]:getChecker(RegExp("^sh_",""))(S)?[re(z.token),"short"]:getChecker(RegExp("^wi_",""))(S)?[re(z.token),"wide"]:[re(z.token),"wide"],P=O,Array.isArray(P)&&(j=P.length,2===j)?(C=P[0],q=P[1]):___match_error(O,"{let rval, width}"),L=q,C.width=L,i=F(C,N)),n.push(i)):___match_error(o)}return a=n,d=F(send(ie,a),I(a[0].location.source,a[0].location.start,send(a,a.length-1).location.end)),__amp____colon__(d,{operator:a[1][0],width:a[1].width}),ue(d)}throw ErrorFactory(["syntax","unknown_node"]).create(f)},ue=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0;return r=e,b=r,w=r,_=w,getChecker(ie)(_)&&(f=_.length,5===f&&(c=_[0],g=_[1],s=g,getChecker(re)(g)&&(y=g.length,1===y&&"I("===g[0]&&(l=_[2],m=_[3],h=m,getChecker(re)(m)&&(x=m.length,1===x&&")I"===m[0])))))?(p=_[4],v=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,u=void 0;return r=e,d=r,u=r,o=u,getChecker(ie)(o)&&(n=o.length,n>=2&&(t=o[0],i=o[1],getChecker(re)(i)&&(a=i.length,1===a&&"NL"===i[0])))?(Array.prototype.slice.call(o,2),v(t)||d):!1},u=v(l),u&&(t=c.location.at_start(),o=t.start,u.location.start=o,n=t.start,b.location.start=n,i=t,s.location=i,a=F(K(""),t),b[0]=a,d=c,u[0]=d),b):b},ce=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0,T=void 0,z=void 0,$=void 0,D=void 0,W=void 0;return r=e,D=r,W=r,q=W,getChecker(ie)(q)&&(L=q.length,5===L&&(R=q[0],S=R,P=R,M=q[1],j=M,getChecker(re)(M)&&(T=M.length,1===T&&"I("===M[0]&&(N=q[2],z=q[3],O=z,getChecker(re)(z)&&($=z.length,1===$&&")I"===z[0])))))?(C=q[4],k=P,getChecker(ie)(k)&&(E=k.length,3===E&&(b=k[0],A=k[1],___hasprop(A,"width")&&"wide"===A.width))?(w=k[2],o=D.location,t=o,___hasprop(t,"source")&&(n=t.source,___hasprop(t,"start")&&(i=t.start,___hasprop(t,"end")))?a=t.end:___match_error(o,"{=> source, => start, => end}"),d=S[2],D[0]=d,v=I(n,w.location.start,a),D.location=v,u=ue(D),S[2]=u,c=I(n,i,a),S.location=c,S):getChecker(K)(k)&&(E=k.length,1===E&&(x=k[0],___hasprop(k,"operatorToken")&&(k.operatorToken?!0:!1)))?(l=D.location,s=l,___hasprop(s,"source")&&(h=s.source,___hasprop(s,"start")&&(p=s.start,___hasprop(s,"end")))?_=s.end:___match_error(l,"{=> source, => start, => end}"),f=F(K(""),S.location.at_end()),D[0]=f,F(D,I(h,S.location.end,_)),g=F(ie(F(K(""),I(h,p,p)),F(__amp____colon__(re(x),{width:"wide"}),S),ue(D)),I(h,p,_)),y=x,g.operator=y,m="wide",g.width=m,g):ue(D)):D},se=G(U,J.getOrder(),ve),le=function(e){return U.run(e)},he=function(e){return se.parse(e)||F(K(""),I(e,0,e.text.length))},P=U,t.tokenizer=P,j=le,t.tokenize=j,N=se,t.parser=N,O=he,t.parse=O,C=V,t.QAst=C,q=K,t.Text=q,L=re,t.Oper=L,R=ie,t.Seq=R},{"earlgrey-runtime/5":13,opg:21}],11:[function(e,r,t){"use strict";e("earlgrey-runtime/5");var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0,T=void 0,I=void 0,F=void 0,z=void 0,$=void 0,D=void 0,W=void 0,B=void 0,G=void 0,H=void 0,Q=void 0,U=void 0,J=void 0,V=void 0;k=e("opg"),E=getProperty(k,"Source","opg"),A=getProperty(k,"Location","opg"),S=e("./lang"),P=getProperty(S,"parse","./lang"),j=getProperty(S,"QAst","./lang"),N=getProperty(S,"Text","./lang"),O=getProperty(S,"Oper","./lang"),C=getProperty(S,"Seq","./lang"),q=Symbol("next"),L=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;if(a=arguments,n=a.length,n>=1&&2>=n){if(i=a[0],r=i,t=i,o=1>=n?function(e){return e}:a[1],getChecker(j)(t))return r.raw();if("string"==typeof t)return o(r);if(getChecker(ENode(["genfrom"],{},[]))(t))return ENode(["genfrom"],(e={},e.generate=function(e,t){return L(r.props.generate(e,t))},e),[]);throw ErrorFactory(["noraw"]).create(String(ENode([],{},["Cannot get a raw string from ",r,"."]).toString()))}return ___match_error(a,"{match x, operate = {x} -> x}")},R=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0;if(r=e,p=r,_=r,h=_,___hasprop(h,"location"))return l=h.location,u=l.linecol(),t=u,Array.isArray(t)&&(o=t.length,2===o&&(n=t[0],Array.isArray(n)&&(i=n.length,2===i)))?(n[0],c=n[1],t[1]):___match_error(u,"{{_, c}, _}"),s=(d=[],v=null,a=null,function(){for(var e,r=range(1,c)[Symbol.iterator]();!(e=r.next()).done;){a=e.value;var t=void 0;t=a,v=" ",d.push(v)}}(),d).join(""),s+l.text();if("string"==typeof _)return p;throw ErrorFactory(["noraw"]).create(String(ENode([],{},["Cannot get a raw string from ",p,"."]).toString()))},M=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;v=e.split("\n"),t=[],o=null,r=null;for(var s,l=v[Symbol.iterator]();!(s=l.next()).done;){r=s.value;var h=void 0,p=void 0,_=void 0,f=void 0;p=getProjector(RegExp("^( *)(?! |$)",""))(r),p[0]&&(_=p[1],f=_.length,2===f)&&(_[0],h=_[1],o=h.length,t.push(o))}u=t,c=send(send(Math,"min",!0),u),i=[],a=null,n=null;for(var g,y=v[Symbol.iterator]();!(g=y.next()).done;){n=g.value;var m=void 0;m=n,a=m.slice(c),i.push(a)}return d=i,d.join("\n")},T=function(e,r){var t=void 0;return ENode(["genfrom"],(t={},t.generate=function(t,o){var n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;c=!1;try{i=o,a={},n=i,a.doc=n,a.documents=n,d=a,u=e.eval(L(r),d,r.location)||"",v=u,c=getChecker(j)(v)?e.gen(u):u}catch(s){var l=void 0;l=s,c=ENode(["span",".error"],{},String(l))}return c},t),[])},I=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0;return c=e,"string"==typeof c?(u=c,t=P(E(u)),o=null,n=0,r=function(e,t){var i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0;return i=e,x=i,b=i,p=b,getChecker(N)(p)&&(_=p.length,1===_&&(f=getProjector(RegExp("^\\\\(?:([^\\\\]*)\\\\)?(.*)$",""))(p[0]),f[0]&&(g=f[1],y=g.length,3===y)))?(g[0],m=g[1],s=m,l=m,h=g[2],"maybe"===l?["put",h,!0]:["put",h,!1]):getChecker(N)(b)?(n+=100,["eq",x]):getChecker(O)(b)?["eq",x]:(p=b,getChecker(C)(p)&&(_=p.length,_>=0&&(u=Array.prototype.slice.call(p,0),___hasprop(p,"operator")))?(c=p.operator,n+=1,o||(o=c),["seq"].concat((d=[],v=null,a=null,function(){for(var e,o=u[Symbol.iterator]();!(e=o.next()).done;){a=e.value;var n=void 0;n=a,v=r(n,t),d.push(v)}}(),d))):___match_error(b,"Seq? {*args} and {=> operator}"))},i=r(t,{shed:!0}),[o,i,n]):(s=c.length,3===s?(a=c[0],d=c[1],v=c[2],[a,d,v]):___match_error(e,"{top, rval, specificity}"))},F=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;return r=getProjector(I)(e),r[0]&&(t=r[1],o=t.length,3===o)?(a=t[0],d=t[1],v=t[2]):___match_error(e),i=function(e,r){var t=void 0,o=void 0,n=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0;if(t=e,m=t,x=t,g=x,y=g.length,y>=2&&3>=y&&"put"===g[0])return _=g[1],f=2>=y?!0:g[2],n=r,getChecker(N)(n)&&(o=n.length,1===o&&""===n[0]&&!f)?!1:function(){var e={};return e[_]=r,e}();if(2===y&&"eq"===g[0])return p=g[1],equal(p,r)?{}:!1;if(y>=1&&"seq"===g[0]){if(h=Array.prototype.slice.call(g,1),s=r,getChecker(C)(s)&&(c=s.length,c>=0&&(u=Array.prototype.slice.call(s,0),equal(h.length,u.length)))){d={},a=null;for(var b,w=zip(h,u)[Symbol.iterator]();!(b=w.next()).done;){a=b.value;var k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0;if(P=a,Array.isArray(P)&&(j=P.length,2===j)){if(A=P[0],S=P[1],E=i(A,S),!E)return!1;k=E,__amp____colon__(d,k)}else ___match_error(a)}return d}return v=s,!1}return 2===y&&"fn"===g[0]?(l=g[1])(r):___match_error(x,"#fn{f}")},n=function(e){return i(d,e)},[a,v,n]},z={},
$=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;if(v=arguments,d=v.length,d>=0){a=Array.prototype.slice.call(v,0),r=[],t=null,e=null;for(var u,c=a[Symbol.iterator]();!(u=c.next()).done;){e=u.value;var s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0;g=e,send(z,g)?(t=send(z,g),r.push(t)):(f=e,h=F(f),s=h,Array.isArray(s)&&(l=s.length,3===l)?(s[0],s[1],p=s[2]):___match_error(h,"{_, _, ex}"),_=p,z[f]=_,t=p,r.push(t))}return o=r,n=function(e){var r=void 0;r=null;for(var t,n=o[Symbol.iterator]();!(t=n.next()).done;){r=t.value;var i=void 0,a=void 0;if(a=r,i=a(e))return i}return!1},i=function(e){var r=void 0,t=void 0;return t=n(e),t===!1?[!1,null]:(r=t,[!0,r])},n[":::project"]=i,n}return ___match_error(v,"{*rules}")},D=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;if(d=e,getChecker(C)(d)&&(v=d.length,v>=0)){a=Array.prototype.slice.call(d,0),t=[],o=null,r=null;for(var u,c=enumerate(a)[Symbol.iterator]();!(u=c.next()).done;){r=u.value;var s=void 0,l=void 0,h=void 0,p=void 0;h=r,Array.isArray(h)&&(p=h.length,2===p&&(s=h[0],l=h[1],equal(s%2,0)))&&(o=l,t.push(o))}return n=t,send(C,[a[1][0]].concat(n))}return i=e},W=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return i=getProjector(D)(r),i[0]&&(a=i[1],getChecker(C)(a)&&(d=a.length,3===d&&a[0]===e))?(o=a[1],n=a[2],[o].concat(W(e,n))):(t=r,[t])},B=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0;if(r=getProjector(Q)(e),r[0]?(t=r[1],s=t,l=t):___match_error(e),d=l,getChecker(C)(d)&&(v=d.length,v>=2&&(d[0],u=d[1],getChecker(O)(u)&&(c=u.length,1===c&&"NL"===u[0])))){Array.prototype.slice.call(d,2),n=[],i=null,o=null;for(var h,p=enumerate(s)[Symbol.iterator]();!(h=p.next()).done;){o=h.value;var _=void 0,f=void 0,g=void 0,y=void 0;g=o,Array.isArray(g)&&(y=g.length,2===y&&(_=g[0],f=g[1],equal(_%2,0)))&&(i=B(f),n.push(i))}return a=n,a.reduce(function(e,r){return e.concat(r)})}return getChecker(N)(d)&&(v=d.length,1===v&&""===d[0])?[]:[s]},G=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0;return f=arguments,_=f.length,_>=1&&2>=_?(h=f[0],p=1>=_?1:f[1],d=h,getChecker(C)(d)&&(v=d.length,5===v&&(d[0],u=d[1],n=u,getChecker(O)(u)&&(c=u.length,1===c&&"["===u[0]&&(i=d[2],s=d[3],a=s,getChecker(O)(s)&&(l=s.length,1===l&&"]"===s[0])))))?(d[4],p>1?G(i,p-1):(e=L(n).split("[").pop(),r=L(a).split("]").shift(),t=i.location,__amp__(i,{location:A(t.source,t.start-e.length,t.end+r.length)}))):o=h):___match_error(f,"{match, n = 1}")},H=function(e){return G(e,1/0)},Q=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0;return r=e,m=r,x=r,h=x,getChecker(C)(h)&&(p=h.length,5===p&&(h[0],_=h[1],getChecker(O)(_)&&(f=_.length,1===f&&"I("===_[0]&&(l=h[2],g=h[3],getChecker(O)(g)&&(y=g.length,1===y&&")I"===g[0])))))?(h[4],c=l,(n=getChecker(C)(c))&&(i=c.length,3===i&&(a=c[0],getChecker(N)(a)&&(d=a.length,1===d&&""===a[0]&&(v=c[1],getChecker(O)(v)&&(u=v.length,1===u&&"NL"===v[0])))))?o=c[2]:n&&i>=2&&(a=c[0],getChecker(N)(a)&&(d=a.length,1===d&&""===a[0]&&(v=c[1],getChecker(O)(v)&&(u=v.length,1===u&&"NL"===v[0]))))?(t=Array.prototype.slice.call(c,2),__amp____colon__(send(C,t),l)):l):s=x},U=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;return v=arguments,d=v.length,d>=2&&3>=d?(n=v[0],i=v[1],a=2>=d?!0:v[2],e=function(e){var r=void 0,t=void 0,o=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0;return r=e,c=r,s=r,d=getProjector(ENode([n],{},[]))(s),d[0]&&(v=d[1],u=v.length,3===u)?(o=v[0],i=v[1],a=v[2],this.children=this.children.concat(a),this):(t=s,!1)},r=ENode([n],{},i),t=a,r.block=t,o=e,r.merge=o,r):___match_error(v,"{tag, child, block = true}")},a="\n      address article aside audio\n      blockquote\n      canvas\n      dd div dl\n      fieldset figcaption figure footer form\n      h1 h2 h3 h4 h5 h6 header hgroup hr\n      main\n      nav noscript\n      ol output\n      p pre\n      section\n      table tfoot\n      ul\n      video\n      html head body link script\n      raw top\n   ",J=object((n=[],i=null,o=null,function(){for(var e,r=a.split(RegExp("[\\n ]+",""))[Symbol.iterator]();!(e=r.next()).done;){o=e.value;var t=void 0;t=o,i=[t,!0],n.push(i)}}(),n)),V=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0;if(r=e,b=r,w=r,g=w,(_=getChecker(ENode)(g))&&(f=___hasprop(g,"tags"))&&(y=g.tags,Array.isArray(y)&&(m=y.length,1===m&&"p"===y[0]&&___hasprop(g,"props")&&equal(g.props,{})&&___hasprop(g,"children")&&(x=g.children,Array.isArray(x)&&(t=x.length,1===t&&getChecker(RegExp("^[\\n ]*$",""))(x[0]))||Array.isArray(x)&&(o=x.length,0===o)))))return"";if(f&&(s=y,l=y,___hasprop(g,"props")&&(m=g.props,equal(m,{})&&(h=m,___hasprop(g,"children"))))){if(p=g.children,a=l,d=a.length,1===d&&"p"===a[0]){i=V(p),n=null;for(var k,E=i[Symbol.iterator]();!(k=E.next()).done;){n=k.value;var A=void 0,S=void 0;if(S=n,getChecker(ENode)(S)&&___hasprop(S,"tags")&&(A=S.tags,A.some(function(e){return send(J,e)})))return i}return ENode(s,h,i)}return ENode(s,h,V(p))}if(Array.isArray(g)){c=g,u=[],v=null;for(var P,j=c[Symbol.iterator]();!(P=j.next()).done;){v=P.value;var N=void 0,O=void 0,C=void 0,q=void 0,L=void 0;L=getProjector(V)(v),L[0]?(q=L[1],C=q,Array.isArray(C)?(O=C,u=u.concat(O)):(N=q,u.push(N))):___match_error(v)}return u}return b},d=q,t.next=d,v=L,t.raw=v,u=R,t.rawRelative=u,c=M,t.dedent=c,s=T,t.code=s,l=I,t.parseSpec=l,h=F,t.makeExtractor=h,p=$,t.extractor=p,_=D,t.extract=_,f=W,t.collapse=f,g=B,t.statements=g,y=G,t.shed=y,m=H,t.shedAll=m,x=Q,t.shedIndent=x,b=U,t.mergeable=b,w=V,t.normalize=w},{"./lang":10,"earlgrey-runtime/5":13,opg:21}],12:[function(e,r,t){"use strict";e("earlgrey-runtime/5");var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0;v=function(e,r,t){var o=void 0,n=void 0;for(o=0,n=e.length-1;n>=o;){var i=void 0,a=void 0;if(a=o+Math.floor((n-o)/2),i=t(send(e,a),r),0>i)o=a+1;else{if(!(i>0))return[a,!0];n=a-1}}return[o,!1]},u=function(e,r,t){var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return i=v(e,r,t),o=i,Array.isArray(o)&&(n=o.length,2===n)?(a=o[0],d=o[1]):___match_error(i,"{idx, replace}"),e.splice(a,d?1:0,r)},c=function(e,r,t){var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0;return i=v(e,r,t),o=i,Array.isArray(o)&&(n=o.length,2===n)?(a=o[0],d=o[1]):___match_error(i,"{idx, replace}"),d?e.splice(a,d?1:0):void 0},s=function(e,r){var t=void 0;return t=function(e,t){var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0;return o=e,v=o,u=o,n=t,c=n,i=getProjector(r)(n),i[0]?s=i[1]:___match_error(t),a=u,d=a.length,0===d?(v.push(s,c),["replace",v]):d>=1&&equal(a[0],s)?(Array.prototype.slice.call(a,1),v.push(c),["replace",v]):["push",[s,c]]},l(e,t,[])},l=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0;if(u=arguments,v=u.length,v>=2&&3>=v){i=u[0],a=u[1],d=2>=v?null:u[2],r=[],t=d,o=!1,n=function(e){var i=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0;if(_=a(t,e),(l=Array.isArray(_))&&(p=_.length,(h=2===p)&&"push"===_[0]))return s=_[1],r.push(t),t=s,o=!0;if(h&&"replace"===_[0])return c=_[1],t=c,o=!0;if(l&&p>=1&&"splice"===_[0]){u=Array.prototype.slice.call(_,1),d=[],v=null,i=null;for(var f,g=u[Symbol.iterator]();!(f=g.next()).done;){i=f.value;var y=void 0;y=i,v=n(y),d.push(v)}return d}return ___match_error(_,"#splice{*[elems each elem]}")},e=null;for(var c,s=i[Symbol.iterator]();!(c=s.next()).done;){e=c.value;var l=void 0;l=e,n(l)}return o&&r.push(t),r}return ___match_error(u,"{xs, control, init = null}")},o=v,t.findInsert=o,n=u,t.insertSorted=n,i=c,t.deleteSorted=i,a=s,t.group=a,d=l,t.transform=d},{"earlgrey-runtime/5":13}],13:[function(e,r,t){arguments[4][1][0].apply(t,arguments)},{"./lib":14,"core-js/shim":15,dup:1,"regenerator/runtime":16}],14:[function(e,r,t){arguments[4][2][0].apply(t,arguments)},{dup:2}],15:[function(e,r,t){arguments[4][3][0].apply(t,arguments)},{dup:3}],16:[function(e,r,t){arguments[4][4][0].apply(t,arguments)},{dup:4}],17:[function(e,r,t){(function(t){function o(e,r,t,o,n){if(null===e)return o instanceof Element?o:document.createTextNode(String(o));if("top"==e&&(e=""),!e&&equal(r,[])&&equal(t,{})){if(1==o.length)return o[0];var i=document.createElement("span");return o.forEach(function(e){i.appendChild(e)}),i}if(e=e||"span",t.namespace)var i=document.createElementNS(t.namespace,e);else var i=document.createElement(e);return t.id&&(i.id=t.id),r.length>0&&(i.className=r.join(" ")),n&&(i.innerHTML=n),items(t).forEach(function(e){e[0].startsWith("on")?i[e[0]]=e[1]:i.setAttribute(e[0],e[1])}),o.forEach(function(e){i.appendChild(e)}),i}function n(e,r){r||(r=o);var t=v(e,r);return Array.isArray(t)&&(t=r("top",[],{},t,null)),t}function i(e,r,t){return Array.isArray(t)||(t=[t]),o.apply(null,u(e,r,t))}function a(e){var r=this.deps.DOMNode;return["multi",["send",["symbol","="],["data",["send",["symbol","let"],["symbol","ENode"]],r]],["send",["symbol","%"],["data",e[1],e[2]]]]}var d=e("../util"),v=d.convertHTML,u=d.normalize;a.__deps={DOMNode:"ENode"},a.__path=t,r.exports=n,n.DOM=n,n.toDOM=o,n.ENode=i,n["%"]=a,n.normalize=u}).call(this,"/node_modules/quaint/node_modules/earlgrey-runtime/std/dom.js")},{"../util":19}],18:[function(e,r,t){(function(t){function o(e){var r={"&":"&amp;","<":"&lt;",">":"&gt;"};return e.replace(/[&<>]/g,function(e){return r[e]})}function n(e){return'"'+e.replace(/["\\]/g,function(e){return"\\"+e})+'"'}function i(e,r,t,i,a){if(null===e)return o(String(i));var d="";"top"==e&&(e=""),equal(r,[])||(t["class"]=r.join(" ")),e||equal(r,[])&&equal(t,{})||(e="span"),e&&(d+="<"+e),items(t).forEach(function(e){d+=" "+e[0]+"="+n(String(e[1]))}),e&&(d+=">");var v=e&&-1==l.indexOf(e);return null!==a?(d+=a,v=!!e):i.length>0&&(i.forEach(function(e){d+=e}),v=!!e),v&&(d+="</"+e+">"),d}function a(e,r){r||(r=i);var t=c(e,r);return Array.isArray(t)&&(t=r("top",[],{},t,null)),t}function d(e,r,t){return Array.isArray(t)||(t=[t]),i.apply(null,s(e,r,t))}function v(e){var r=this.deps.HTMLNode;return["multi",["send",["symbol","="],["data",["send",["symbol","let"],["symbol","ENode"]],r]],["send",["symbol","%"],["data",e[1],e[2]]]]}var u=e("../util"),c=u.convertHTML,s=u.normalize,l=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];v.__deps={HTMLNode:"ENode"},v.__path=t,r.exports=a,a.HTML=a,a.toHTML=i,a.ENode=d,a["%"]=v,a.normalize=s}).call(this,"/node_modules/quaint/node_modules/earlgrey-runtime/std/html.js")},{"../util":19}],19:[function(e,r,t){function o(e,r,t){var o=null,i="",a=clone(r),d=a["class"]?[a["class"]]:[];delete a["class"];var v=[];return e.forEach(function(e){"."===e[0]?d.push(e.slice(1)):"#"===e[0]?a.id=e.slice(1):"raw"===e?o=!0:i=e}),a.innerHTML&&(o=a.innerHTML,delete a.innerHTML),o?o=n(t).map(function(e){return String(e)}).join(""):v=n(t),[i,d,a,v,o]}function n(e){if(Array.isArray(e)){var r=[];return e.forEach(function(e){Array.isArray(e)?r=r.concat(e):r.push(e)}),r}return e}function i(e,r){if(Array.isArray(e))return n(e.map(function(e){return i(e,r)}));if(e instanceof ENode){var t=o(e.tags,e.props,e.children);return t[3]=t[3].map(function(e){return i(e,r)}),r.apply(e,t)}return r.call(e,null,[],{},e,null)}t.normalize=o,t.convertHTML=i},{}],20:[function(e,r,t){function o(e,r,t){return t||(t=0),ENode([],{},u.morsel(r).map(function(r){var o=Math.max(r[0]-t,0),n=Math.min(r[1]-t,e.length),i=r[2];return ENode(["."+i.slice(0,1)],{},[e.slice(o,n)])}))}function n(e,r,t,n,a){for(var d=[],v=t;n>=v;v++){var u=r[v],c=r[v+1],s=ENode([],{},[ENode([".lineno"],{},[v+1]),ENode([".sourcecode"],{},[o(e,[[u,c,[]]].concat(i(a,u,c)))])]);d.push(s)}return ENode([],{},d)}function i(e,r,t){var o=[];return e.forEach(function(e){var n=e[0],i=e[1],a=e[2];i>=r&&t>=n&&o.push([Math.max(n,r),Math.min(i,t),a])}),o}function a(e,r){r||(r=0);var t={};return e.forEach(function(e){var r=e[0],o=e[1],n=String(r.source&&r.source.url);t[n]||(t[n]=[]),t[n].push([r,o])}),ENode([],{},items(t).map(function(e){return d(e[1],r)}))}function d(e,r){r||(r=0);var t=v(e.map(function(e){return e[0]})),o=t.source,n=t.linerange(),i=n[0],a=n[1],d=Math.max(1,i-r),u=Math.min(o.nlines,a+r);return ENode(["div",".location"],{},[ENode(["div",".source"],{},[ENode([".sourcefile"],{},[o.url||"???"]),e.map(function(e){var r=e[0],t=e[1];return ENode(["."+t,".sourcepos"],{},[r.ref()])})]),o.highlightLines(d,u,e.map(function(e){var r=e[0],t=e[1];return[r.start,r.end,[t]]}))])}function v(e){var r=e.length;if(0===r)return Location(null,0,0);if(1===r)return e[0];var t=e[0];return e.slice(1).forEach(function(e){t=t.merge(e)}),t}var u=e("./util");t.highlight=o,t.highlightLines=n,t.highlightLocations=a,t.mergeLocations=v},{"./util":25}],21:[function(e,r,t){t.tokenize=e("./tokenize.js"),t.parse=e("./parse.js"),loc=e("./location.js"),t.transferLocation=loc.transferLocation,t.Location=loc.Location,t.Source=loc.Source},{"./location.js":22,"./parse.js":23,"./tokenize.js":24}],22:[function(e,r,t){function o(e,r,t){if(!(this instanceof o))return new o(e,r);this.text=e,this.url=r,this.offset=t||0,this.counts=[];var n=0,i=this;e.split("\n").forEach(function(e){i.counts.push(n),n+=e.length+1}),this.counts.push(n),this.nlines=this.counts.length-1}function n(e,r,t){return this instanceof n?(this.source=e||o("",null),this.start=r,void(this.end=t)):new n(e,r,t)}function i(e,r){return e.location instanceof n||(e.location=r&&r.location instanceof n?r.location:r),e}var a=e("./util"),d=e("./highlight");o.prototype.linecol=function(e){var r=a.binsearch(this.counts,e),t=e-this.counts[r-1];return[r,t]},o.prototype.at=function(e,r){return void 0===r&&(r=e),n(this,e,r)},o.prototype.highlightLines=function(e,r,t){return d.highlightLines(this.text,this.counts,e-1,r-1,t)},n.prototype.text=function(){return this.source.text.slice(this.start,this.end)},n.prototype.at_start=function(){return n(this.source,this.start,this.start)},n.prototype.at_end=function(){return n(this.source,this.end,this.end)},n.prototype.trim=function(){for(var e=this.source.text,r=this.start;t>r&&(" "==e[r]||"\n"==e[r]);)r++;for(var t=this.end-1;t>r&&(" "==e[t]||"\n"==e[t]);)t--;return n(this.source,r,t+1)},n.prototype.linecol=function(){var e=this.source.linecol(this.start),r=this.start===this.end?null:this.source.linecol(this.end-1);return[e,r]},n.prototype.linerange=function(){var e=this.linecol();return null===e[1]?[e[0][0],e[0][0]]:[e[0][0],e[1][0]]},n.prototype.ref=function(){var e=this.linecol(),r=e[0][0],t=e[0][1];if(null===e[1])return r+":"+t;var o=e[1][0],n=e[1][1];return r===o&&t===n?r+":"+t:r===o?r+":"+t+"-"+n:r+":"+t+"-"+o+":"+n},n.prototype.makeSource=function(){return o(this.text(),this.source.url,this.start)},n.prototype.merge=function(e){if(e.source!==this.source)throw Error("Cannot merge locations from different sources.");return n(this.source,Math.min(this.start,e.start),Math.max(this.end,e.end))},n.prototype.highlight=function(e,r){return r||(r=0),e||(e="hl1"),d.highlightLocations([[this.trim(),e]],r)},t.Source=o,t.Location=n,t.transferLocation=i},{"./highlight":20,"./util":25}],23:[function(e,r,t){function o(e,r,t){return this instanceof o?(this.tokenizer=e,this.order=r,void(this.finalize=t||function(e){return e})):new o(e,r,t)}function n(e){if(!(this instanceof n))return new n(e);this.lookup={boundary:"boundary"},this.fns=[];for(var r in e)for(var t=e[r],o=0;o<t.length;o++){var i=t[o];"string"==typeof i?this.lookup[i]=r:this.fns.push([i,r])}this.groups=e}function i(e,r){return this instanceof i?(this.groups=e,this.priorities=r,void(this.priorities.boundary={left:-1,right:-1})):new i(e,r)}o.prototype.parse=function(e){for(var r=this.tokenizer.iterator(e),t=[],o=null,n=r(),i=r(),a=[null,n];;){var d=this.order(n,i);switch(d){case"done":return o;case"<":t.push(a),a=[o,i],o=null,n=i,i=r();break;case">":a.push(o),o=this.finalize(a),a=t.pop(),n=a[a.length-1];break;case"=":a.push(o,i),o=null,n=i,i=r();break;default:throw Error("Unknown order directive: "+d)}}},n.prototype.resolve=function(e){var r=this.lookup[e.type+" "+e.token];if(r)return r;for(var t=0;t<this.fns.length;t++)if(this.fns[t][0](e))return this.fns[t][1];return this.lookup[e.type]||e.type},i.prototype.getOrder=function(){return this.order.bind(this)},i.prototype.getPrio=function(e){return this.priorities[this.groups.resolve(e)]},i.prototype.order=function(e,r){if("boundary"===e.type&&"boundary"===r.type)return"done";var t=this.getPrio(e).right,o=this.getPrio(r).left;return o>t?"<":t>o?">":t==o?"=":void 0},t.Parser=o,t.TokenGroups=n,t.PriorityOrder=i},{}],24:[function(e,r,t){function o(e){if(!(this instanceof o))return new o(e);this.config=e;var r=[];this.types=[];for(var t=e.regexps instanceof Array?e.regexps:Object.getOwnPropertyNames(e.regexps).map(function(r){return[r,e.regexps[r]]}),n=0;n<t.length;n++){var i=t[n];this.types.push(i[0]),r.push(i[2]?i[1]:"("+i[1]+")")}this.re=r.join("|")}function n(e,r){function t(t){var o;if(o="boundary"===t.type?0:e(t),-1===o)return t;if(o>this.current)return this.stack.push(this.current),this.current=o,[{type:"indent",token:""},t];for(var n=[];o<this.current;)n.push({type:"dedent",token:""}),this.current=this.stack.pop();if(this.current!==o){if(r)return this.stack.push(this.current),this.current=o,n.pop(),n.push(t),n;throw SyntaxError("Indentation error. "+this.current+" "+o)}return this.current=o,n.push(t),n}return e||(e=function(e){return"newline"===e.type?e.token.length:-1}),t.initState=function(){return{current:0,stack:[]}},t}function i(e,r,t){if(void 0===e.location){var o=(t[r-1]||t[r+1]).location.source,n=t[r-1]?t[r-1].location.end:0,i=t[r+1]&&t[r+1].location?t[r+1].location.start:n;e.location=v(o,n,i)}return e}var a=e("./location"),d=a.Source,v=a.Location;o.prototype.iterator=function(e){var r=this.run(e);return r.shift.bind(r)},o.prototype.run=function(e){function r(e,r){for(var t=e.initState?e.initState():{},o=[],n=0;n<r.length;n++){var i=e.call(t,r[n],n,r);i instanceof Array?o.push.apply(o,i):o.push(i)}return o}if(e instanceof d)var t=e.text,o=e.offset||0;else var t=e,o=0;var n=new RegExp(this.re,"g"),i=this.config.post;void 0===i?i=[]:i instanceof Array||(i=[i]);for(var a,u=[{token:"",type:"boundary",location:v(e,o,o)}];a=n.exec(t);){var c=this.types[a.slice(1).indexOf(a[0])];"comment"!==c&&u.push({token:a[0],type:c,location:v(e,a.index+o,a.index+a[0].length+o)})}u.push({token:"",type:"boundary",location:v(e,t.length+o,t.length+o)});for(var s=0;s<i.length;s++)u=r(i[s],u);return u},t.Tokenizer=o,t.indentTracker=n,t.inferLocation=i},{"./location":22}],25:[function(e,r,t){function o(e,r){for(var t=0,o=e.length-1;o>=t;){var n=t+(o-t>>1),i=e[n];if(r>i)t=n+1;else{if(!(i>r))return n+1;o=n-1}}return t}function n(e){function r(e,r,t){var o=[t].concat(e.map(function(e){return e[1]})),n=Math.min.apply(null,o),i=[];return e.forEach(function(e){i=i.concat(e[2])}),[n,[r,n,i]]}function t(e,o,n){if(o===n)return[[],e];var i=r(e,o,n),a=i[0],d=i[1],v=[];e.forEach(function(e){e[1]>a&&v.push(e)});var u=t(v,a,n),c=u[0],s=u[1];return[[d].concat(c),s]}function o(e,r,n){if(0===r.length&&0===n.length)return[];if(0===n.length){var i=r.map(function(e){return e[1]}),a=Math.max.apply(null,i),d=(Math.min(e,a),t(r,e,a)[0]);return d}var v=n[0],u=n.slice(1),c=v[0],s=t(r,e,c);return s[0].concat(o(c,[v].concat(s[1]),u))}var n=e.sort(function(e,r){return e[0]===r[0]?e[1]-r[1]:e[0]-r[0]});return o(n[0][0],[],n)}t.binsearch=o,t.morsel=n},{}],repl:[function(e,r,t){(function(r){"use strict";e("earlgrey-runtime/5");var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0,k=void 0,E=void 0,A=void 0,S=void 0,P=void 0,j=void 0,N=void 0,O=void 0,C=void 0,q=void 0,L=void 0,R=void 0,M=void 0,T=void 0,I=void 0,F=void 0,z=void 0,$=void 0,D=void 0,W=void 0,B=void 0,G=void 0,H=void 0;m=e("eg"),x=getProperty(m,"eg","eg"),b=getProperty(m,"topscope","eg"),w=getProperty(m,"repple","eg"),k=getProperty(w,"Repl","repple"),E=getProperty(w,"Editor","repple"),A=getProperty(w,"DOM","repple"),S=getProperty(w,"Outputter","repple"),P=getProperty(m,"jquery","eg"),j=e("quaint"),N=getProperty(j,"tools","quaint"),O=getProperty(j,"create","quaint"),C=getProperty(j,"Text","quaint"),q=getProperty(j,"Oper","quaint"),L=getProperty(j,"Seq","quaint"),"undefined"==typeof System&&(o=void 0,r.System=o),"undefined"==typeof document&&(n=void 0,r.document=n),"undefined"==typeof window&&(i=void 0,r.window=i),"undefined"==typeof alert&&(a=void 0,r.alert=a),"undefined"==typeof setTimeout&&(d=void 0,r.setTimeout=d),"undefined"==typeof Element&&(v=void 0,r.Element=v),"undefined"==typeof decodeURIComponent&&(u=void 0,r.decodeURIComponent=u),R=function(e){var r=void 0,t=void 0,o=void 0,n=void 0;return n=e,getChecker(RegExp("^raw:"))(n)?(o=n,o.slice(4)):getChecker(RegExp(":"))(n)?t=n:(r=e,"npm:"+r)},M=function(t){var o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0;return i="$eg$global",a=x.Generator({interactive:!0,globvar:i,es5:!0,noboil:!0}),d=x.evaluator({globvar:i,global:r,filename:"<repl>",showname:"<repl>",cwd:"<repl>"}),v=function(e){return spawn.call(this,regeneratorRuntime.mark(function r(){var t,o,n,i,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=void 0,t=null,r.prev=2,t=a.generateInteractive(x.Source(e,"<repl>")),r.next=25;break;case 7:if(r.prev=7,r.t30=r["catch"](2),o=void 0,n=void 0,i=void 0,u=void 0,u=r.t30,!getChecker(ErrorFactory(["pleaseLoad"]))(u)||!___hasprop(u,"message")){r.next=23;break}return i=u.message,r.next=18,System["import"](R(i));case 18:return o=r.sent,s[i]=o,r.abrupt("return",v(e));case 23:throw n=r.t30;case 25:return r.abrupt("return",d(t));case 26:case"end":return r.stop()}},r,this,[[2,7]])}))},u=k(__amp____colon__({elements:t},(o={},o.eval=function(e){return spawn.call(this,regeneratorRuntime.mark(function r(){var t,o,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=void 0,o=void 0,o=!1,r.prev=3,r.next=6,v(e);case 6:t=r.sent,o=["success",t],r.next=17;break;case 11:r.prev=11,r.t31=r["catch"](3),n=void 0,n=r.t31,o=["failure",n];case 17:return r.abrupt("return",o);case 18:case"end":return r.stop()}},r,this,[[3,11]])}))},o))),c=r,s={},l=function(e){var r=void 0;r=null;for(var t,o=items(e)[Symbol.iterator]();!(t=o.next()).done;){r=t.value;var n=void 0,i=void 0,d=void 0,v=void 0,u=void 0;v=r,Array.isArray(v)&&(u=v.length,2===u)?(i=v[0],d=v[1],a.env.bind(b,i,["variable",i]),n=d,c[i]=n):___match_error(r)}return void 0},u.setenv=l,u.setenv({$io:[],$currenti:-1,dir:n=e("earlgrey-runtime/std/dir"),jQuery:P,System:System,DOM:A,normalizeModuleName:R,Outputter:S,__reqcache:s,global:r}),u.eval('\n      globals:\n         window, document, alert, Element\n\n      wait = promisify with {d, f} -> setTimeout.call{null, f, d}\n\n      _load{match url} =\n         R".js$"? ->\n            new Promise with {resolve, reject} ->\n               document.getElementsByTagName{"head"}[0].appendChild with\n                  DOM with script %\n                     async = true\n                     type = "text/javascript"\n                     src = url\n                     onload{} = resolve{undefined}\n         R".css$"? ->\n            document.getElementsByTagName{"head"}[0].appendChild with\n               DOM with link %\n                  rel = "stylesheet"\n                  type = "text/css"\n                  href = url\n            undefined\n         else ->\n            throw E.unknown_resource_type{url}\n\n      inline-macro $out{match}:\n         do:\n            globals: $currenti\n         #void{} ->\n            `$io[^=$currenti]`\n         expr ->\n            `$io[^=$currenti][^expr]`\n\n      inline-macro print{match expr}:\n         `^expr in ^[#symbol{target}]` ->\n            ```\n            t = ^expr\n            Outputter{document.get-element-by-id{^=target}, true}.log{t}\n            t\n            ```\n         else ->\n            `t = ^expr, $io[$currenti].log{t}, t`\n\n      inline-macro __require{#data{expr}}:\n         ```\n         await System.import{normalize-module-name{^expr}}\n         ```\n\n      inline-macro __require-m{#data{expr}}:\n         ```\n         match __reqcache[^expr]:\n            undefined? ->\n               throw E.please-load{^expr}\n            Error? e ->\n               throw e\n            module ->\n               module\n         ```\n\n      inline-macro load{url}:\n         `await _load{^url}`\n\n   '),u},T=function(e){return new Promise(function(r,t){var o=void 0,n=void 0;return P.ajax(__amp____colon__({url:e,type:"GET",contentType:"text/plain"},__amp____colon__((o={},o.error=function(e,r,o){return t(ErrorFactory(["ajax"]).create(o||r,{statusText:r,error:o}))},o),(n={},n.success=function(e){return r(e)},n))))})},I=function(e,r){var t=void 0,o=void 0;for(t=N.rawRelative(N.shed(r)),o=t.split("\n");getChecker(RegExp("^ *$",""))(o[0]);)o.shift();for(;getChecker(RegExp("^ *$",""))(send(o,o.length-1));)o.pop();return N.dedent(o.join("\n"))},F=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0;return n=arguments,o=n.length,o>=1&&2>=o?(r=n[0],t=1>=o?null:n[1],null===t?Math.floor(Math.random()*r):(e=t,Math.floor(r+Math.random()*(e-r)))):___match_error(n,"{a, match = null}")},z=function(e){var r=void 0,t=void 0;t=e.length,r=null;for(var o,n=range(0,t-1)[Symbol.iterator]();!(o=n.next()).done;){r=o.value;var i=void 0,a=void 0,d=void 0,v=void 0,u=void 0;u=r,d=F(u,t),v=[send(e,d),send(e,u)],i=v,Array.isArray(i)&&(a=i.length,2===a)?(e[u]=i[0],e[d]=i[1]):___match_error(v,"{a[i], a[j]}")}return e},$=function(e){var r=void 0,t=void 0,o=void 0,n=void 0;return n=getChecker($)(this)?this:Object.create($.prototype),n.order=e,r={},n.cards=r,t={},n.cardsStripped=t,o=[],n.cardOrder=o,n},$.prototype.register=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0;return n=this,i=this,t=r,n.cards[r.name]=t,o=r,void(n.cardsStripped[r.name.replace(RegExp("^([0-9]+)-",""),"")]=o)},$.prototype.shuffle=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;i=this,a=this,r=[],t=null,e=null;for(var d,v=items(i.cards)[Symbol.iterator]();!(d=v.next()).done;){e=d.value;var u=void 0,c=void 0,s=void 0,l=void 0;s=e,Array.isArray(s)&&(l=s.length,2===l)?(u=s[0],c=s[1],t=c,r.push(t)):___match_error(e)}return o=r,n=z(o),void(i.cardOrder=n)},$.prototype.sort=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;i=this,a=this,o=items(i.cards).sort(function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0;return t=e,Array.isArray(t)&&(o=t.length,2===o&&(n=getProjector(RegExp("^([0-9]+)-",""))(t[0]),n[0]&&(i=n[1],a=i.length,2===a&&(i[0],d=[!0,parseFloat(i[1])],d[0]))))?(p=d[1],t[1]):___match_error(e),v=r,Array.isArray(v)&&(u=v.length,2===u&&(c=getProjector(RegExp("^([0-9]+)-",""))(v[0]),c[0]&&(s=c[1],l=s.length,2===l&&(s[0],h=[!0,parseFloat(s[1])],h[0]))))?(_=h[1],v[1]):___match_error(r),p-_}),r=[],t=null,e=null;for(var d,v=o[Symbol.iterator]();!(d=v.next()).done;){e=d.value;var u=void 0,c=void 0,s=void 0,l=void 0;s=e,Array.isArray(s)&&(l=s.length,2===l)?(u=s[0],c=s[1],t=c,r.push(t)):___match_error(e)}return n=r,void(i.cardOrder=n)},D=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;return i=this,a=this,n=arguments,t=n.length,t>=0&&1>=t?(o=0>=t?null:n[0],e=o,r=o,null===r?(equal(i.cardOrder,[])&&send(a,i.order,!0)(),i.cardOrder.shift()):send(send(i,"cardsStripped",!0),e)):___match_error(n,"{match name = null}")},$.prototype.get=D,W=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0;return n=this,i=this,e(object((t=[],o=null,r=null,function(){for(var e,i=items(n.cards)[Symbol.iterator]();!(e=i.next()).done;){r=e.value;var a=void 0,d=void 0,v=void 0,u=void 0,c=void 0;v=r,Array.isArray(v)&&(u=v.length,2===u&&(a=v[0],c=v[1],___hasprop(c,"descr")))?(d=c.descr,o=[ENode(["code"],{},a),ENode(["span"],{},d)],t.push(o)):___match_error(r)}}(),t)))},$.prototype["::repr"]=W,__amp____colon__($,__amp____colon__((c="Cards",s={},s["::name"]=c,s),(l=!0,h={},h["::egclass"]=l,h))),B=function(e,r){return spawn.call(this,regeneratorRuntime.mark(function t(){var o,n,i,a,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,a=function(r){return spawn.call(this,regeneratorRuntime.mark(function t(){var o,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=void 0,n=void 0,t.next=4,T(ENode([],{},["doc/",r]).toString());case 4:return o=t.sent,n=O(e),t.abrupt("return",n.run(o));case 7:case"end":return t.stop()}},t,this)}))},t.next=8,T(ENode([],{},["doc/",r]).toString());case 8:return d=t.sent.split("\n"),t.next=11,Promise.all((n=[],i=null,o=null,function(){for(var e,r=d[Symbol.iterator]();!(e=r.next()).done;){o=e.value;var t=void 0;t=o,t&&(i=a(t),n.push(i))}}(),n));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}},t,this)}))},G=function(e,r){var t=void 0,o=void 0;return o=getChecker(G)(this)?this:Object.create(G.prototype),o.repl=e,t=$(r),o.cards=t,o},G.prototype.clickable=function(){var e=void 0,r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;return i=this,a=this,n=arguments,o=n.length,o>=1&&2>=o?(r=n[0],t=1>=o?null:n[1],ENode([".clickable"],(e={},e.onclick=function(e){var t=void 0,o=void 0,n=void 0;return t=e,o=t,___hasprop(t,"shiftKey")?n=t.shiftKey:___match_error(e),spawn.call(this,regeneratorRuntime.mark(function a(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=void 0,e=n,o.preventDefault(),!(e?!0:!1)){t.next=8;break}return i.repl.cm.setValue(r),t.abrupt("return",i.repl.cm.focus());case 8:return t.next=10,i.repl.process_all(r,!0,!0);case 10:return t.abrupt("return",i.repl.cm.focus());case 11:case"end":return t.stop()}},a,this)}))},e),t||i.repl.highlight(r,!0))):___match_error(n,"{code, text = null}")},G.prototype.makeRow=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0;return n=this,i=this,ENode(["span"],{},(t=[],o=null,r=null,function(){for(var n,i=enumerate(e)[Symbol.iterator]();!(n=i.next()).done;){r=n.value;var a=void 0,d=void 0,v=void 0,u=void 0;v=r,Array.isArray(v)&&(u=v.length,2===u)?(a=v[0],d=v[1],o=0===a?d:ENode(["span"],{},[ENode(["span",".separator"],{},""),d]),t.push(o)):___match_error(r)}}(),t))},G.prototype.installTo=function(e){var r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0;return i=this,a=this,e.registerDocument({cards:i.cards}),e.registerRule(__amp____colon__((r=function(e,r){var t=void 0,o=void 0,n=void 0,a=void 0,d=void 0,v=void 0,u=void 0,c=void 0,s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0;return t=r,___hasprop(t,"label")&&(_=t.label,___hasprop(t,"code"))?f=t.code:___match_error(r),h=_,p=h.length,2===p&&"text"===h[0]&&""===h[1]?(s=N.collapse("/",f),(u=Array.isArray(s))&&(c=s.length,1===c)?(v=s[0],i.clickable(I(e,v))):u&&c>=0?(d=Array.prototype.slice.call(s,0),i.makeRow((n=[],a=null,o=null,function(){for(var r,t=d[Symbol.iterator]();!(r=t.next()).done;){o=r.value;var v=void 0;v=o,a=i.clickable(I(e,v),null),n.push(a)}}(),n))):___match_error(s,"{*xs}")):(l=_,i.clickable(I(e,f),e.gen(l)))},t={},t["\\maybe\\label / \\code"]=r,t),(o=function(e,r){var t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0;if(v=r,___hasprop(v,"tag")&&(i=v.tag,___hasprop(v,"descr")&&(a=v.descr,___hasprop(v,"contents")))){
d=v.contents,o=null,n=null,t=null;for(var u,c=N.statements(d)[Symbol.iterator]();!(u=c.next()).done;){t=u.value;var s=void 0,l=void 0,h=void 0,p=void 0,_=void 0,f=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,w=void 0;if(y=t,getChecker(L)(y)&&(m=y.length,3===m&&(x=y[0],_=x,f=x,b=y[1],getChecker(q)(b)&&(w=b.length,1===w&&"="===b[0]))))if(g=y[2],h=f,(s=getChecker(C)(h))&&(p=h.length,(l=1===p)&&"doc"===h[0]))o=e.translate(N.shedIndent(g),"enode",{paragraph:!0});else{if(!l||"code"!==h[0])throw ErrorFactory(["syntax","unknown_directive"]).create(_);n=I(e,g)}}return o||n||(o=e.translate(N.shedIndent(d),"enode",{paragraph:!0})),ENode(["genfor"],{document:"cards"},{name:N.raw(i),descr:e.translate(a,"enode"),doc:o,code:n})}return ___match_error(r,"{=> tag, => descr, => contents}")},n={},n["[\\tag = \\descr] ---> \\contents"]=o,n)))},__amp____colon__(G,__amp____colon__((p="ReplPlugin",_={},_["::name"]=p,_),(f=!0,g={},g["::egclass"]=f,g))),H=function(){return spawn.call(this,regeneratorRuntime.mark(function e(){var r,t,o,n,i,a,d,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,t=void 0,o=void 0,n=void 0,i=void 0,a=void 0,d=void 0,v=void 0,t=document.getElementById("box"),o=document.getElementById("help"),n=M({box:t,target:document.getElementById("interactive"),inputline:document.getElementById("inputline"),textarea:document.getElementById("code")}),i=ENode([],{},[Math.max(window.innerHeight-250,500),"px"]).toString(),r=i,o.style.height=r,t.style.height=r,a=G(n,"shuffle"),d=G(n,"sort"),e.next=19,B(a,"cools.txt");case 19:return e.next=21,B(d,"tut.txt");case 21:return n.setenv({cools:a.cards,tuts:d.cards,q:O(),$repl:n,$$clickable:a.clickable.bind(a)}),e.next=24,n.eval('\n\n      fade-in{out, contents} =\n         printed = out.log{contents}\n         printed.style.transition = "opacity 500ms";\n         printed.style.opacity = 0\n         window.getComputedStyle{printed}.opacity\n         printed.style.opacity = 1\n         undefined\n\n      $help = Outputter{document.get-element-by-id{"help"}, true}\n\n      async __show-cool{out, name, history = true} =\n         thecool = cools.get{name}\n         if not thecool:\n            throw E.nocool{\'No entry found for {code % name}\'}\n         ;; if thecool.doc:\n         ;;    fade-in{out} with\n         ;;       div.card.cool %\n         ;;          h2 % thecool.descr\n         ;;          div % thecool.doc\n         ;;          p % \'{b%"Click"} on the code below to execute it (Shift-Click to paste)\'\n         ;;          .coolcode %\n         ;;             $$clickable{thecool.code}\n         if thecool.code:\n            await $repl.process{thecool.code, history}\n         undefined\n\n      __show-tut{out, name, history = true} =\n         thetut = tuts.get{name}\n         if not thetut:\n            throw E.notut{\'No entry found for {code % name}\'}\n         if thetut.doc:\n            fade-in{out} with\n               div.card.tut %\n                  if{String{thetut.descr}.starts-with{"..."}\n                     ""\n                     h2 % thetut.descr}\n                  div % thetut.doc\n         undefined\n\n      inline-macro cool{x}:\n         `__show-cool{$out, ^name}` where\n            name = match x:\n               #void{} ->\n                  `null`\n               #value{name} or #symbol{name} ->\n                  #value{name}\n               else ->\n                  x\n\n      inline-macro next{#void{}}:\n         `__show-tut{$help, null}`\n\n      inline-macro tut{x}:\n         `__show-tut{$help, ^name}` where\n            name = match x:\n               #void{} ->\n                  `null`\n               #value{name} or #symbol{name} ->\n                  #value{name}\n               else ->\n                  x\n   ');case 24:return e.next=26,n.process("next",!1);case 26:return v=function(){return equal(document.getSelection().toString(),"")?n.cm.focus():void 0},document.body.onclick=v,n.cm.focus(),e.abrupt("return",n);case 30:case"end":return e.stop()}},e,this)}))},y=H,t.setup=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"earlgrey-runtime/5":1,"earlgrey-runtime/std/dir":5,eg:"eg",quaint:9}]},{},["repl"]);