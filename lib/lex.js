require("earlgrey-runtime");
var $5611=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});var id$3893;var id_f$3894;var numr$3895;var numr_f$3896;var num$3897;var num_f$3898;var str$3899;var str_f$3900;var op$3901;var op2$3902;var op3$3903;var op4$3904;var op_f$3905;var indent$3906;var indent_f$3907;var indent2$3908;var indent2_f$3909;var cmnt$3910;var cmnt_f$3911;var unkn$3912;var unkn_f$3913;var $3828$3843;var Location$3844;var __lt____lt____colon__$3845;var special_ops$3846;var regexps$3847;var ws_re$3848;var eol_re$3849;var produce$3850;var indent_tracker$3851;var process_indent$3852;var disambiguate_fixity$3853;var alternate_operators$3854;var fill_locations$3855;var tokenize$3856;($3828$3843=require("./location"));(Location$3844=$3828$3843.Location);(__lt____lt____colon__$3845=$3828$3843["<<:"]);(special_ops$3846=({"(":"PFX","[":"PFX","{":"PFX",")":"SFX","]":"SFX","}":"SFX",",":"IFX",".":"PFX","'":"PFX","not":"PFX"}));(regexps$3847=(((id$3893=RegExp("(?:^(?:\\.\\.\\.|(?:(?:[a-zA-Z$_]|(?:\\\\_.))(?:(?:[a-zA-Z$_0-9]|(?:\\\\_.))*))))",""))),((id_f$3894=(function(m$3921){return ["ID",m$3921[0].replace(RegExp("\\\\_(.)","g"),(function($3924$3927,x$3928){$3924$3927;return x$3928;}))];}))),((numr$3895=RegExp("(?:^((?:\\d+))[rR]((?:[A-Za-z0-9_]+))(?:(?:\\.((?:[A-Za-z0-9_]+)))?))",""))),((numr_f$3896=(function(m$3941){var t0$3951;var t1$3952;var frac$3972;var radix$3946;var intp$3947;var frac$3948;var value$3949;(t0$3951=m$3941);if(((t0$3951 instanceof Array)&&(((t1$3952=t0$3951.length)),(t1$3952===4)))){t0$3951[0];(radix$3946=t0$3951[1]);(intp$3947=t0$3951[2]);(frac$3948=t0$3951[3]);}else{___match_error(m$3941,"/home/olivier/git/eg/src/lex.eg",1192,1193);}(value$3949=parseInt(intp$3947.replace(RegExp("_","g"),""),radix$3946));if(frac$3948){(frac$3972=frac$3948.replace(RegExp("_","g"),""));(value$3949=(value$3949+(parseInt(frac$3948,radix$3946)/Math.pow(radix$3946,frac$3948.length))));}return ["NUM",value$3949];}))),((num$3897=RegExp("(?:^((?:[0-9_]+))(?:(?:\\.((?:\\d+)))?)(?:(?:[eE]((?:[+-]?)(?:[0-9_]+)))?))",""))),((num_f$3898=(function(m$3987){return ["NUM",parseFloat(m$3987[0].replace(RegExp("_","g"),""))];}))),((str$3899=RegExp("(?:^\"((?:(?:(?:\\\\.)|[^\"])*))\")",""))),((str_f$3900=(function(m$3997){var rx$4012;var f$4013;var repl$4002;var r$4003;(repl$4002=({"b":String.fromCharCode(8),"f":String.fromCharCode(12),"n":"\n","r":String.fromCharCode(13),"t":String.fromCharCode(9)}));(r$4003=(((rx$4012=RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\.","g"))),((f$4013=(function($4020$4023){var chr$4064;var digits$4045;var t0$4039;var t1$4040;var t2$4041;var $4025$4034;var ph$4028;(ph$4028=$4020$4023);($4025$4034=ph$4028);(t0$4039=getProjector(RegExp("^(?:\\\\u|\\\\x)(.*)",""))($4025$4034));if((t0$4039[0]&&(((t1$4040=t0$4039[1])),(((t2$4041=t1$4040.length)),(t2$4041===2))))){t1$4040[0];(digits$4045=t1$4040[1]);return String.fromCharCode(parseInt(digits$4045,16));}else{(t0$4039=getProjector(RegExp("^.(.)",""))($4025$4034));if((t0$4039[0]&&(((t1$4040=t0$4039[1])),(((t2$4041=t1$4040.length)),(t2$4041===2))))){t1$4040[0];(chr$4064=t1$4040[1]);return ($5611(repl$4002,chr$4064)||chr$4064);}else{___match_error($4025$4034);}}}))),m$3997[1].replace(rx$4012,f$4013)));return ["STR",r$4003];}))),((op$3901=RegExp("(?:^(?:[+\\-*/~\\^<>=%&|?!@#.:']+))",""))),((op2$3902=RegExp("(?:^[\\[\\{\\}\\],])",""))),((op3$3903=RegExp("(?:^(?:(?:(?:(?:(?:(?:(?:(?:(?:with|where)|when)|and)|not)|or)|in)|mod)|each)|as)(?:(?:[+\\-*/~\\^<>=%&|?!@#.:']+)|\\b))",""))),((op4$3904=RegExp("(?:^`((?:[A-Za-z0-9_$]+))`)",""))),((op_f$3905=(function(m$4102,column$4103){var fixity$4135;var otherwise$4141;var $4111$4124;var $4107$4118;var op$4112;(op$4112=(m$4102[1]||m$4102[0]));($4107$4118=null);$4107$4118;if((op$4112==="|")){return ["INDENT",(column$4103-1)];}else{if((op$4112 in special_ops$3846)){(fixity$4135=$5611(special_ops$3846,op$4112));return ["OP",fixity$4135,op$4112];}else{(otherwise$4141=$4107$4118);return ["OP","?FX",op$4112];}}}))),((indent$3906=RegExp("(?:^(?:(?:\n(?: *);(?:[^\n]*))*)(?:(?:\n((?: *)))+))",""))),((indent_f$3907=(function(m$4151){var ilen$4155;(ilen$4155=m$4151[1].length);return ["INDENT",ilen$4155];}))),((indent2$3908=RegExp("(?:^\\\\\\\\)",""))),((indent2_f$3909=(function(m$4167,column$4168){return ["INDENT",(column$4168-2)];}))),((cmnt$3910=RegExp("(?:^;(?:[^\n]*))",""))),((cmnt_f$3911=(function(m$4178){return ["IGNORE"];}))),((unkn$3912=RegExp("(?:^.)",""))),((unkn_f$3913=(function(m$4188){return ["ILLEGAL",m$4188[0]];}))),[[op3$3903,op_f$3905],[id$3893,id_f$3894],[numr$3895,numr_f$3896],[num$3897,num_f$3898],[str$3899,str_f$3900],[op$3901,op_f$3905],[op2$3902,op_f$3905],[op4$3904,op_f$3905],[indent$3906,indent_f$3907],[indent2$3908,indent2_f$3909],[cmnt$3910,cmnt_f$3911],[unkn$3912,unkn_f$3913]]));(ws_re$3848=RegExp("(?:^(?: *)(?:(?:\n(?: *)\\\\ (?: *))*))",""));(eol_re$3849=RegExp("(?:^(?: *)(?:\n|$))",""));(produce$3850=(function(src$4202){var text$4211;var results$4212;var wsb$4213;var pos$4214;var column$4215;(text$4211=src$4202.text);(results$4212=[]);(wsb$4213=text$4211.match(ws_re$3848)[0].length);(text$4211=text$4211.slice(wsb$4213));(pos$4214=wsb$4213);(column$4215=0);$4234:while(text$4211){var i$4240;(i$4240=0);$4237:for(;(i$4240<regexps$3847.length);(++i$4240)){var t0$4254;var t1$4255;var splits$4304;var skip$4287;var endpos$4288;var wsa$4289;var eol$4290;var bwsb$4291;var bwsa$4292;var token$4293;var re$4250;var fn$4251;var m$4252;(t0$4254=$5611(regexps$3847,i$4240));if(((t0$4254 instanceof Array)&&(((t1$4255=t0$4254.length)),(t1$4255===2)))){(re$4250=t0$4254[0]);(fn$4251=t0$4254[1]);}else{___match_error($5611(regexps$3847,i$4240),"/home/olivier/git/eg/src/lex.eg",4328,4338);}(m$4252=text$4211.match(re$4250));if(m$4252){(skip$4287=m$4252[0].length);(endpos$4288=(pos$4214+skip$4287));(column$4215=(((splits$4304=m$4252[0].split("\n"))),(function(){if((splits$4304.length>1)){return $5611(splits$4304,(splits$4304.length-1)).length;}else{return (column$4215+skip$4287);}})()));(text$4211=text$4211.slice(skip$4287));(wsa$4289=text$4211.match(ws_re$3848)[0].length);(eol$4290=(text$4211.match(eol_re$3849)&&true));(bwsb$4291=(wsb$4213>0));(bwsa$4292=(function(){if(eol$4290){return bwsb$4291;}else{return (wsa$4289>0);}})());(token$4293=fn$4251(m$4252,column$4215));(token$4293["wsb"]=bwsb$4291);(token$4293["wsa"]=bwsa$4292);(token$4293["location"]=Location$3844(src$4202,pos$4214,endpos$4288));results$4212.push(token$4293);(text$4211=text$4211.slice(wsa$4289));(column$4215=(column$4215+wsa$4289));(wsb$4213=wsa$4289);(pos$4214=(endpos$4288+wsa$4289));break $4237;}}}return results$4212;}));(indent_tracker$3851=(function(){var curr$4358;var stack$4359;var stacks$4360;(curr$4358=0);(stack$4359=[]);(stacks$4360=[stack$4359]);return (function($4356$4371){var t0$4394;var rval$4462;var $index$4542;var $length$4536;var temp$4530;var acc$4524;var rval$4516;var x$4573;var $index$4601;var $length$4595;var temp$4589;var acc$4583;var other$4622;var fixity$4503;var fixity$4483;var stuff$4478;var new_indent$4419;var $4375$4420;var $4387$4413;var $4388$4414;var $4389$4415;var $4390$4416;var t0$4408;var t1$4409;var bridge$4382$4410;var bridge$4384$4411;var $4373$4403;var ph$4391;var token$4392;(t0$4394=$4356$4371);(token$4392=t0$4394);(ph$4391=t0$4394);($4373$4403=ph$4391);if((($4387$4413=($4373$4403 instanceof Array))&&(((t0$4408=$4373$4403.length)),((t0$4408===2)&&($4373$4403[0]==="INDENT"))))){(t1$4409=$4373$4403[1]);(new_indent$4419=t1$4409);($4375$4420=t1$4409);$4375$4420;if((curr$4358===false)){(curr$4358=new_indent$4419);return [__amp__(["OP","IFX",","],({"wsb":true,"wsa":true}))];}else{if(($4375$4420>curr$4358)){stack$4359.push(curr$4358);(curr$4358=new_indent$4419);return [__amp__(["OP","PFX","["],({"wsb":true,"wsa":true}))];}else{if(($4375$4420===curr$4358)){return [__amp__(["OP","IFX",","],({"wsb":true,"wsa":true}))];}else{if(($4375$4420<curr$4358)){(rval$4462=[]);$4466:while(((stack$4359.length>0)&&(new_indent$4419<curr$4358))){(curr$4358=stack$4359.pop());rval$4462.push(__amp__(["OP","SFX","]"],({"wsb":true,"wsa":true})));}rval$4462.push(__amp__(["OP","IFX",","],({"wsb":true,"wsa":true})));return rval$4462;}else{___match_error($4375$4420,"/home/olivier/git/eg/src/lex.eg",5705,5721);}}}}}else{if(($4387$4413&&((t0$4408>=1)&&($4373$4403[0]==="ID")))){(stuff$4478=Array.prototype.slice.call($4373$4403,1));return [token$4392];}else{if(($4387$4413&&(($4389$4415=(t0$4408===3))&&(($4390$4416=($4373$4403[0]==="OP"))&&((fixity$4483=$4373$4403[1]),(((bridge$4382$4410=$4373$4403[2])),((bridge$4382$4410==="[")||(bridge$4382$4410==="{")))))))){stack$4359.push(curr$4358);stacks$4360.push(stack$4359);(stack$4359=[]);(curr$4358=false);return [token$4392];}else{if(($4390$4416&&((fixity$4503=$4373$4403[1]),(((bridge$4384$4411=$4373$4403[2])),((bridge$4384$4411==="]")||(bridge$4384$4411==="}")))))){(rval$4516=(((acc$4524=[])),(((temp$4530=stack$4359)),((($length$4536=temp$4530.length)),((($index$4542=0)),(function(){$4519:for(;($index$4542<$length$4536);($index$4542++)){var m$4551;(m$4551=temp$4530[$index$4542]);m$4551;acc$4524.push(__amp__(["OP","SFX","]"],({"wsb":true,"wsa":true})));}})()))),acc$4524));(stack$4359=stacks$4360.pop());(curr$4358=stack$4359.pop());rval$4516.push(token$4392);return rval$4516;}else{if((((x$4573=$4373$4403)),((x$4573 instanceof Array)&&(x$4573[0]==="EOF")))){(acc$4583=[]);(temp$4589=stack$4359);($length$4595=temp$4589.length);($index$4601=0);$4578:for(;($index$4601<$length$4595);($index$4601++)){var m$4610;(m$4610=temp$4589[$index$4601]);m$4610;acc$4583.push(__amp__(["OP","SFX","]"],({"wsb":true,"wsa":true})));}return acc$4583;}else{(other$4622=$4373$4403);return [token$4392];}}}}}});}));(process_indent$3852=(function(stream$4629){var $index$4660;var $length$4654;var temp$4648;var tracker$4634;var results$4635;(tracker$4634=indent_tracker$3851());(results$4635=[]);(temp$4648=stream$4629);($length$4654=temp$4648.length);($index$4660=0);$4636:for(;($index$4660<$length$4654);($index$4660++)){var token$4677;var m$4669;(m$4669=temp$4648[$index$4660]);(token$4677=m$4669);(results$4635=results$4635.concat(tracker$4634(token$4677)));}return results$4635.concat(tracker$4634(["EOF"]));}));(disambiguate_fixity$3853=(function(stream$4684){var $index$5168;var $length$5162;var temp$5156;var __lt____lt____lt____colon__$4693;var collapse_operators$4694;var buffer$4695;var pfx$4696;var collapse$4697;var results$4698;(__lt____lt____lt____colon__$4693=(function(a$4714,b$4715){(a$4714["wsb"]=b$4715.wsb);(a$4714["wsa"]=b$4715.wsa);return __lt____lt____colon__$3845(a$4714,b$4715);}));(collapse_operators$4694=(function(){var msg$4835;var longer$4831;var token$4808;var fixity$4809;var name$4810;var t0$4802;var t1$4803;var t2$4804;var $4792$4797;var $index$4866;var $length$4860;var temp$4854;var acc$4848;var $index$4929;var $length$4923;var temp$4917;var acc$4911;var t0$4982;var t1$4983;var t2$4984;var t3$4985;var t0$5030;var t0$5037;var t0$5090;var t0$5097;var t1$5098;var t2$5099;var bridge$5071$5080;var $5069$5075;var t$5066;var results$5060;var $4974$5019;var $4975$5020;var $4976$5021;var bridge$4971$5016;var t0$5017;var $4969$5011;var first$4977;var fixity$4978;var name$4979;var rest$4980;var n$4772;var $4739$4766;var $4740$4767;var $4741$4768;var $4742$4769;var t0$4763;var t1$4764;var buffer$4754;var $4733$4755;var t0$4750;var $4731$4745;($4731$4745=arguments);(t0$4750=$4731$4745.length);if((t0$4750>=1)){(buffer$4754=$4731$4745[0]);($4733$4755=Array.prototype.slice.call($4731$4745,1));(n$4772=buffer$4754.length);$4733$4755;if((!buffer$4754.length)){return [];}else{(t0$4763=$4733$4755);(t1$4764=t0$4763.length);if((($4741$4768=(t1$4764===2))&&(($4742$4769=t0$4763[0])&&t0$4763[1]))){($4792$4797=buffer$4754);if((($4792$4797 instanceof Array)&&(((t0$4802=$4792$4797.length)),((t0$4802===1)&&(((t1$4803=$4792$4797[0])),((token$4808=t1$4803),((t1$4803 instanceof Array)&&(((t2$4804=t1$4803.length)),((t2$4804===3)&&(t1$4803[0]==="OP")))))))))){(fixity$4809=t1$4803[1]);(name$4810=t1$4803[2]);return [__lt____lt____lt____colon__$4693(["ID",name$4810],token$4808)];}else{(longer$4831=$4792$4797);(msg$4835="Too many consecutive operators were found here.");throw ErrorFactory(["syntax","nullary"]).create(msg$4835,({"operators":buffer$4754}));}}else{if($4742$4769){t0$4763[1];(acc$4848=[]);(temp$4854=buffer$4754);($length$4860=temp$4854.length);($index$4866=0);$4843:for(;($index$4866<$length$4860);($index$4866++)){var token$4885;var name$4886;var t0$4880;var t1$4881;var m$4875;(m$4875=temp$4854[$index$4866]);(t0$4880=m$4875);(token$4885=t0$4880);if(((t0$4880 instanceof Array)&&(((t1$4881=t0$4880.length)),((t1$4881===3)&&(t0$4880[0]==="OP"))))){t0$4880[1];(name$4886=t0$4880[2]);acc$4848.push(__lt____lt____lt____colon__$4693(["OP","PFX",name$4886],token$4885));}else{___match_error(m$4875,"/home/olivier/git/eg/src/lex.eg",8076,8160);}}return acc$4848;}else{if(($4741$4768&&(t0$4763[0],t0$4763[1]))){(acc$4911=[]);(temp$4917=buffer$4754);($length$4923=temp$4917.length);($index$4929=0);$4906:for(;($index$4929<$length$4923);($index$4929++)){var token$4948;var name$4949;var t0$4943;var t1$4944;var m$4938;(m$4938=temp$4917[$index$4929]);(t0$4943=m$4938);(token$4948=t0$4943);if(((t0$4943 instanceof Array)&&(((t1$4944=t0$4943.length)),((t1$4944===3)&&(t0$4943[0]==="OP"))))){t0$4943[1];(name$4949=t0$4943[2]);acc$4911.push(__lt____lt____lt____colon__$4693(["OP","SFX",name$4949],token$4948));}else{___match_error(m$4938,"/home/olivier/git/eg/src/lex.eg",8183,8267);}}return acc$4911;}else{$4733$4755;(t0$4982=buffer$4754);if(((t0$4982 instanceof Array)&&(((t1$4983=t0$4982.length)),((t1$4983>=1)&&(((t2$4984=t0$4982[0])),((first$4977=t2$4984),((t2$4984 instanceof Array)&&(((t3$4985=t2$4984.length)),((t3$4985===3)&&(t2$4984[0]==="OP")))))))))){(fixity$4978=t2$4984[1]);(name$4979=t2$4984[2]);(rest$4980=Array.prototype.slice.call(t0$4982,1));}else{___match_error(buffer$4754,"/home/olivier/git/eg/src/lex.eg",8320,8326);}($4969$5011=[first$4977.wsb,first$4977.wsa]);(bridge$4971$5016=$4969$5011);if((((bridge$4971$5016 instanceof Array)&&(((t0$5030=bridge$4971$5016.length)),((t0$5030===2)&&((!bridge$4971$5016[0])&&(!bridge$4971$5016[1])))))||((bridge$4971$5016 instanceof Array)&&(((t0$5037=bridge$4971$5016.length)),((t0$5037===2)&&(bridge$4971$5016[0]&&bridge$4971$5016[1])))))){return [__lt____lt____lt____colon__$4693(["OP","IFX",name$4979],first$4977)].concat(collapse_operators$4694(rest$4980,true,false));}else{if((($4974$5019=($4969$5011 instanceof Array))&&(((t0$5017=$4969$5011.length)),(($4976$5021=(t0$5017===2))&&$4969$5011[0])))){$4969$5011[1];return [__lt____lt____lt____colon__$4693(["OP","PFX",name$4979],first$4977)].concat(collapse_operators$4694(rest$4980,true,false));}else{if(($4976$5021&&($4969$5011[0],$4969$5011[1]))){(results$5060=collapse_operators$4694(rest$4980,false,false));(t$5066=((($5069$5075=results$5060)),(((bridge$5071$5080=$5069$5075)),(function(){if((((bridge$5071$5080 instanceof Array)&&(((t0$5090=bridge$5071$5080.length)),(t0$5090===0)))||((bridge$5071$5080 instanceof Array)&&(((t0$5097=bridge$5071$5080.length)),((t0$5097>=1)&&(((t1$5098=bridge$5071$5080[0])),((t1$5098 instanceof Array)&&(((t2$5099=t1$5098.length)),((t2$5099>=2)&&((t1$5098[0]==="OP")&&((t1$5098[1]==="PFX")&&(Array.prototype.slice.call(t1$5098,2),(Array.prototype.slice.call(bridge$5071$5080,1),true))))))))))))){return ["OP","IFX",name$4979];}else{$5069$5075;return ["OP","SFX",name$4979];}})())));return [__lt____lt____lt____colon__$4693(t$5066,first$4977)].concat(results$5060);}else{___match_error($4969$5011);}}}}}}}}else{___match_error($4731$4745);}}));(buffer$4695=[]);(pfx$4696=true);(collapse$4697=(function(sfx$5137){var rval$5142;(rval$5142=collapse_operators$4694(buffer$4695,pfx$4696,sfx$5137));(buffer$4695=[]);return rval$5142;}));(results$4698=[]);(temp$5156=stream$4684);($length$5162=temp$5156.length);($index$5168=0);$4699:for(;($index$5168<$length$5162);($index$5168++)){var other$5249;var name$5199;var $4704$5200;var t0$5194;var t1$5195;var token$5186;var $4702$5187;var t0$5182;var m$5177;(m$5177=temp$5156[$index$5168]);(t0$5182=m$5177);(token$5186=t0$5182);($4702$5187=t0$5182);(t0$5194=$4702$5187);if(((t0$5194 instanceof Array)&&(((t1$5195=t0$5194.length)),((t1$5195===3)&&(t0$5194[0]==="OP"))))){($4704$5200=t0$5194[1]);(name$5199=t0$5194[2]);if(($4704$5200==="?FX")){buffer$4695.push(token$5186);}else{if(($4704$5200==="IFX")){(results$4698=results$4698.concat(collapse$4697(true)));results$4698.push(token$5186);(pfx$4696=true);}else{if(($4704$5200==="PFX")){(results$4698=results$4698.concat(collapse$4697(false)));results$4698.push(token$5186);(pfx$4696=true);}else{if(($4704$5200==="SFX")){(results$4698=results$4698.concat(collapse$4697(true)));results$4698.push(token$5186);(pfx$4696=false);}else{___match_error($4704$5200,"/home/olivier/git/eg/src/lex.eg",9136,9141);}}}}}else{(other$5249=$4702$5187);(results$4698=results$4698.concat(collapse$4697(false)));results$4698.push(token$5186);(pfx$4696=false);}}return results$4698.concat(collapse$4697(true));}));(alternate_operators$3854=(function(stream$5261){var $index$5305;var $length$5299;var temp$5293;var W$5267;var last_op$5268;var results$5269;(W$5267=(function(x$5281){if(x$5281){return "wide";}else{return "short";}}));(last_op$5268=true);(results$5269=[]);(temp$5293=stream$5261);($length$5299=temp$5293.length);($index$5305=0);$5270:for(;($index$5305<$length$5299);($index$5305++)){var x$5339;var $5360$5367;var token$5405;var fixity$5346;var name$5347;var t0$5331;var t1$5332;var token$5323;var $5273$5324;var t0$5319;var m$5314;(m$5314=temp$5293[$index$5305]);(t0$5319=m$5314);(token$5323=t0$5319);($5273$5324=t0$5319);if((((x$5339=$5273$5324)),((x$5339 instanceof Array)&&(x$5339[0]==="IGNORE")))){null;}else{(t0$5331=$5273$5324);if(((t0$5331 instanceof Array)&&(((t1$5332=t0$5331.length)),((t1$5332===3)&&(t0$5331[0]==="OP"))))){(fixity$5346=t0$5331[1]);(name$5347=t0$5331[2]);if(last_op$5268){results$5269.push(["VOID"]);}($5360$5367=fixity$5346);if(($5360$5367==="IFX")){results$5269.push(__lt____lt____colon__$3845(["IFX",W$5267((token$5323.wsa||token$5323.wsb)),name$5347],token$5323));(last_op$5268=true);}else{if(($5360$5367==="PFX")){if((!last_op$5268)){results$5269.push(["IFX",W$5267(token$5323.wsb),"WHITE"],["VOID"]);}results$5269.push(__lt____lt____colon__$3845(["PFX",W$5267(token$5323.wsa),name$5347],token$5323));(last_op$5268=true);}else{if(($5360$5367==="SFX")){results$5269.push(__lt____lt____colon__$3845(["SFX",W$5267(token$5323.wsb),name$5347],token$5323),["VOID"]);(last_op$5268=false);}else{___match_error($5360$5367);}}}}else{(token$5405=$5273$5324);if((!last_op$5268)){results$5269.push(["IFX",W$5267(token$5405.wsb),"WHITE"]);}results$5269.push(token$5405);(last_op$5268=false);}}}if(last_op$5268){results$5269.push(["VOID"]);}return results$5269;}));(fill_locations$3855=(function(source$5419,stream$5420){var $index$5517;var $length$5511;var temp$5505;var to_fill$5426;var start$5427;var fill$5428;(to_fill$5426=[]);(start$5427=0);(fill$5428=(function(end$5443){var $index$5466;var $length$5460;var temp$5454;(temp$5454=to_fill$5426);($length$5460=temp$5454.length);($index$5466=0);$5447:for(;($index$5466<$length$5460);($index$5466++)){var token$5492;var token$5483;var m$5475;(m$5475=temp$5454[$index$5466]);(token$5483=m$5475);if(($index$5466===0)){(token$5483["location"]=Location$3844(source$5419,start$5427,end$5443));}else{(token$5492=m$5475);(token$5492["location"]=Location$3844(source$5419,end$5443,end$5443));}}(to_fill$5426=[]);}));(temp$5505=stream$5420);($length$5511=temp$5505.length);($index$5517=0);$5429:for(;($index$5517<$length$5511);($index$5517++)){var other$5550;var location$5535;var t0$5531;var m$5526;(m$5526=temp$5505[$index$5517]);(t0$5531=m$5526);if((___hasprop(t0$5531,"location")&&((location$5535=t0$5531.location),location$5535))){fill$5428(location$5535.start);(start$5427=location$5535.end);}else{(other$5550=m$5526);to_fill$5426.push(other$5550);}}fill$5428(source$5419.text.length);return stream$5420;}));(tokenize$3856=(function(src$5557){var it$0$5585;var it$0$5579;var it$0$5573;var it$0$5567;var it$0$5561;(it$0$5561=src$5557);(it$0$5567=produce$3850(it$0$5561));(it$0$5573=process_indent$3852(it$0$5567));(it$0$5579=disambiguate_fixity$3853(it$0$5573));(it$0$5585=alternate_operators$3854(it$0$5579));return fill_locations$3855(src$5557,it$0$5585);}));(exports["tokenize"]=tokenize$3856);(exports["process_indent"]=process_indent$3852);(exports["disambiguate_fixity"]=disambiguate_fixity$3853);(exports["alternate_operators"]=alternate_operators$3854);(exports["fill_locations"]=fill_locations$3855);
