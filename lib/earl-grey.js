var $149=function(type$151){var f$154;(f$154=type$151["::check"]);;if((f$154===(void 0))){return function(value$159){return (value$159 instanceof type$151);};}else{return function(value$162){return f$154.call(type$151,value$162);};}};
var $164=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $165=function(temp$166$168){var ph$172;(ph$172=temp$166$168);;var m$170$177;(m$170$177=ph$172);;var bridge$171$182;var x$186;(bridge$171$182=m$170$177);if((((typeof(bridge$171$182)==="string")&&((x$186=bridge$171$182),true))||((typeof(bridge$171$182)==="number")&&((x$186=bridge$171$182),true)))){return ["value",x$186];}else{var other$193;(other$193=m$170$177);return other$193["::serialize_ast"]();}};
var send$12;(send$12=function(obj$17,temp$15$18){var ph$22;var msg$23;var t0$25;(t0$25=temp$15$18);(msg$23=t0$25);(ph$22=t0$25);;var m$20$29;(m$20$29=ph$22);;var bridge$21$34;(bridge$21$34=m$20$29);if(((typeof(bridge$21$34)==="string")||(typeof(bridge$21$34)==="number"))){return obj$17[msg$23];}else{var other$42;(other$42=m$20$29);return obj$17["::send"](msg$23);}});;(Array[":::project"]=function(temp$45$47){var ph$50;var value$51;var t0$53;(t0$53=temp$45$47);(value$51=t0$53);(ph$50=t0$53);;var m$49$57;(m$49$57=ph$50);;if($149(Array)(m$49$57)){return [true,value$51];}else{m$49$57;return [true,[value$51]];}});(Array.prototype["::check"]=function(value$71){if((value$71 instanceof Array)){var i$76;(i$76=0);;$74:for(;(i$76<this.length);(i$76++)){if(($164(this,i$76)!==$164(value$71,i$76))){return false;}}return true;}else{return false;}});(Array.prototype[":::project"]=function(value$85){if((value$85 instanceof Array)){var i$90;(i$90=0);;$88:for(;(i$90<this.length);(i$90++)){if(($164(this,i$90)!==$164(value$85,i$90))){return [true,[value$85]];}}return [true,value$85.slice(this.length)];}else{return [true,[value$85]];}});(Array.prototype[":::deconstruct"]=function(value$99){return [true,value$99.slice(this.length)];});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($165));});(RegExp.prototype["::check"]=function(value$104){return value$104.match(this);});(RegExp.prototype[":::project"]=function(value$107){var m$109$111;(m$109$111=value$107.match(this));;var m$119;if((m$109$111===null)){(m$119=m$109$111);return [false,null];}else{var m$124;(m$124=m$109$111);return [true,m$124];}});(RegExp.prototype[":::deconstruct"]=function(value$127){var m$129$131;(m$129$131=value$127.match(this));;var m$139;if((m$129$131===null)){(m$139=m$129$131);return [false,null];}else{var m$144;(m$144=m$129$131);return [true,m$144];}});(Function.prototype["::send"]=function(args$147){return this.apply(this,args$147);});
var $300=function(dest$302,values$303){var k$308;(k$308=null);$306:for(k$308 in values$303){if(values$303.hasOwnProperty(k$308)){(dest$302[k$308]=values$303[k$308]);}}return dest$302;};var $197$201;var Source$202;var Location$203;var highlight_locations$204;var $198$205;var tokenize$206;var $199$207;var parse$208;var $200$209;var translate$210;var Translator$211;var e2$212;var opt$213;var generate2$214;var Generator2$215;($197$201=require("./location"));;(Source$202=$197$201.Source);;(Location$203=$197$201.Location);;(highlight_locations$204=$197$201.highlight_locations);;($198$205=require("./lex"));;(tokenize$206=$198$205.tokenize);;($199$207=require("./parse"));;(parse$208=$199$207.parse);;($200$209=require("./translate-js"));;(translate$210=$200$209.translate);;(Translator$211=$200$209.Translator);;(e2$212=require("./stdenv"));;(opt$213=require("./opt"));;(generate2$214=function(source$258){return Generator2$215().generate(source$258);});;(Generator2$215=function(){var it$0$266;(it$0$266=function(){if((!$149(Generator2$215)(this))){return Object.create(Generator2$215.prototype);}else{return this;}}());;(it$0$266["tr"]=Translator$211(e2$212.stdprelude));return it$0$266;});;(Generator2$215.prototype["generate"]=function(source$275){var t$283;var p$284;var ex$285;var rval$286;var it$0$278;(it$0$278=this);;(t$283=tokenize$206(source$275));;(p$284=parse$208(t$283));;(ex$285=e2$212.expand(["top"],e2$212.topscope,e2$212.bind_ast(["multi",p$284],e2$212.stdenv.fork())));;(ex$285=opt$213.hoist(ex$285));(rval$286=it$0$278.tr.translate(ex$285,"stmt"));;return (it$0$278.tr.dump_store()+rval$286);});$300(Generator2$215,({}));Generator2$215;(exports["Source"]=Source$202);(exports["Location"]=Location$203);(exports["highlight_locations"]=highlight_locations$204);(exports["tokenize"]=tokenize$206);(exports["parse"]=parse$208);(exports["Generator2"]=Generator2$215);(exports["generate2"]=generate2$214);
