require("earlgrey-runtime");
var $15544=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});var pr_terminus$14731;var pr$14732;var __lt____gt__$14733;var repr$14734;var escape_html$14735;var quotify$14736;var HTML$14737;(pr_terminus$14731=(function(node$14742){var r$14748;var pre$14749;var post$14750;(r$14748=HTML$14737(node$14742,"span"));(pre$14749=(String.fromCharCode(27)+"[?0;7y+h <div class=\"ug\">"));(post$14750=("</div>"+String.fromCharCode(7)));return console.log(((pre$14749+r$14748)+post$14750));}));(pr$14732=(function($14764$14767,r$14768){var x$14792;var n$14787;var $14770$14779;var ph$14773;(ph$14773=$14764$14767);($14770$14779=ph$14773);if(getChecker(Node)($14770$14779)){(n$14787=$14770$14779);return pr_terminus$14731(n$14787);}else{(x$14792=$14770$14779);return pr_terminus$14731((r$14768||repr$14734)(x$14792));}}));(__lt____gt__$14733=(function($14798$14801,x$14802){if(($14798$14801===null)){}else{___match_error($14798$14801);}return pr$14732(x$14802);}));(repr$14734=(function(){var $index$14921;var $length$14915;var temp$14909;var acc$14903;var $index$14972;var $length$14966;var temp$14960;var acc$14954;var other$15009;var entries$14891;var $14826$14864;var t0$14862;var x$14840;var recur$14841;var $14815$14842;var t0$14834;var t1$14835;var t2$14836;var $14813$14829;($14813$14829=arguments);(t0$14834=$14813$14829.length);if((((t0$14834>=1)&&(t0$14834<=2))&&(((t1$14835=$14813$14829[0])),((x$14840=t1$14835),(($14815$14842=t1$14835),(((t2$14836=(function(){if((1>=t0$14834)){return repr$14734;}else{return $14813$14829[1];}})())),getChecker(Function)(t2$14836))))))){(recur$14841=t2$14836);if(($14815$14842===true)){return Node([".special",".true"],({}),"true");}else{if(($14815$14842===false)){return Node([".special",".false"],({}),"false");}else{if(($14815$14842===null)){return Node([".special",".nil"],({}),"null");}else{if(($14815$14842===(void 0))){return Node([".special",".nil"],({}),"undefined");}else{if((typeof($14815$14842)==="number")){return Node([".num"],({}),String(x$14840));}else{if((typeof($14815$14842)==="string")){return Node([".str"],({}),x$14840);}else{(t0$14862=$14815$14842);if(getChecker(Array)(t0$14862)){(entries$14891=t0$14862);return Node([".sequence"],({}),(((acc$14903=[])),(((temp$14909=entries$14891)),((($length$14915=temp$14909.length)),((($index$14921=0)),(function(){$14898:for(;($index$14921<$length$14915);($index$14921++)){var x$14938;var m$14930;(m$14930=temp$14909[$index$14921]);(x$14938=m$14930);acc$14903.push(recur$14841(x$14938,repr$14734));}})()))),acc$14903));}else{$14815$14842;if(x$14840["::repr"]){return x$14840["::repr"](recur$14841);}else{if((Object.getPrototypeOf(x$14840)===Object.prototype)){return Node(["table",".object"],({}),(((acc$14954=[])),(((temp$14960=items(x$14840))),((($length$14966=temp$14960.length)),((($index$14972=0)),(function(){$14949:for(;($index$14972<$length$14966);($index$14972++)){var k$14991;var v$14992;var t0$14986;var t1$14987;var m$14981;(m$14981=temp$14960[$index$14972]);(t0$14986=m$14981);if(((t0$14986 instanceof Array)&&(((t1$14987=t0$14986.length)),(t1$14987===2)))){(k$14991=t0$14986[0]);(v$14992=t0$14986[1]);acc$14954.push(Node(["tr"],({}),[Node(["th"],({}),recur$14841(k$14991,repr$14734)),Node(["td"],({}),recur$14841(v$14992,repr$14734))]));}else{___match_error(m$14981,"/home/olivier/git/eg/src/pp.eg",924,1244);}}})()))),acc$14954));}else{(other$15009=$14815$14842);return Node([".unknown"],({}),other$15009.toString());}}}}}}}}}}else{___match_error($14813$14829);}}));(escape_html$14735=(function($15017$15020){var t0$15024;var repl$15034;var s$15022;(t0$15024=[true,String($15017$15020)]);if(t0$15024[0]){(s$15022=t0$15024[1]);}else{___match_error($15017$15020);}(repl$15034=({"&":"&amp;","<":"&lt;",">":"&gt;"}));return s$15022.replace(RegExp("[&<>]","g"),(function(x$15040){return $15544(repl$15034,x$15040);}));}));(quotify$14736=(function($15046$15049){var t0$15053;var s$15051;(t0$15053=[true,String($15046$15049)]);if(t0$15053[0]){(s$15051=t0$15053[1]);}else{___match_error($15046$15049);}return s$15051.replace(RegExp("[\\\"\\\\]","g"),(function(x$15063){return ("\\"+x$15063);}));}));(HTML$14737=(function($15069$15072,default_tag$15073){var $index$15126;var $length$15120;var temp$15114;var acc$15108;var $index$15210;var $length$15204;var temp$15198;var $index$15270;var $length$15264;var temp$15258;var $index$15341;var $length$15335;var temp$15329;var acc$15323;var $index$15421;var $length$15415;var temp$15409;var acc$15403;var $index$15479;var $length$15473;var temp$15467;var acc$15461;var other$15454;var $15382$15387;var x$15518;var other$15514;var $15163$15502;var tag$15166;var classes$15167;var id$15168;var kv$15169;var sub$15170;var accum$15171;var children2$15172;var other$15524;var tags$15148;var props$15149;var children$15150;var children$15099;var s$15094;var $15075$15086;var ph$15080;(ph$15080=$15069$15072);($15075$15086=ph$15080);if((typeof($15075$15086)==="string")){(s$15094=$15075$15086);return escape_html$14735(s$15094);}else{if(getChecker(Array)($15075$15086)){(children$15099=$15075$15086);return (((acc$15108=[])),(((temp$15114=children$15099)),((($length$15120=temp$15114.length)),((($index$15126=0)),(function(){$15103:for(;($index$15126<$length$15120);($index$15126++)){var child$15143;var m$15135;(m$15135=temp$15114[$index$15126]);(child$15143=m$15135);acc$15108.push(HTML$14737(child$15143,default_tag$15073));}})()))),acc$15108).join("");}else{if((getChecker(Node)($15075$15086)&&(___hasprop($15075$15086,"tags")&&((tags$15148=$15075$15086.tags),(___hasprop($15075$15086,"props")&&((props$15149=$15075$15086.props),___hasprop($15075$15086,"children"))))))){(children$15150=$15075$15086.children);(tag$15166=(default_tag$15073||"span"));(classes$15167=[]);(id$15168=null);(kv$15169=[]);(sub$15170=[]);(temp$15198=tags$15148);($length$15204=temp$15198.length);($index$15210=0);$15173:for(;($index$15210<$length$15204);($index$15210++)){var other$15249;var cls$15230;var t0$15224;var t1$15225;var t2$15226;var m$15219;(m$15219=temp$15198[$index$15210]);(t0$15224=getProjector(RegExp("^\\.(.*)",""))(m$15219));if((t0$15224[0]&&(((t1$15225=t0$15224[1])),(((t2$15226=t1$15225.length)),(t2$15226===2))))){t1$15225[0];(cls$15230=t1$15225[1]);classes$15167.push(cls$15230);}else{(other$15249=m$15219);(tag$15166=other$15249);}}(temp$15258=items(props$15149));($length$15264=temp$15258.length);($index$15270=0);$15177:for(;($index$15270<$length$15264);($index$15270++)){var k$15289;var v$15290;var t0$15284;var t1$15285;var m$15279;(m$15279=temp$15258[$index$15270]);(t0$15284=m$15279);if(((t0$15284 instanceof Array)&&(((t1$15285=t0$15284.length)),(t1$15285===2)))){(k$15289=t0$15284[0]);(v$15290=t0$15284[1]);kv$15169.push([k$15289,v$15290]);}else{___match_error(m$15279,"/home/olivier/git/eg/src/pp.eg",1953,2017);}}(accum$15171=(function(){if((tag$15166==="raw")){return [];}else{return ["<",tag$15166];}})());if(id$15168){(accum$15171=accum$15171.concat(" id=\"",id$15168,"\""));}if(classes$15167.length){(accum$15171=accum$15171.concat(" class=\"",quotify$14736(classes$15167.join(" ")),"\""));}if(kv$15169){(acc$15323=[]);(temp$15329=kv$15169);($length$15335=temp$15329.length);($index$15341=0);$15318:for(;($index$15341<$length$15335);($index$15341++)){var k$15360;var v$15361;var t0$15355;var t1$15356;var m$15350;(m$15350=temp$15329[$index$15341]);(t0$15355=m$15350);if(((t0$15355 instanceof Array)&&(((t1$15356=t0$15355.length)),(t1$15356===2)))){(k$15360=t0$15355[0]);(v$15361=t0$15355[1]);acc$15323.push(((accum$15171=accum$15171.concat((function(){if((v$15361!==null)){return [" ",k$15360,"=\"",quotify$14736(v$15361),"\""];}else{return [" ",k$15360];}})()))));}else{___match_error(m$15350,"/home/olivier/git/eg/src/pp.eg",2289,2479);}}acc$15323;}(children2$15172=((($15382$15387=tag$15166)),(function(){if(($15382$15387==="raw")){(acc$15403=[]);(temp$15409=children$15150);($length$15415=temp$15409.length);($index$15421=0);$15397:for(;($index$15421<$length$15415);($index$15421++)){var c$15449;var s$15439;var t0$15435;var m$15430;(m$15430=temp$15409[$index$15421]);(t0$15435=m$15430);if((typeof(t0$15435)==="string")){(s$15439=t0$15435);acc$15403.push(s$15439);}else{(c$15449=m$15430);acc$15403.push(HTML$14737(c$15449,default_tag$15073));}}return acc$15403;}else{(other$15454=$15382$15387);(acc$15461=[]);(temp$15467=children$15150);($length$15473=temp$15467.length);($index$15479=0);$15456:for(;($index$15479<$length$15473);($index$15479++)){var c$15496;var m$15488;(m$15488=temp$15467[$index$15479]);(c$15496=m$15488);acc$15461.push(HTML$14737(c$15496,default_tag$15073));}return acc$15461;}})()));($15163$15502=tag$15166);if(($15163$15502==="raw")){return accum$15171.concat(children2$15172).join("");}else{(other$15514=$15163$15502);(x$15518=[">"].concat(children2$15172).concat(["</",tag$15166,">"]));return accum$15171.concat(x$15518).join("");}}else{(other$15524=$15075$15086);return HTML$14737([true,String(other$15524)][1],default_tag$15073);}}}}));(exports["pr_terminus"]=pr_terminus$14731);(exports["pr"]=pr$14732);(exports["<>"]=__lt____gt__$14733);(exports["repr"]=repr$14734);
