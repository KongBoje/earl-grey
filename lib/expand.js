var $793=function(type$795){var f$798;(f$798=type$795["::check"]);;if((f$798===(void 0))){return function(value$803){return (value$803 instanceof type$795);};}else{return function(value$806){return f$798.call(type$795,value$806);};}};
var $808=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $809=function($810$812){var ph$816;(ph$816=$810$812);;var $814$821;($814$821=ph$816);;var bridge$815$826;var x$830;(bridge$815$826=$814$821);if((((typeof(bridge$815$826)==="string")&&((x$830=bridge$815$826),true))||((typeof(bridge$815$826)==="number")&&((x$830=bridge$815$826),true)))){return ["value",x$830];}else{var other$837;(other$837=$814$821);return other$837["::serialize_ast"]();}};
var send$656;(send$656=function(obj$661,$659$662){var ph$666;var msg$667;var t0$669;(t0$669=$659$662);(msg$667=t0$669);(ph$666=t0$669);;var $664$673;($664$673=ph$666);;var bridge$665$678;(bridge$665$678=$664$673);if(((typeof(bridge$665$678)==="string")||(typeof(bridge$665$678)==="number"))){return obj$661[msg$667];}else{var other$686;(other$686=$664$673);return obj$661["::send"](msg$667);}});;(Array[":::project"]=function($689$691){var ph$694;var value$695;var t0$697;(t0$697=$689$691);(value$695=t0$697);(ph$694=t0$697);;var $693$701;($693$701=ph$694);;if($793(Array)($693$701)){return [true,value$695];}else{$693$701;return [true,[value$695]];}});(Array.prototype["::check"]=function(value$715){if((value$715 instanceof Array)){var i$720;(i$720=0);;$718:for(;(i$720<this.length);(i$720++)){if(($808(this,i$720)!==$808(value$715,i$720))){return false;}}return true;}else{return false;}});(Array.prototype[":::project"]=function(value$729){if((value$729 instanceof Array)){var i$734;(i$734=0);;$732:for(;(i$734<this.length);(i$734++)){if(($808(this,i$734)!==$808(value$729,i$734))){return [true,[value$729]];}}return [true,value$729.slice(this.length)];}else{return [true,[value$729]];}});(Array.prototype[":::deconstruct"]=function(value$743){return [true,value$743.slice(this.length)];});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($809));});(RegExp.prototype["::check"]=function(value$748){return value$748.match(this);});(RegExp.prototype[":::project"]=function(value$751){var $753$755;($753$755=value$751.match(this));;var m$763;if(($753$755===null)){(m$763=$753$755);return [false,null];}else{var m$768;(m$768=$753$755);return [true,m$768];}});(RegExp.prototype[":::deconstruct"]=function(value$771){var $773$775;($773$775=value$771.match(this));;var m$783;if(($773$775===null)){(m$783=$773$775);return [false,null];}else{var m$788;(m$788=$773$775);return [true,m$788];}});(Function.prototype["::send"]=function(args$791){return this.apply(this,args$791);});
var $2905=function(dest$2907,values$2908){var k$2913;(k$2913=null);$2911:for(k$2913 in values$2908){if(values$2908.hasOwnProperty(k$2913)){(dest$2907[k$2913]=values$2908[k$2913]);}}return dest$2907;};
var $2799=function(){var $2800$2802;($2800$2802=function(tags$2806){var it$0$2809;(it$0$2809=function(){if((!$793($2800$2802)(this))){return Object.create($2800$2802.prototype);}else{return this;}}());;(it$0$2809["tags"]=tags$2806);return it$0$2809;});;($2800$2802.prototype["create"]=function(){var $2818$2820;($2818$2820=arguments);;var t0$2825;var message$2829;var args$2830;(t0$2825=$2818$2820.length);if((t0$2825>=0)){(message$2829=function(){if((0>=t0$2825)){return "";}else{return $2818$2820[0];}}());(args$2830=Array.prototype.slice.call($2818$2820,1));var it$0$2834;(it$0$2834=this);;var e$2839;(e$2839=Error(message$2829));;(e$2839["::tags"]=it$0$2834.tags);(e$2839["args"]=args$2830);(e$2839["name"]=["E"].concat(it$0$2834.tags).join("."));return e$2839;}else{$2786($2818$2820);}});($2800$2802.prototype["::check"]=function(e$2848){var it$0$2851;(it$0$2851=this);;var tags$2856;if(((!e$2848)||(!$793(Error)(e$2848)))){return false;}(tags$2856=(e$2848["::tags"]||[]));;var temp$2864;(temp$2864=it$0$2851.tags);;var len$2869;(len$2869=temp$2864.length);;var i$2874;(i$2874=0);;$2857:for(;(i$2874<len$2869);(i$2874++)){var m$2882;(m$2882=temp$2864[i$2874]);;var tag$2890;(tag$2890=m$2882);if((tags$2856.indexOf(tag$2890)===(-1))){return false;}else{false;;}}return true;});($2800$2802.prototype["::deconstruct"]=function(e$2898){var it$0$2901;(it$0$2901=this);;return e$2898.args;});$2905($2800$2802,({}));return $2800$2802;}();
var $2786=function(value$2788,url$2789,start$2790,end$2791){var err$2794;(err$2794=$2799(["match"]).create("Could not find a match for value",({"value":value$2788})));;if(url$2789){(err$2794["location"]=["location",url$2789,start$2790,end$2791]);}throw err$2794;};
var $2917=function($2918$2920,key$2921){var ph$2925;(ph$2925=$2918$2920);;var $2923$2930;($2923$2930=ph$2925);;var bridge$2924$2935;(bridge$2924$2935=$2923$2930);if(((bridge$2924$2935===null)||(bridge$2924$2935===(void 0)))){return false;}else{var x$2943;if((typeof($2923$2930)==="string")){(x$2943=$2923$2930);return (key$2921 in String.prototype);}else{var x$2948;if((typeof($2923$2930)==="number")){(x$2948=$2923$2930);return (key$2921 in Number.prototype);}else{var x$2953;(x$2953=$2923$2930);return (key$2921 in x$2953);}}}};
var $2955=function(type$2957){return function(value$2960){var f$2963;(f$2963=type$2957[":::project"]);;if((f$2963===(void 0))){var f$2968;(f$2968=type$2957["::project"]);;if((f$2968===(void 0))){return [true,type$2957(value$2960)];}else{var rval$2973;(rval$2973=false);;try{(rval$2973=[true,f$2968(value$2960)]);}catch(excv$2979){var e$2985;(e$2985=excv$2979);(rval$2973=[false,null]);}return rval$2973;}}else{return f$2963.call(type$2957,value$2960);}};};var $840$843;var __lt____gt__$844;var $841$845;var __lt____lt____colon__$846;var util$847;var classify$848;var items$849;var iterkeys$850;var enumerate$851;var neighbours$852;var zip$853;var GenSym$854;var gensym$855;var uuid$856;var $842$857;var PatternParser$858;var PatternProcessor$859;var Scope$860;var Env$861;var bind_ast$862;var track_location$863;var Expander$864;var mac1$865;var __chk_ncache$866;var __chk_scache$867;var checker_db$868;($840$843=require("./pp"));;(__lt____gt__$844=$840$843["<>"]);;($841$845=require("./location"));;(__lt____lt____colon__$846=$841$845["<<:"]);;(util$847=require("./util"));;(classify$848=util$847.classify);;(items$849=util$847.items);;(iterkeys$850=util$847.keys);;(enumerate$851=util$847.enumerate);;(neighbours$852=util$847.neighbours);;(zip$853=util$847.zip);;(GenSym$854=util$847.GenSym);;(gensym$855=util$847.gensym);;(uuid$856=util$847.uuid);;($842$857=require("./pattern"));;(PatternParser$858=$842$857.PatternParser);;(PatternProcessor$859=$842$857.PatternProcessor);;(Scope$860=function(){var it$0$940;var parent$934;var name$935;var expander$936;var t0$930;var $923$925;($923$925=arguments);;(t0$930=$923$925.length);if(((t0$930>=0)&&(t0$930<=3))){(parent$934=function(){if((0>=t0$930)){return null;}else{return $923$925[0];}}());(name$935=function(){if((1>=t0$930)){return null;}else{return $923$925[1];}}());(expander$936=function(){if((2>=t0$930)){return null;}else{return $923$925[2];}}());(it$0$940=function(){if((!$793(Scope$860)(this))){return Object.create(Scope$860.prototype);}else{return this;}}());;(it$0$940["name"]=(name$935||gensym$855("scope")));(it$0$940["parent"]=parent$934);(it$0$940["options"]=({}));(it$0$940["expander"]=(expander$936||parent$934.expander));return it$0$940;}else{$2786($923$925);}});;(Scope$860.prototype["getopt"]=function(opt$952){var otherwise$979;var $956$968;var $955$962;var it$0$957;(it$0$957=this);;($955$962=null);;$955$962;if((opt$952 in it$0$957.options)){return $808(it$0$957.options,opt$952);}else{if((it$0$957.parent===null)){return (void 0);}else{(otherwise$979=$955$962);return it$0$957.parent.getopt(opt$952);}}});(Scope$860.prototype["setopt"]=function(opt$984,value$985){var it$0$988;(it$0$988=this);;return (it$0$988.options[opt$984]=value$985);});(Scope$860.prototype["gensym"]=function(){var it$0$997;(it$0$997=this);;return it$0$997.expander.gensym();});(Scope$860.prototype["step"]=function(context$1004,expr$1005){var it$0$1008;(it$0$1008=this);;return it$0$1008.expander.step(context$1004,it$0$1008,expr$1005);});(Scope$860.prototype["step_all"]=function(context$1015,exprs$1016){var it$0$1019;(it$0$1019=this);;return it$0$1019.expander.step_all(context$1015,it$0$1019,exprs$1016);});(Scope$860.prototype["expand"]=function(context$1026,expr$1027){var it$0$1030;(it$0$1030=this);;return it$0$1030.expander.expand(context$1026,it$0$1030,expr$1027);});(Scope$860.prototype["toString"]=function(){var it$0$1039;(it$0$1039=this);;return (("Scope{"+it$0$1039.name)+"}");});$2905(Scope$860,({}));Scope$860;(Env$861=function(){var it$0$1048;(it$0$1048=function(){if((!$793(Env$861)(this))){return Object.create(Env$861.prototype);}else{return this;}}());;(it$0$1048["scopes"]=({}));return it$0$1048;});;(Env$861.prototype["resolve"]=function(scope$1057,name$1058){var scope_data$1066;var it$0$1061;(it$0$1061=this);;if((scope$1057===null)){return (void 0);}(scope_data$1066=$808(it$0$1061.scopes,scope$1057.name));;if((scope_data$1066&&Object.prototype.hasOwnProperty.call(scope_data$1066,name$1058))){return $808(scope_data$1066,name$1058);}else{return it$0$1061.resolve(scope$1057.parent,name$1058);}});(Env$861.prototype["bind"]=function(scope$1074,name$1075,value$1076){var it$0$1079;(it$0$1079=this);;if((!$808(it$0$1079.scopes,scope$1074.name))){(it$0$1079.scopes[scope$1074.name]=({}));}return ($808(it$0$1079.scopes,scope$1074.name)[name$1075]=value$1076);});(Env$861.prototype["fork"]=function(){var i$1112;var len$1107;var temp$1102;var e$1095;var it$0$1090;(it$0$1090=this);;(e$1095=Env$861());;(temp$1102=items$849(it$0$1090.scopes));;(len$1107=temp$1102.length);;(i$1112=0);;$1096:for(;(i$1112<len$1107);(i$1112++)){var i$1152;var len$1147;var temp$1142;var acc$1137;var scope$1130;var bindings$1131;var t0$1125;var t1$1126;var m$1120;(m$1120=temp$1102[i$1112]);;(t0$1125=m$1120);if(((t0$1125 instanceof Array)&&((t1$1126=t0$1125.length),(t1$1126===2)))){(scope$1130=t0$1125[0]);(bindings$1131=t0$1125[1]);(acc$1137=[]);;(temp$1142=items$849(bindings$1131));;(len$1147=temp$1142.length);;(i$1152=0);;$1135:for(;(i$1152<len$1147);(i$1152++)){var k$1170;var v$1171;var t0$1165;var t1$1166;var m$1160;(m$1160=temp$1142[i$1152]);;(t0$1165=m$1160);if(((t0$1165 instanceof Array)&&((t1$1166=t0$1165.length),(t1$1166===2)))){(k$1170=t0$1165[0]);(v$1171=t0$1165[1]);acc$1137.push((function(){if((!$808(e$1095.scopes,scope$1130))){return (e$1095.scopes[scope$1130]=({}));}}(),($808(e$1095.scopes,scope$1130)[k$1170]=v$1171)));}else{false;;}}acc$1137;}else{false;;}}return e$1095;});(Env$861.prototype["toString"]=function(){var it$0$1186;(it$0$1186=this);;return "Env{...}";});$2905(Env$861,({}));Env$861;(bind_ast$862=function($1192$1194,env$1195){var t0$1205;var x$1235;var x$1240;var bridge$1201$1232;var x$1245;var bridge$1200$1229;var x$1250;var bridge$1199$1226;var x$1255;var i$1281;var len$1276;var temp$1271;var other$1301;var type$1262;var args$1263;var e$1219;var bridge$1198$1214;var t0$1215;var $1197$1209;var ph$1202;var expr$1203;(t0$1205=$1192$1194);(expr$1203=t0$1205);(ph$1202=t0$1205);;($1197$1209=ph$1202);;if($2917($1197$1209,"env")){(e$1219=$1197$1209.env);return expr$1203;}else{(bridge$1198$1214=$1197$1209);if((((bridge$1199$1226=bridge$1198$1214),(((bridge$1200$1229=bridge$1199$1226),(((bridge$1201$1232=bridge$1200$1229),((((x$1235=bridge$1201$1232)),((x$1235 instanceof Array)&&(x$1235[0]==="symbol")))||(((x$1240=bridge$1201$1232)),((x$1240 instanceof Array)&&(x$1240[0]==="value")))))||(((x$1245=bridge$1200$1229)),((x$1245 instanceof Array)&&(x$1245[0]==="variable")))))||(((x$1250=bridge$1199$1226)),((x$1250 instanceof Array)&&(x$1250[0]==="macro")))))||(((x$1255=bridge$1198$1214)),((x$1255 instanceof Array)&&(x$1255[0]==="void"))))){return $2905(expr$1203,({"env":env$1195}));}else{if((($1197$1209 instanceof Array)&&((t0$1215=$1197$1209.length),(t0$1215>=1)))){(type$1262=$1197$1209[0]);(args$1263=Array.prototype.slice.call($1197$1209,1));(temp$1271=args$1263);;(len$1276=temp$1271.length);;(i$1281=0);;$1268:for(;(i$1281<len$1276);(i$1281++)){var arg$1297;var m$1289;(m$1289=temp$1271[i$1281]);;(arg$1297=m$1289);bind_ast$862(arg$1297,env$1195);}return $2905(expr$1203,({"env":env$1195}));}else{(other$1301=$1197$1209);return $2905(expr$1203,({"env":env$1195}));}}}});;(track_location$863=function(f$1307){var f2$1310;(f2$1310=function(context$1314,scope$1315,expr$1316){var rval$1324;var other$1356;var v$1350;var t0$1346;var $1319$1341;var rval$1320;(rval$1320=(((rval$1324=false)),(function(){try{(rval$1324=f$1307(context$1314,scope$1315,expr$1316));}catch(excv$1330){var e$1336;(e$1336=excv$1330);(rval$1324=(__lt____lt____colon__$846(e$1336,expr$1316),function(){throw e$1336;}()));}}(),rval$1324)));;($1319$1341=rval$1320);;if((($1319$1341 instanceof Array)&&((t0$1346=$1319$1341.length),((t0$1346===2)&&($1319$1341[0]==="bounce"))))){(v$1350=$1319$1341[1]);return f2$1310(context$1314,scope$1315,__lt____lt____colon__$846(v$1350,expr$1316));}else{(other$1356=$1319$1341);return __lt____lt____colon__$846(other$1356,expr$1316);}});;return f2$1310;});;(Expander$864=function(env_factory$1363,generic_nodes$1364){var it$0$1367;(it$0$1367=function(){if((!$793(Expander$864)(this))){return Object.create(Expander$864.prototype);}else{return this;}}());;(it$0$1367["gensym"]=gensym$855);(it$0$1367["mkenv"]=env_factory$1363);(it$0$1367["generic_nodes"]=generic_nodes$1364);return it$0$1367;});;(Expander$864.prototype["run_macro"]=function(m$1377,context$1378,scope$1379,form$1380,arg$1381){var rval$1393;var rval$1389;var it$0$1384;(it$0$1384=this);;(rval$1389=(((rval$1393=false)),(function(){try{(rval$1393=m$1377(context$1378,scope$1379,form$1380,arg$1381));}catch(excv$1399){var msg$1432;var msg$1526;var find$1441;var err$1442;var other$1438;var $1419$1421;var e$1416;var e$1533;var value$1409;var t0$1402;var t1$1403;var t2$1404;var t3$1405;(t0$1402=excv$1399);if(($793($2799(["match"]))(t0$1402)&&($2917(t0$1402,"args")&&((t1$1403=t0$1402.args),((t1$1403 instanceof Array)&&((t2$1404=t1$1403.length),((t2$1404===1)&&((t3$1405=t1$1403[0]),$2917(t3$1405,"value"))))))))){(value$1409=t3$1405.value);(rval$1393=(((e$1416=((($1419$1421=value$1409)),function(){if(($1419$1421===context$1378)){(msg$1432="The macro cannot be found in this context.");;return $2799(["syntax","context"]).create(msg$1432,({"context":context$1378,"form":form$1380}));}else{(other$1438=$1419$1421);(find$1441=function($1445$1447){var t0$1453;var msg$1469;var i$1494;var len$1489;var temp$1484;var other$1519;var type$1475;var xs$1476;var t0$1462;var $1449$1457;var ph$1450;var arg$1451;(t0$1453=$1445$1447);(arg$1451=t0$1453);(ph$1450=t0$1453);;($1449$1457=ph$1450);;if(($1449$1457===value$1409)){(msg$1469="The macro could not match its argument (or part of it).");;return $2799(["syntax","argument"]).create(msg$1469,({"context":context$1378,"argument":arg$1451,"form":form$1380}));}else{if((($1449$1457 instanceof Array)&&((t0$1462=$1449$1457.length),(t0$1462>=1)))){(type$1475=$1449$1457[0]);(xs$1476=Array.prototype.slice.call($1449$1457,1));(temp$1484=xs$1476);;(len$1489=temp$1484.length);;(i$1494=0);;$1481:for(;(i$1494<len$1489);(i$1494++)){var x$1511;var t0$1507;var m$1502;(m$1502=temp$1484[i$1494]);;(t0$1507=$2955(find$1441)(m$1502));if(t0$1507[0]){(x$1511=t0$1507[1]);if(x$1511){return x$1511;}}else{false;;}}return false;}else{(other$1519=$1449$1457);return false;}}});;(err$1442=find$1441(arg$1381));;if(err$1442){return err$1442;}else{(msg$1526="The macro failed because it failed to match some value, probably one that it generated itself.");;return $2799(["syntax","failure"]).create(msg$1526,({"form":form$1380,"value":value$1409}));}}}()))),function(){throw e$1416;}()));}else{(e$1533=excv$1399);(rval$1393=function(){throw e$1533;}());}}}(),rval$1393)));;bind_ast$862(rval$1389,it$0$1384.mkenv());return rval$1389;});(Expander$864.prototype["step"]=function(context$1539,scope$1540,expr$1541){var helper$1549;var it$0$1544;(it$0$1544=this);;(helper$1549=track_location$863(function(context$1554,scope$1555,$1552$1556){var t0$1565;var other$1605;var env$1600;var $1590$1592;var other$1638;var t0$1629;var $1622$1624;var other$1642;var m$1618;var t0$1614;var $1586$1609;var env$1587;var other$1665;var t0$1656;var $1649$1651;var other$1690;var m$1684;var t0$1680;var $1673$1675;var other$1699;var x$1694;var f$1669;var arg$1670;var m$1646;var s$1581;var $1559$1576;var $1560$1577;var $1561$1578;var t0$1574;var $1558$1569;var ph$1562;var expr$1563;(t0$1565=$1552$1556);(expr$1563=t0$1565);(ph$1562=t0$1565);;($1558$1569=ph$1562);;if((($1559$1576=($1558$1569 instanceof Array))&&((t0$1574=$1558$1569.length),(($1561$1578=(t0$1574===2))&&($1558$1569[0]==="symbol"))))){(s$1581=$1558$1569[1]);(env$1587=((($1590$1592=expr$1563)),function(){if($2917($1590$1592,"env")){(env$1600=$1590$1592.env);return expr$1563.env;}else{(other$1605=$1590$1592);throw $2799(["syntax","no_env"]).create("No environment was found to resolve",({"symbol":expr$1563}));}}()));;($1586$1609=env$1587.resolve(scope$1555,s$1581));;if((($1586$1609 instanceof Array)&&((t0$1614=$1586$1609.length),((t0$1614===2)&&($1586$1609[0]==="macro"))))){(m$1618=$1586$1609[1]);($1622$1624=context$1554);;if((($1622$1624 instanceof Array)&&((t0$1629=$1622$1624.length),((t0$1629===2)&&(($1622$1624[0]==="expr")&&($1622$1624[1]==="head")))))){return ["macro",m$1618];}else{(other$1638=$1622$1624);return ["bounce",it$0$1544.run_macro(m$1618,context$1554,scope$1555,expr$1563,["void"])];}}else{(other$1642=$1586$1609);return expr$1563;}}else{if(($1561$1578&&($1558$1569[0]==="macro"))){(m$1646=$1558$1569[1]);($1649$1651=context$1554);;if((($1649$1651 instanceof Array)&&((t0$1656=$1649$1651.length),((t0$1656===2)&&(($1649$1651[0]==="expr")&&($1649$1651[1]==="head")))))){return expr$1563;}else{(other$1665=$1649$1651);return ["bounce",it$0$1544.run_macro(m$1646,context$1554,scope$1555,expr$1563,["void"])];}}else{if(($1559$1576&&((t0$1574===3)&&($1558$1569[0]==="send")))){(f$1669=$1558$1569[1]);(arg$1670=$1558$1569[2]);($1673$1675=helper$1549(["expr","head"],scope$1555,f$1669));;if((($1673$1675 instanceof Array)&&((t0$1680=$1673$1675.length),((t0$1680===2)&&($1673$1675[0]==="macro"))))){(m$1684=$1673$1675[1]);return ["bounce",it$0$1544.run_macro(m$1684,context$1554,scope$1555,expr$1563,arg$1670)];}else{(other$1690=$1673$1675);return expr$1563;}}else{if(($1559$1576&&((t0$1574===2)&&($1558$1569[0]==="nostep")))){(x$1694=$1558$1569[1]);return x$1694;}else{(other$1699=$1558$1569);return expr$1563;}}}}}));;return helper$1549(context$1539,scope$1540,expr$1541);});(Expander$864.prototype["step_all"]=function(context$1706,scope$1707,$1704$1708){var t0$1712;var t1$1713;var pre$1724;var bulk$1725;var post$1726;var it$0$1719;var stmts$1710;(t0$1712=$1704$1708);if(((t0$1712 instanceof Array)&&((t1$1713=t0$1712.length),(t1$1713>=0)))){(stmts$1710=Array.prototype.slice.call(t0$1712,0));;}else{$2786($1704$1708);}(it$0$1719=this);;(pre$1724=[]);;(bulk$1725=[]);;(post$1726=[]);;$1736:while(stmts$1710.length){var x$1782;var m$1777;var stmt$1772;var stmt$1767;var prepend$1761;var $1741$1756;var $1742$1757;var $1743$1758;var t0$1754;var $1740$1749;var current$1744;(current$1744=stmts$1710.shift());;($1740$1749=it$0$1719.step(context$1706,scope$1707,current$1744));;if((($1741$1756=($1740$1749 instanceof Array))&&((t0$1754=$1740$1749.length),((t0$1754>=1)&&($1740$1749[0]==="splice"))))){(prepend$1761=Array.prototype.slice.call($1740$1749,1));(stmts$1710=prepend$1761.concat(stmts$1710));}else{if(($1741$1756&&(($1743$1758=(t0$1754===2))&&($1740$1749[0]==="float")))){(stmt$1767=$1740$1749[1]);(pre$1724=pre$1724.concat(it$0$1719.step_all(context$1706,scope$1707,[stmt$1767])));}else{if(($1743$1758&&($1740$1749[0]==="sink"))){(stmt$1772=$1740$1749[1]);(post$1726=post$1726.concat(it$0$1719.step_all(context$1706,scope$1707,[stmt$1772])));}else{if(($1743$1758&&($1740$1749[0]==="multimacro"))){(m$1777=$1740$1749[1]);(stmts$1710=m$1777(context$1706,scope$1707,current$1744,stmts$1710));}else{(x$1782=$1740$1749);bulk$1725.push(x$1782);}}}}}return pre$1724.concat(bulk$1725).concat(post$1726);});(Expander$864.prototype["expand"]=function(context$1787,scope$1788,expr$1789){var helper$1797;var it$0$1792;(it$0$1792=this);;(helper$1797=track_location$863(function(context$1801,scope$1802,expr$1803){var t0$1834;var other$1851;var $1831$1839;var env$1832;var i$1897;var len$1892;var temp$1887;var acc$1882;var newargs$1877;var i$1942;var len$1937;var temp$1932;var acc$1927;var newargs$1922;var t0$1986;var newscope$1980;var env$1981;var i$2042;var len$2037;var temp$2032;var acc$2027;var i$2159;var len$2154;var temp$2149;var acc$2144;var t0$2017;var newscope$2001;var stepscope$2002;var changes$2003;var newargs$2004;var vars$2005;var exp$2006;var i$2432;var len$2427;var temp$2422;var other$2506;var t0$2489;var $2482$2484;var is_obj$2344;var obj$2345;var arr$2346;var arr_parts$2347;var obj_parts$2348;var new_arr_part$2349;var new_obj_part$2350;var r$2351;var i$2548;var len$2543;var temp$2538;var acc$2533;var newscope$2526;var s$2608;var newscope$2617;var name$2604;var t0$2600;var i$2651;var len$2646;var temp$2641;var acc$2636;var other$2671;var type$2628;var args$2629;var tag$2621;var body$2622;var x$2595;var $1807$2596;var bindings$2521;var body$2522;var target$2515;var value$2516;var args$2340;var args$1997;var args$1992;var variable$1970;var s$1971;var value$1972;var body$1973;var args$1918;var args$1873;var f$1867;var arg$1868;var s$1826;var $1808$1821;var $1809$1822;var $1810$1823;var t0$1817;var t1$1818;var t2$1819;var $1806$1812;(expr$1803=it$0$1792.step(context$1801,scope$1802,expr$1803));($1806$1812=expr$1803);;if((($1808$1821=($1806$1812 instanceof Array))&&((t0$1817=$1806$1812.length),(($1810$1823=(t0$1817===2))&&($1806$1812[0]==="symbol"))))){(s$1826=$1806$1812[1]);(t0$1834=expr$1803);if($2917(t0$1834,"env")){(env$1832=t0$1834.env);;}else{$2786(expr$1803,"/home/olivier/git/earl-grey/src/expand.eg",7837,7841);}($1831$1839=env$1832.resolve(scope$1802,s$1826));;if(($1831$1839===(void 0))){throw $2799(["syntax","undeclared"]).create(("Undeclared variable: "+s$1826),({"node":expr$1803}));}else{(other$1851=$1831$1839);return ["bounce",other$1851];}}else{if(($1810$1823&&($1806$1812[0]==="value"))){$1806$1812[1];return expr$1803;}else{if(($1810$1823&&($1806$1812[0]==="variable"))){$1806$1812[1];return expr$1803;}else{if(($1808$1821&&((t0$1817===1)&&($1806$1812[0]==="void")))){return expr$1803;}else{if(($1808$1821&&((t0$1817===3)&&($1806$1812[0]==="send")))){(f$1867=$1806$1812[1]);(arg$1868=$1806$1812[2]);return ["send",helper$1797(["expr","head"],scope$1802,f$1867),helper$1797(["expr","tail"],scope$1802,arg$1868)];}else{if(($1808$1821&&(($1810$1823=(t0$1817>=1))&&($1806$1812[0]==="array")))){(args$1873=Array.prototype.slice.call($1806$1812,1));(newargs$1877=(((acc$1882=[])),(((temp$1887=it$0$1792.step_all(["expr","array"],scope$1802,args$1873))),(((len$1892=temp$1887.length)),(((i$1897=0)),function(){$1880:for(;(i$1897<len$1892);(i$1897++)){var arg$1913;var m$1905;(m$1905=temp$1887[i$1897]);;(arg$1913=m$1905);acc$1882.push(helper$1797(["expr","expr"],scope$1802,arg$1913));}}()))),acc$1882));;return ["array"].concat(newargs$1877);}else{if(($1810$1823&&($1806$1812[0]==="object"))){(args$1918=Array.prototype.slice.call($1806$1812,1));(newargs$1922=(((acc$1927=[])),(((temp$1932=it$0$1792.step_all(["expr","object"],scope$1802,args$1918))),(((len$1937=temp$1932.length)),(((i$1942=0)),function(){$1925:for(;(i$1942<len$1937);(i$1942++)){var k$1960;var v$1961;var t0$1955;var t1$1956;var m$1950;(m$1950=temp$1932[i$1942]);;(t0$1955=m$1950);if(((t0$1955 instanceof Array)&&((t1$1956=t0$1955.length),((t1$1956===3)&&(t0$1955[0]==="array"))))){(k$1960=t0$1955[1]);(v$1961=t0$1955[2]);acc$1927.push(["array",helper$1797(["expr","expr"],scope$1802,k$1960),helper$1797(["expr","expr"],scope$1802,v$1961)]);}else{false;;}}}()))),acc$1927));;return ["object"].concat(newargs$1922);}else{if(($1808$1821&&((t0$1817===4)&&(($1806$1812[0]==="bind")&&((t1$1818=$1806$1812[1]),((variable$1970=t1$1818),((t1$1818 instanceof Array)&&((t2$1819=t1$1818.length),((t2$1819===2)&&(t1$1818[0]==="symbol")))))))))){(s$1971=t1$1818[1]);(value$1972=$1806$1812[2]);(body$1973=$1806$1812[3]);(newscope$1980=Scope$860(scope$1802));;(t0$1986=variable$1970);if($2917(t0$1986,"env")){(env$1981=t0$1986.env);;}else{$2786(variable$1970,"/home/olivier/git/earl-grey/src/expand.eg",9015,9023);}env$1981.bind(newscope$1980,s$1971,value$1972);return helper$1797(context$1801,newscope$1980,body$1973);}else{if(($1808$1821&&(($1810$1823=(t0$1817>=1))&&($1806$1812[0]==="splice")))){(args$1992=Array.prototype.slice.call($1806$1812,1));return ["bounce",$2905(["multi"].concat(args$1992),({"override_scope":true}))];}else{if(($1810$1823&&($1806$1812[0]==="multi"))){(args$1997=Array.prototype.slice.call($1806$1812,1));(newscope$2001=function(){if(expr$1803.override_scope){return scope$1802;}else{return Scope$860(scope$1802);}}());;(stepscope$2002=function(){if(expr$1803.nonrecursive){return scope$1802;}else{return newscope$2001;}}());;(changes$2003=false);;(t0$2017=classify$848("newargs","vars",(((acc$2027=[])),(((temp$2032=it$0$1792.step_all(["expr","multi"],stepscope$2002,args$1997))),(((len$2037=temp$2032.length)),(((i$2042=0)),function(){$2019:for(;(i$2042<len$2037);(i$2042++)){var x$2087;var t0$2095;var env$2093;var t0$2113;var env$2110;var v$2111;var other$2131;var v$2122;var value$2123;var variable$2101;var s$2102;var value$2103;var variable$2077;var s$2078;var mac$2079;var opt$2069;var value$2070;var $2020$2061;var $2021$2062;var $2022$2063;var $2023$2064;var $2024$2065;var $2025$2066;var t0$2055;var t1$2056;var t2$2057;var t3$2058;var t4$2059;var m$2050;(m$2050=temp$2032[i$2042]);;(t0$2055=m$2050);if((($2021$2062=(t0$2055 instanceof Array))&&((t1$2056=t0$2055.length),(($2023$2064=(t1$2056===3))&&(t0$2055[0]==="option"))))){(opt$2069=t0$2055[1]);(value$2070=t0$2055[2]);acc$2027.push((newscope$2001.setopt(opt$2069,value$2070),["ignore"]));}else{if(($2023$2064&&((t0$2055[0]==="declare")&&((t2$2057=t0$2055[1]),((variable$2077=t2$2057),((t2$2057 instanceof Array)&&((t3$2058=t2$2057.length),((t3$2058===2)&&((t2$2057[0]==="symbol")&&((s$2078=t2$2057[1]),((t4$2059=t0$2055[2]),(((x$2087=t4$2059)),((x$2087 instanceof Array)&&(x$2087[0]==="macro")))))))))))))){(mac$2079=t4$2059);acc$2027.push((((t0$2095=variable$2077),function(){if($2917(t0$2095,"env")){(env$2093=t0$2095.env);}else{return $2786(variable$2077,"/home/olivier/git/earl-grey/src/expand.eg",9824,9832);}}()),env$2093.bind(newscope$2001,s$2078,mac$2079),(changes$2003=true),["ignore"]));}else{if(($2021$2062&&(($2023$2064=((t1$2056>=2)&&(t1$2056<=3)))&&(($2024$2065=(t0$2055[0]==="declare"))&&((t2$2057=t0$2055[1]),((variable$2101=t2$2057),((t2$2057 instanceof Array)&&((t3$2058=t2$2057.length),((t3$2058===2)&&(t2$2057[0]==="symbol")))))))))){(s$2102=t2$2057[1]);(value$2103=function(){if((2>=t1$2056)){return null;}else{return t0$2055[2];}}());acc$2027.push((((t0$2113=variable$2101),function(){if($2917(t0$2113,"env")){(env$2110=t0$2113.env);}else{return $2786(variable$2101,"/home/olivier/git/earl-grey/src/expand.eg",10067,10075);}}()),((v$2111=__lt____lt____colon__$846(["variable",it$0$1792.gensym(s$2102)],variable$2101))),env$2110.bind(newscope$2001,s$2102,v$2111),(changes$2003=true),function(){if(value$2103){return ["splice",["newargs",["assign",v$2111,value$2103]],["vars",v$2111]];}else{return ["vars",v$2111];}}()));}else{if(($2024$2065&&((v$2122=t2$2057),((t2$2057 instanceof Array)&&((t3$2058=t2$2057.length),((t3$2058===2)&&(t2$2057[0]==="variable"))))))){t2$2057[1];(value$2123=function(){if((2>=t1$2056)){return null;}else{return t0$2055[2];}}());acc$2027.push(((changes$2003=true),function(){if(value$2123){return ["splice",["newargs",["assign",v$2122,value$2123]],["vars",v$2122]];}else{return ["vars",v$2122];}}()));}else{(other$2131=m$2050);acc$2027.push(["newargs",other$2131]);}}}}}}()))),acc$2027)));if(($2917(t0$2017,"newargs")&&((newargs$2004=t0$2017.newargs),$2917(t0$2017,"vars")))){(vars$2005=t0$2017.vars);;}else{$2786(classify$848("newargs","vars",(((acc$2144=[])),(((temp$2149=it$0$1792.step_all(["expr","multi"],stepscope$2002,args$1997))),(((len$2154=temp$2149.length)),(((i$2159=0)),function(){$2136:for(;(i$2159<len$2154);(i$2159++)){var x$2204;var t0$2212;var env$2210;var t0$2230;var env$2227;var v$2228;var other$2248;var v$2239;var value$2240;var variable$2218;var s$2219;var value$2220;var variable$2194;var s$2195;var mac$2196;var opt$2186;var value$2187;var $2137$2178;var $2138$2179;var $2139$2180;var $2140$2181;var $2141$2182;var $2142$2183;var t0$2172;var t1$2173;var t2$2174;var t3$2175;var t4$2176;var m$2167;(m$2167=temp$2149[i$2159]);;(t0$2172=m$2167);if((($2138$2179=(t0$2172 instanceof Array))&&((t1$2173=t0$2172.length),(($2140$2181=(t1$2173===3))&&(t0$2172[0]==="option"))))){(opt$2186=t0$2172[1]);(value$2187=t0$2172[2]);acc$2144.push((newscope$2001.setopt(opt$2186,value$2187),["ignore"]));}else{if(($2140$2181&&((t0$2172[0]==="declare")&&((t2$2174=t0$2172[1]),((variable$2194=t2$2174),((t2$2174 instanceof Array)&&((t3$2175=t2$2174.length),((t3$2175===2)&&((t2$2174[0]==="symbol")&&((s$2195=t2$2174[1]),((t4$2176=t0$2172[2]),(((x$2204=t4$2176)),((x$2204 instanceof Array)&&(x$2204[0]==="macro")))))))))))))){(mac$2196=t4$2176);acc$2144.push((((t0$2212=variable$2194),function(){if($2917(t0$2212,"env")){(env$2210=t0$2212.env);}else{return $2786(variable$2194,"/home/olivier/git/earl-grey/src/expand.eg",9824,9832);}}()),env$2210.bind(newscope$2001,s$2195,mac$2196),(changes$2003=true),["ignore"]));}else{if(($2138$2179&&(($2140$2181=((t1$2173>=2)&&(t1$2173<=3)))&&(($2141$2182=(t0$2172[0]==="declare"))&&((t2$2174=t0$2172[1]),((variable$2218=t2$2174),((t2$2174 instanceof Array)&&((t3$2175=t2$2174.length),((t3$2175===2)&&(t2$2174[0]==="symbol")))))))))){(s$2219=t2$2174[1]);(value$2220=function(){if((2>=t1$2173)){return null;}else{return t0$2172[2];}}());acc$2144.push((((t0$2230=variable$2218),function(){if($2917(t0$2230,"env")){(env$2227=t0$2230.env);}else{return $2786(variable$2218,"/home/olivier/git/earl-grey/src/expand.eg",10067,10075);}}()),((v$2228=__lt____lt____colon__$846(["variable",it$0$1792.gensym(s$2219)],variable$2218))),env$2227.bind(newscope$2001,s$2219,v$2228),(changes$2003=true),function(){if(value$2220){return ["splice",["newargs",["assign",v$2228,value$2220]],["vars",v$2228]];}else{return ["vars",v$2228];}}()));}else{if(($2141$2182&&((v$2239=t2$2174),((t2$2174 instanceof Array)&&((t3$2175=t2$2174.length),((t3$2175===2)&&(t2$2174[0]==="variable"))))))){t2$2174[1];(value$2240=function(){if((2>=t1$2173)){return null;}else{return t0$2172[2];}}());acc$2144.push(((changes$2003=true),function(){if(value$2240){return ["splice",["newargs",["assign",v$2239,value$2240]],["vars",v$2239]];}else{return ["vars",v$2239];}}()));}else{(other$2248=m$2167);acc$2144.push(["newargs",other$2248]);}}}}}}()))),acc$2144)),"/home/olivier/git/earl-grey/src/expand.eg",9491,11015);}(exp$2006=function(s$2253){var i$2277;var len$2272;var temp$2267;var acc$2262;var i$2319;var len$2314;var temp$2309;var acc$2304;var stepped$2256;(stepped$2256=(((acc$2262=[])),(((temp$2267=enumerate$851(newargs$2004))),(((len$2272=temp$2267.length)),(((i$2277=0)),function(){$2260:for(;(i$2277<len$2272);(i$2277++)){var i$2295;var arg$2296;var t0$2290;var t1$2291;var m$2285;(m$2285=temp$2267[i$2277]);;(t0$2290=m$2285);if(((t0$2290 instanceof Array)&&((t1$2291=t0$2290.length),(t1$2291===2)))){(i$2295=t0$2290[0]);(arg$2296=t0$2290[1]);acc$2262.push(it$0$1792.step(["expr",function(){if((i$2295===(newargs$2004.length-1))){return "expr";}else{return "ignore";}}()],s$2253,arg$2296));}else{false;;}}}()))),acc$2262));;(acc$2304=[]);;(temp$2309=stepped$2256);;(len$2314=temp$2309.length);;(i$2319=0);;$2257:for(;(i$2319<len$2314);(i$2319++)){var arg$2335;var m$2327;(m$2327=temp$2309[i$2319]);;(arg$2335=m$2327);acc$2304.push(helper$1797(["expr","expr"],s$2253,arg$2335));}return acc$2304;});;if(changes$2003){return ["scope",vars$2005,["multi"].concat(exp$2006(newscope$2001))];}else{return ["multi"].concat(exp$2006(scope$1802));}}else{if(($1810$1823&&($1806$1812[0]==="data"))){(args$2340=Array.prototype.slice.call($1806$1812,1));(is_obj$2344=false);;(obj$2345=["object"]);;(arr$2346=["array"]);;(arr_parts$2347=[]);;(obj_parts$2348=[]);;(new_arr_part$2349=function(){var other$2392;var t0$2383;var $2376$2378;($2376$2378=arr$2346);;if((($2376$2378 instanceof Array)&&((t0$2383=$2376$2378.length),((t0$2383===1)&&($2376$2378[0]==="array"))))){return false;}else{(other$2392=$2376$2378);arr_parts$2347.push(arr$2346);return (arr$2346=["array"]);}});;(new_obj_part$2350=function(){var other$2416;var t0$2407;var $2400$2402;($2400$2402=obj$2345);;if((($2400$2402 instanceof Array)&&((t0$2407=$2400$2402.length),((t0$2407===1)&&($2400$2402[0]==="object"))))){return false;}else{(other$2416=$2400$2402);obj_parts$2348.push(obj$2345);return (obj$2345=["object"]);}});;(temp$2422=it$0$1792.step_all(["expr","data"],scope$1802,args$2340));;(len$2427=temp$2422.length);;(i$2432=0);;$2352:for(;(i$2432<len$2427);(i$2432++)){var other$2478;var expr$2472;var expr$2466;var k$2459;var v$2460;var $2353$2448;var $2354$2449;var $2355$2450;var $2356$2451;var t0$2445;var t1$2446;var m$2440;(m$2440=temp$2422[i$2432]);;(t0$2445=m$2440);if((($2354$2449=(t0$2445 instanceof Array))&&((t1$2446=t0$2445.length),((t1$2446===1)&&(t0$2445[0]==="assoc"))))){(is_obj$2344=true);}else{if(($2354$2449&&((t1$2446===3)&&(t0$2445[0]==="assoc")))){(k$2459=t0$2445[1]);(v$2460=t0$2445[2]);(is_obj$2344=true);obj$2345.push(["array",k$2459,v$2460]);}else{if(($2354$2449&&(($2356$2451=(t1$2446===2))&&(t0$2445[0]==="dynsplice")))){(expr$2466=t0$2445[1]);new_arr_part$2349();arr_parts$2347.push(expr$2466);}else{if(($2356$2451&&(t0$2445[0]==="objsplice"))){(expr$2472=t0$2445[1]);(is_obj$2344=true);new_obj_part$2350();obj_parts$2348.push(expr$2472);}else{(other$2478=m$2440);arr$2346.push(other$2478);}}}}}new_arr_part$2349();new_obj_part$2350();(r$2351=((($2482$2484=arr_parts$2347)),function(){if((($2482$2484 instanceof Array)&&((t0$2489=$2482$2484.length),((t0$2489===0)&&is_obj$2344)))){return util$847.construct(obj_parts$2348,function(x$2497,rest$2498){return ["send",["symbol","&:"],["data",x$2497,rest$2498]];},["object"]);}else{$2482$2484;if(is_obj$2344){throw $2799(["syntax","array","object"]).create("Cannot mix array and object notations.");}else{(other$2506=$2482$2484);return util$847.construct(arr_parts$2347.reverse(),function(x$2509,rest$2510){return ["send",["send",rest$2510,["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",x$2509]];},["array"]);}}}()));;return helper$1797(context$1801,scope$1802,bind_ast$862(r$2351,it$0$1792.mkenv()));}else{if(($1808$1821&&(($1810$1823=(t0$1817===3))&&($1806$1812[0]==="assign")))){(target$2515=$1806$1812[1]);(value$2516=$1806$1812[2]);return ["assign",helper$1797(["expr","expr"],scope$1802,target$2515),helper$1797(["expr","expr"],scope$1802,value$2516)];}else{if(($1810$1823&&($1806$1812[0]==="lambda"))){(bindings$2521=$1806$1812[1]);(body$2522=$1806$1812[2]);(newscope$2526=Scope$860(scope$1802));;return ["lambda",(((acc$2533=[])),(((temp$2538=bindings$2521)),(((len$2543=temp$2538.length)),(((i$2548=0)),function(){$2530:for(;(i$2548<len$2543);(i$2548++)){var v$2574;var x$2584;var other$2591;var v$2581;var b$2567;var env$2568;var $2531$2564;var t0$2561;var t1$2562;var m$2556;(m$2556=temp$2538[i$2548]);;(t0$2561=m$2556);if(((t0$2561 instanceof Array)&&((t1$2562=t0$2561.length),((t1$2562===2)&&((t0$2561[0]==="symbol")&&((b$2567=t0$2561[1]),$2917(t0$2561,"env"))))))){(env$2568=t0$2561.env);acc$2533.push((((v$2574=["variable",it$0$1792.gensym(b$2567)])),(env$2568.bind(newscope$2526,b$2567,v$2574),v$2574)));}else{if((((x$2584=t0$2561)),((x$2584 instanceof Array)&&(x$2584[0]==="variable")))){(v$2581=t0$2561);acc$2533.push(v$2581);}else{(other$2591=m$2556);acc$2533.push(function(){throw $2799(["syntax","lambda","binding"]).create("Not a valid binding.",({"node":other$2591}));}());}}}}()))),acc$2533),helper$1797(["expr","expr"],newscope$2526,body$2522)];}else{if(($1810$1823&&($1806$1812[0]==="use"))){($1807$2596=$1806$1812[1]);(x$2595=$1806$1812[2]);(t0$2600=$1807$2596);if((typeof(t0$2600)==="string")){(name$2604=t0$2600);(s$2608=scope$1802);;$2612:while(s$2608){if((s$2608.name.slice(0,(name$2604.length+1))===(name$2604+"/"))){break $2612;}else{(s$2608=s$2608.parent);}}if(s$2608){return helper$1797(context$1801,s$2608,x$2595);}else{throw $2799(["syntax","noscope"]).create(("Could not find a scope tagged: "+name$2604));}}else{(newscope$2617=$1807$2596);return helper$1797(context$1801,newscope$2617,x$2595);}}else{if(($1810$1823&&(($1806$1812[0]==="tagscope")&&((t1$1818=$1806$1812[1]),(typeof(t1$1818)==="string"))))){(tag$2621=t1$1818);(body$2622=$1806$1812[2]);return helper$1797(context$1801,Scope$860(scope$1802,it$0$1792.gensym((tag$2621+"/"))),body$2622);}else{if(($1808$1821&&((t0$1817>=1)&&((type$2628=$1806$1812[0]),((args$2629=Array.prototype.slice.call($1806$1812,1)),(it$0$1792.generic_nodes.indexOf(type$2628)!==(-1))))))){return [type$2628].concat((((acc$2636=[])),(((temp$2641=args$2629)),(((len$2646=temp$2641.length)),(((i$2651=0)),function(){$2634:for(;(i$2651<len$2646);(i$2651++)){var arg$2667;var m$2659;(m$2659=temp$2641[i$2651]);;(arg$2667=m$2659);acc$2636.push(helper$1797(["expr","expr"],scope$1802,arg$2667));}}()))),acc$2636));}else{(other$2671=$1806$1812);throw $2799(["syntax","illegal_node"]).create("An illegal node was found.",({"node":other$2671,"context":context$1801}));}}}}}}}}}}}}}}}}}));;return helper$1797(context$1787,scope$1788,expr$1789);});$2905(Expander$864,({}));Expander$864;(mac1$865=function(f$2677){return ["macro",function(context$2681,scope$2682,form$2683,$2679$2684){var t0$2688;var t1$2689;var expr$2686;(t0$2688=$2679$2684);if(((t0$2688 instanceof Array)&&((t1$2689=t0$2688.length),((t1$2689===2)&&(t0$2688[0]==="data"))))){(expr$2686=t0$2688[1]);;}else{$2786($2679$2684);}return f$2677(expr$2686);}];});;(__chk_ncache$866=({}));;(__chk_scache$867=({}));;(checker_db$868=function($2703$2705){var v$2741;var v$2754;var s$2750;var n$2737;var $2707$2713;var ph$2708;(ph$2708=$2703$2705);;($2707$2713=ph$2708);;if(($2707$2713===null)){return checker_db$868.null;}else{if(($2707$2713===(void 0))){return checker_db$868.undefined;}else{if(($2707$2713===true)){return checker_db$868.true;}else{if(($2707$2713===false)){return checker_db$868.false;}else{if((typeof($2707$2713)==="number")){(n$2737=$2707$2713);if($808(__chk_ncache$866,n$2737)){return $808(__chk_ncache$866,n$2737);}else{(v$2741=mac1$865(function(x$2745){return ["send",["symbol","=="],["data",x$2745,["value",n$2737]]];}));;(__chk_ncache$866[n$2737]=v$2741);return v$2741;}}else{if((typeof($2707$2713)==="string")){(s$2750=$2707$2713);if(Object.prototype.hasOwnProperty.call(__chk_scache$867,s$2750)){return $808(__chk_scache$867,s$2750);}else{(v$2754=mac1$865(function(x$2758){return ["send",["symbol","=="],["data",x$2758,["value",s$2750]]];}));;(__chk_scache$867[s$2750]=v$2754);return v$2754;}}else{$2786($2707$2713);}}}}}}});;$2905(checker_db$868,({"String":mac1$865(function(x$2765){return ["send",["symbol","=="],["data",["send",["symbol","typeof"],["data",x$2765]],["value","string"]]];}),"Number":mac1$865(function(x$2768){return ["send",["symbol","=="],["data",["send",["symbol","typeof"],["data",x$2768]],["value","number"]]];}),"Array":mac1$865(function(x$2771){return ["send",["symbol","instanceof"],["data",x$2771,["symbol","Array"]]];}),"true":mac1$865(function(x$2774){return x$2774;}),"false":mac1$865(function(x$2777){return ["send",["symbol","not"],["data",["void"],x$2777]];}),"null":mac1$865(function(x$2780){return ["send",["symbol","=="],["data",x$2780,["value",null]]];}),"undefined":mac1$865(function(x$2783){return ["send",["symbol","=="],["data",x$2783,["value",(void 0)]]];})}));(exports["Env"]=Env$861);(exports["Scope"]=Scope$860);(exports["track_location"]=track_location$863);(exports["Expander"]=Expander$864);(exports["GenSym"]=GenSym$854);(exports["gensym"]=gensym$855);(exports["bind_ast"]=bind_ast$862);(exports["mac1"]=mac1$865);(exports["checker_db"]=checker_db$868);
