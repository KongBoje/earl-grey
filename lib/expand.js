var $764=function(type$766){var f$769;(f$769=type$766["::check"]);;if((f$769===(void 0))){return function(value$774){return (value$774 instanceof type$766);};}else{return function(value$777){return f$769.call(type$766,value$777);};}};
var $779=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $780=function($781$783){var ph$787;(ph$787=$781$783);;var $785$792;($785$792=ph$787);;var bridge$786$797;var x$801;(bridge$786$797=$785$792);if((((typeof(bridge$786$797)==="string")&&((x$801=bridge$786$797),true))||((typeof(bridge$786$797)==="number")&&((x$801=bridge$786$797),true)))){return ["value",x$801];}else{var other$808;(other$808=$785$792);return other$808["::serialize_ast"]();}};
var send$648;(send$648=function(obj$653,$651$654){var ph$658;var msg$659;var t0$661;(t0$661=$651$654);(msg$659=t0$661);(ph$658=t0$661);;var $656$665;($656$665=ph$658);;var bridge$657$670;(bridge$657$670=$656$665);if(((typeof(bridge$657$670)==="string")||(typeof(bridge$657$670)==="number"))){return obj$653[msg$659];}else{var other$678;(other$678=$656$665);return obj$653["::send"](msg$659);}});;(Array[":::project"]=function($681$683){var ph$686;var value$687;var t0$689;(t0$689=$681$683);(value$687=t0$689);(ph$686=t0$689);;var $685$693;($685$693=ph$686);;if($764(Array)($685$693)){return [true,value$687];}else{$685$693;return [true,[value$687]];}});(Array.prototype["::check"]=function(value$707){if((value$707 instanceof Array)){var i$712;(i$712=0);;$710:for(;(i$712<this.length);(i$712++)){if(($779(this,i$712)!==$779(value$707,i$712))){return false;}}return true;}else{return false;}});(Array.prototype["::clone"]=function(){return this.slice(0);});(Array.prototype[":::project"]=function(value$723){if((value$723 instanceof Array)){var i$728;(i$728=0);;$726:for(;(i$728<this.length);(i$728++)){if(($779(this,i$728)!==$779(value$723,i$728))){return [true,[value$723]];}}return [true,value$723.slice(this.length)];}else{return [true,[value$723]];}});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($780));});(RegExp.prototype["::check"]=function(value$739){return value$739.match(this);});(RegExp.prototype[":::project"]=function(value$742){var $744$746;($744$746=value$742.match(this));;var m$754;if(($744$746===null)){(m$754=$744$746);return [false,null];}else{var m$759;(m$759=$744$746);return [true,m$759];}});(Function.prototype["::send"]=function(args$762){return this.apply(this,args$762);});
var $2870=function(dest$2872,values$2873){var k$2878;(k$2878=null);$2876:for(k$2878 in values$2873){if(values$2873.hasOwnProperty(k$2878)){(dest$2872[k$2878]=values$2873[k$2878]);}}return dest$2872;};
var $2763=function(){var $2764$2766;($2764$2766=function(tags$2770){var it$0$2773;(it$0$2773=function(){if((!$764($2764$2766)(this))){return Object.create($2764$2766.prototype);}else{return this;}}());;(it$0$2773["tags"]=tags$2770);return it$0$2773;});;($2764$2766.prototype["create"]=function(){var $2782$2784;($2782$2784=arguments);;var t0$2789;var message$2793;var args$2794;(t0$2789=$2782$2784.length);if((t0$2789>=0)){(message$2793=function(){if((0>=t0$2789)){return "";}else{return $2782$2784[0];}}());(args$2794=Array.prototype.slice.call($2782$2784,1));var it$0$2798;(it$0$2798=this);;var e$2803;(e$2803=Error(message$2793));;(e$2803["::tags"]=it$0$2798.tags);(e$2803["args"]=args$2794);(e$2803["name"]=["E"].concat(it$0$2798.tags).join("."));return e$2803;}else{$2750($2782$2784);}});($2764$2766.prototype["::check"]=function(e$2812){var it$0$2815;(it$0$2815=this);;var tags$2820;if(((!e$2812)||(!$764(Error)(e$2812)))){return false;}(tags$2820=(e$2812["::tags"]||[]));;var temp$2829;(temp$2829=it$0$2815.tags);;var $length$2834;($length$2834=temp$2829.length);;var $index$2839;($index$2839=0);;$2821:for(;($index$2839<$length$2834);($index$2839++)){var m$2847;(m$2847=temp$2829[$index$2839]);;var tag$2855;(tag$2855=m$2847);if((tags$2820.indexOf(tag$2855)===(-1))){return false;}else{false;;}}return true;});($2764$2766.prototype["::deconstruct"]=function(e$2863){var it$0$2866;(it$0$2866=this);;return e$2863.args;});$2870($2764$2766,({}));return $2764$2766;}();
var $2750=function(value$2752,url$2753,start$2754,end$2755){var err$2758;(err$2758=$2763(["match"]).create("Could not find a match for value",({"value":value$2752})));;if(url$2753){(err$2758["location"]=["location",url$2753,start$2754,end$2755]);}throw err$2758;};
var $2882=function($2883$2885,key$2886){var ph$2890;(ph$2890=$2883$2885);;var $2888$2895;($2888$2895=ph$2890);;var bridge$2889$2900;(bridge$2889$2900=$2888$2895);if(((bridge$2889$2900===null)||(bridge$2889$2900===(void 0)))){return false;}else{var x$2908;if((typeof($2888$2895)==="string")){(x$2908=$2888$2895);return (key$2886 in String.prototype);}else{var x$2913;if((typeof($2888$2895)==="number")){(x$2913=$2888$2895);return (key$2886 in Number.prototype);}else{var x$2918;(x$2918=$2888$2895);return (key$2886 in x$2918);}}}};
var $2920=function(type$2922){return function(value$2925){var f$2928;(f$2928=type$2922[":::project"]);;if((f$2928===(void 0))){var f$2933;(f$2933=type$2922["::project"]);;if((f$2933===(void 0))){return [true,type$2922(value$2925)];}else{var rval$2938;(rval$2938=false);;try{(rval$2938=[true,f$2933(value$2925)]);}catch(excv$2944){var e$2950;(e$2950=excv$2944);(rval$2938=[false,null]);}return rval$2938;}}else{return f$2928.call(type$2922,value$2925);}};};var $811$815;var __lt____gt__$816;var $812$817;var __lt____lt____colon__$818;var util$819;var classify$820;var items$821;var iterkeys$822;var enumerate$823;var neighbours$824;var zip$825;var GenSym$826;var gensym$827;var uuid$828;var $814$829;var PatternParser$830;var PatternProcessor$831;var Scope$832;var Env$833;var track_location$834;var Expander$835;var mac1$836;var __chk_ncache$837;var __chk_scache$838;var checker_db$839;($811$815=require("./pp"));;(__lt____gt__$816=$811$815["<>"]);;($812$817=require("./location"));;(__lt____lt____colon__$818=$812$817["<<:"]);;(util$819=require("./util"));;(classify$820=util$819.classify);;(items$821=util$819.items);;(iterkeys$822=util$819.keys);;(enumerate$823=util$819.enumerate);;(neighbours$824=util$819.neighbours);;(zip$825=util$819.zip);;(GenSym$826=util$819.GenSym);;(gensym$827=util$819.gensym);;(uuid$828=util$819.uuid);;($814$829=require("./pattern"));;(PatternParser$830=$814$829.PatternParser);;(PatternProcessor$831=$814$829.PatternProcessor);;(Scope$832=function(){var it$0$911;var parent$905;var name$906;var expander$907;var t0$901;var $894$896;($894$896=arguments);;(t0$901=$894$896.length);if(((t0$901>=0)&&(t0$901<=3))){(parent$905=function(){if((0>=t0$901)){return null;}else{return $894$896[0];}}());(name$906=function(){if((1>=t0$901)){return null;}else{return $894$896[1];}}());(expander$907=function(){if((2>=t0$901)){return null;}else{return $894$896[2];}}());(it$0$911=function(){if((!$764(Scope$832)(this))){return Object.create(Scope$832.prototype);}else{return this;}}());;(it$0$911["name"]=(name$906||gensym$827("scope")));(it$0$911["parent"]=parent$905);(it$0$911["options"]=({}));(it$0$911["expander"]=(expander$907||parent$905.expander));return it$0$911;}else{$2750($894$896);}});;(Scope$832.prototype["getopt"]=function(opt$923){var otherwise$950;var $927$939;var $926$933;var it$0$928;(it$0$928=this);;($926$933=null);;$926$933;if(Object.prototype.hasOwnProperty.call(it$0$928.options,opt$923)){return $779(it$0$928.options,opt$923);}else{if((it$0$928.parent===null)){return (void 0);}else{(otherwise$950=$926$933);return it$0$928.parent.getopt(opt$923);}}});(Scope$832.prototype["setopt"]=function(opt$955,value$956){var it$0$959;(it$0$959=this);;return (it$0$959.options[opt$955]=value$956);});(Scope$832.prototype["gensym"]=function(){var it$0$968;(it$0$968=this);;return it$0$968.expander.gensym();});(Scope$832.prototype["step"]=function(context$975,expr$976){var it$0$979;(it$0$979=this);;return it$0$979.expander.step(context$975,it$0$979,expr$976);});(Scope$832.prototype["step_all"]=function(context$986,exprs$987){var it$0$990;(it$0$990=this);;return it$0$990.expander.step_all(context$986,it$0$990,exprs$987);});(Scope$832.prototype["expand"]=function(context$997,expr$998){var it$0$1001;(it$0$1001=this);;return it$0$1001.expander.expand(context$997,it$0$1001,expr$998);});(Scope$832.prototype["toString"]=function(){var it$0$1010;(it$0$1010=this);;return (("Scope{"+it$0$1010.name)+"}");});$2870(Scope$832,({}));Scope$832;(Env$833=function(){var it$0$1019;(it$0$1019=function(){if((!$764(Env$833)(this))){return Object.create(Env$833.prototype);}else{return this;}}());;(it$0$1019["scopes"]=({}));return it$0$1019;});;(Env$833.prototype["resolve"]=function(scope$1028,name$1029){var scope_data$1037;var it$0$1032;(it$0$1032=this);;if((scope$1028===null)){return (void 0);}(scope_data$1037=$779(it$0$1032.scopes,scope$1028.name));;if((scope_data$1037&&Object.prototype.hasOwnProperty.call(scope_data$1037,name$1029))){return $779(scope_data$1037,name$1029);}else{return it$0$1032.resolve(scope$1028.parent,name$1029);}});(Env$833.prototype["bind"]=function(scope$1045,name$1046,value$1047){var it$0$1050;(it$0$1050=this);;if((!$779(it$0$1050.scopes,scope$1045.name))){(it$0$1050.scopes[scope$1045.name]=({}));}return ($779(it$0$1050.scopes,scope$1045.name)[name$1046]=value$1047);});(Env$833.prototype["convert"]=function(expr$1059){var x$1098;var x$1103;var bridge$1066$1095;var x$1108;var bridge$1065$1092;var x$1113;var bridge$1064$1089;var x$1118;var $index$1145;var $length$1140;var temp$1135;var other$1165;var type$1125;var args$1126;var e$1082;var bridge$1063$1077;var t0$1078;var $1062$1072;var it$0$1067;(it$0$1067=this);;($1062$1072=expr$1059);;if($2882($1062$1072,"env")){(e$1082=$1062$1072.env);return expr$1059;}else{(bridge$1063$1077=$1062$1072);if((((bridge$1064$1089=bridge$1063$1077),(((bridge$1065$1092=bridge$1064$1089),(((bridge$1066$1095=bridge$1065$1092),((((x$1098=bridge$1066$1095)),((x$1098 instanceof Array)&&(x$1098[0]==="symbol")))||(((x$1103=bridge$1066$1095)),((x$1103 instanceof Array)&&(x$1103[0]==="value")))))||(((x$1108=bridge$1065$1092)),((x$1108 instanceof Array)&&(x$1108[0]==="variable")))))||(((x$1113=bridge$1064$1089)),((x$1113 instanceof Array)&&(x$1113[0]==="macro")))))||(((x$1118=bridge$1063$1077)),((x$1118 instanceof Array)&&(x$1118[0]==="void"))))){return $2870(expr$1059,({"env":it$0$1067}));}else{if((($1062$1072 instanceof Array)&&((t0$1078=$1062$1072.length),(t0$1078>=1)))){(type$1125=$1062$1072[0]);(args$1126=Array.prototype.slice.call($1062$1072,1));(temp$1135=args$1126);;($length$1140=temp$1135.length);;($index$1145=0);;$1131:for(;($index$1145<$length$1140);($index$1145++)){var arg$1161;var m$1153;(m$1153=temp$1135[$index$1145]);;(arg$1161=m$1153);it$0$1067.convert(arg$1161);}return $2870(expr$1059,({"env":it$0$1067}));}else{(other$1165=$1062$1072);return $2870(expr$1059,({"env":it$0$1067}));}}}});(Env$833.prototype["fork"]=function(){var $index$1195;var $length$1190;var temp$1185;var e$1177;var it$0$1172;(it$0$1172=this);;(e$1177=Env$833());;(temp$1185=items$821(it$0$1172.scopes));;($length$1190=temp$1185.length);;($index$1195=0);;$1178:for(;($index$1195<$length$1190);($index$1195++)){var $index$1236;var $length$1231;var temp$1226;var acc$1221;var scope$1213;var bindings$1214;var t0$1208;var t1$1209;var m$1203;(m$1203=temp$1185[$index$1195]);;(t0$1208=m$1203);if(((t0$1208 instanceof Array)&&((t1$1209=t0$1208.length),(t1$1209===2)))){(scope$1213=t0$1208[0]);(bindings$1214=t0$1208[1]);(acc$1221=[]);;(temp$1226=items$821(bindings$1214));;($length$1231=temp$1226.length);;($index$1236=0);;$1218:for(;($index$1236<$length$1231);($index$1236++)){var k$1254;var v$1255;var t0$1249;var t1$1250;var m$1244;(m$1244=temp$1226[$index$1236]);;(t0$1249=m$1244);if(((t0$1249 instanceof Array)&&((t1$1250=t0$1249.length),(t1$1250===2)))){(k$1254=t0$1249[0]);(v$1255=t0$1249[1]);acc$1221.push((function(){if((!$779(e$1177.scopes,scope$1213))){return (e$1177.scopes[scope$1213]=({}));}}(),($779(e$1177.scopes,scope$1213)[k$1254]=v$1255)));}else{$2750(m$1244,"/home/olivier/git/earl-grey/src/expand.eg",2004,2163);;}}acc$1221;}else{$2750(m$1203,"/home/olivier/git/earl-grey/src/expand.eg",1964,2163);;}}return e$1177;});(Env$833.prototype["toString"]=function(){var it$0$1270;(it$0$1270=this);;return "Env{...}";});$2870(Env$833,({}));Env$833;(track_location$834=function(f$1277){var f2$1280;(f2$1280=function(context$1284,scope$1285,expr$1286){var rval$1294;var other$1326;var v$1320;var t0$1316;var $1289$1311;var rval$1290;(rval$1290=(((rval$1294=false)),(function(){try{(rval$1294=f$1277(context$1284,scope$1285,expr$1286));}catch(excv$1300){var e$1306;(e$1306=excv$1300);(rval$1294=(__lt____lt____colon__$818(e$1306,expr$1286),function(){throw e$1306;}()));}}(),rval$1294)));;($1289$1311=rval$1290);;if((($1289$1311 instanceof Array)&&((t0$1316=$1289$1311.length),((t0$1316===2)&&($1289$1311[0]==="bounce"))))){(v$1320=$1289$1311[1]);return f2$1280(context$1284,scope$1285,__lt____lt____colon__$818(v$1320,expr$1286));}else{(other$1326=$1289$1311);return __lt____lt____colon__$818(other$1326,expr$1286);}});;return f2$1280;});;(Expander$835=function(env_factory$1333,generic_nodes$1334){var it$0$1337;(it$0$1337=function(){if((!$764(Expander$835)(this))){return Object.create(Expander$835.prototype);}else{return this;}}());;(it$0$1337["gensym"]=gensym$827);(it$0$1337["mkenv"]=env_factory$1333);(it$0$1337["generic_nodes"]=generic_nodes$1334);return it$0$1337;});;(Expander$835.prototype["run_macro"]=function(m$1347,context$1348,scope$1349,form$1350,arg$1351){var rval$1363;var rval$1359;var it$0$1354;(it$0$1354=this);;(rval$1359=(((rval$1363=false)),(function(){try{(rval$1363=m$1347(context$1348,scope$1349,form$1350,arg$1351));}catch(excv$1369){var msg$1402;var msg$1497;var find$1411;var err$1412;var other$1408;var $1389$1391;var e$1386;var e$1504;var value$1379;var t0$1372;var t1$1373;var t2$1374;var t3$1375;(t0$1372=excv$1369);if(($764($2763(["match"]))(t0$1372)&&($2882(t0$1372,"args")&&((t1$1373=t0$1372.args),((t1$1373 instanceof Array)&&((t2$1374=t1$1373.length),((t2$1374===1)&&((t3$1375=t1$1373[0]),$2882(t3$1375,"value"))))))))){(value$1379=t3$1375.value);(rval$1363=(((e$1386=((($1389$1391=value$1379)),function(){if(($1389$1391===context$1348)){(msg$1402="The macro cannot be found in this context.");;return $2763(["syntax","context"]).create(msg$1402,({"context":context$1348,"form":form$1350}));}else{(other$1408=$1389$1391);(find$1411=function($1415$1417){var t0$1423;var msg$1439;var $index$1465;var $length$1460;var temp$1455;var other$1490;var type$1445;var xs$1446;var t0$1432;var $1419$1427;var ph$1420;var arg$1421;(t0$1423=$1415$1417);(arg$1421=t0$1423);(ph$1420=t0$1423);;($1419$1427=ph$1420);;if(($1419$1427===value$1379)){(msg$1439="The macro could not match its argument (or part of it).");;return $2763(["syntax","argument"]).create(msg$1439,({"context":context$1348,"argument":arg$1421,"form":form$1350}));}else{if((($1419$1427 instanceof Array)&&((t0$1432=$1419$1427.length),(t0$1432>=1)))){(type$1445=$1419$1427[0]);(xs$1446=Array.prototype.slice.call($1419$1427,1));(temp$1455=xs$1446);;($length$1460=temp$1455.length);;($index$1465=0);;$1451:for(;($index$1465<$length$1460);($index$1465++)){var x$1482;var t0$1478;var m$1473;(m$1473=temp$1455[$index$1465]);;(t0$1478=$2920(find$1411)(m$1473));if(t0$1478[0]){(x$1482=t0$1478[1]);if(x$1482){return x$1482;}}else{$2750(m$1473,"/home/olivier/git/earl-grey/src/expand.eg",3441,3526);;}}return false;}else{(other$1490=$1419$1427);return false;}}});;(err$1412=find$1411(arg$1351));;if(err$1412){return err$1412;}else{(msg$1497="The macro failed because it failed to match some value, probably one that it generated itself.");;return $2763(["syntax","failure"]).create(msg$1497,({"form":form$1350,"value":value$1379}));}}}()))),function(){throw e$1386;}()));}else{(e$1504=excv$1369);(rval$1363=function(){throw e$1504;}());}}}(),rval$1363)));;return it$0$1354.mkenv().convert(rval$1359);});(Expander$835.prototype["step"]=function(context$1510,scope$1511,expr$1512){var helper$1520;var it$0$1515;(it$0$1515=this);;(helper$1520=track_location$834(function(context$1525,scope$1526,$1523$1527){var t0$1536;var other$1576;var env$1571;var $1561$1563;var other$1609;var t0$1600;var $1593$1595;var other$1613;var m$1589;var t0$1585;var $1557$1580;var env$1558;var other$1636;var t0$1627;var $1620$1622;var other$1661;var m$1655;var t0$1651;var $1644$1646;var other$1670;var x$1665;var f$1640;var arg$1641;var m$1617;var s$1552;var $1530$1547;var $1531$1548;var $1532$1549;var t0$1545;var $1529$1540;var ph$1533;var expr$1534;(t0$1536=$1523$1527);(expr$1534=t0$1536);(ph$1533=t0$1536);;($1529$1540=ph$1533);;if((($1530$1547=($1529$1540 instanceof Array))&&((t0$1545=$1529$1540.length),(($1532$1549=(t0$1545===2))&&($1529$1540[0]==="symbol"))))){(s$1552=$1529$1540[1]);(env$1558=((($1561$1563=expr$1534)),function(){if($2882($1561$1563,"env")){(env$1571=$1561$1563.env);return expr$1534.env;}else{(other$1576=$1561$1563);throw $2763(["syntax","no_env"]).create("No environment was found to resolve",({"symbol":expr$1534}));}}()));;($1557$1580=env$1558.resolve(scope$1526,s$1552));;if((($1557$1580 instanceof Array)&&((t0$1585=$1557$1580.length),((t0$1585===2)&&($1557$1580[0]==="macro"))))){(m$1589=$1557$1580[1]);($1593$1595=context$1525);;if((($1593$1595 instanceof Array)&&((t0$1600=$1593$1595.length),((t0$1600===2)&&(($1593$1595[0]==="expr")&&($1593$1595[1]==="head")))))){return ["macro",m$1589];}else{(other$1609=$1593$1595);return ["bounce",it$0$1515.run_macro(m$1589,context$1525,scope$1526,expr$1534,__lt____lt____colon__$818(["void"],expr$1534))];}}else{(other$1613=$1557$1580);return expr$1534;}}else{if(($1532$1549&&($1529$1540[0]==="macro"))){(m$1617=$1529$1540[1]);($1620$1622=context$1525);;if((($1620$1622 instanceof Array)&&((t0$1627=$1620$1622.length),((t0$1627===2)&&(($1620$1622[0]==="expr")&&($1620$1622[1]==="head")))))){return expr$1534;}else{(other$1636=$1620$1622);return ["bounce",it$0$1515.run_macro(m$1617,context$1525,scope$1526,expr$1534,__lt____lt____colon__$818(["void"],expr$1534))];}}else{if(($1530$1547&&((t0$1545===3)&&($1529$1540[0]==="send")))){(f$1640=$1529$1540[1]);(arg$1641=$1529$1540[2]);($1644$1646=helper$1520(["expr","head"],scope$1526,f$1640));;if((($1644$1646 instanceof Array)&&((t0$1651=$1644$1646.length),((t0$1651===2)&&($1644$1646[0]==="macro"))))){(m$1655=$1644$1646[1]);return ["bounce",it$0$1515.run_macro(m$1655,context$1525,scope$1526,expr$1534,arg$1641)];}else{(other$1661=$1644$1646);return expr$1534;}}else{if(($1530$1547&&((t0$1545===2)&&($1529$1540[0]==="nostep")))){(x$1665=$1529$1540[1]);return x$1665;}else{(other$1670=$1529$1540);return expr$1534;}}}}}));;return helper$1520(context$1510,scope$1511,expr$1512);});(Expander$835.prototype["step_all"]=function(context$1677,scope$1678,$1675$1679){var t0$1683;var t1$1684;var pre$1695;var bulk$1696;var post$1697;var it$0$1690;var stmts$1681;(t0$1683=$1675$1679);if(((t0$1683 instanceof Array)&&((t1$1684=t0$1683.length),(t1$1684>=0)))){(stmts$1681=Array.prototype.slice.call(t0$1683,0));;}else{$2750($1675$1679);}(it$0$1690=this);;(pre$1695=[]);;(bulk$1696=[]);;(post$1697=[]);;$1707:while(stmts$1681.length){var x$1753;var m$1748;var stmt$1743;var stmt$1738;var prepend$1732;var $1712$1727;var $1713$1728;var $1714$1729;var t0$1725;var $1711$1720;var current$1715;(current$1715=stmts$1681.shift());;($1711$1720=it$0$1690.step(context$1677,scope$1678,current$1715));;if((($1712$1727=($1711$1720 instanceof Array))&&((t0$1725=$1711$1720.length),((t0$1725>=1)&&($1711$1720[0]==="splice"))))){(prepend$1732=Array.prototype.slice.call($1711$1720,1));(stmts$1681=prepend$1732.concat(stmts$1681));}else{if(($1712$1727&&(($1714$1729=(t0$1725===2))&&($1711$1720[0]==="float")))){(stmt$1738=$1711$1720[1]);(pre$1695=pre$1695.concat(it$0$1690.step_all(context$1677,scope$1678,[stmt$1738])));}else{if(($1714$1729&&($1711$1720[0]==="sink"))){(stmt$1743=$1711$1720[1]);(post$1697=post$1697.concat(it$0$1690.step_all(context$1677,scope$1678,[stmt$1743])));}else{if(($1714$1729&&($1711$1720[0]==="multimacro"))){(m$1748=$1711$1720[1]);(stmts$1681=m$1748(context$1677,scope$1678,current$1715,stmts$1681));}else{(x$1753=$1711$1720);bulk$1696.push(x$1753);}}}}}return pre$1695.concat(bulk$1696).concat(post$1697);});(Expander$835.prototype["expand"]=function(context$1758,scope$1759,expr$1760){var helper$1768;var it$0$1763;(it$0$1763=this);;(helper$1768=track_location$834(function(context$1772,scope$1773,expr$1774){var t0$1805;var other$1822;var $1802$1810;var env$1803;var $index$1869;var $length$1864;var temp$1859;var acc$1854;var newargs$1848;var $index$1915;var $length$1910;var temp$1905;var acc$1900;var newargs$1894;var t0$1959;var newscope$1953;var env$1954;var $index$2016;var $length$2011;var temp$2006;var acc$2001;var $index$2126;var $length$2121;var temp$2116;var acc$2111;var t0$1990;var newscope$1974;var stepscope$1975;var changes$1976;var newargs$1977;var vars$1978;var exp$1979;var $index$2394;var $length$2389;var temp$2384;var other$2468;var t0$2451;var $2444$2446;var is_obj$2305;var obj$2306;var arr$2307;var arr_parts$2308;var obj_parts$2309;var new_arr_part$2310;var new_obj_part$2311;var r$2312;var $index$2511;var $length$2506;var temp$2501;var acc$2496;var newscope$2488;var s$2571;var newscope$2580;var name$2567;var t0$2563;var $index$2615;var $length$2610;var temp$2605;var acc$2600;var other$2635;var type$2591;var args$2592;var tag$2584;var body$2585;var x$2558;var $1778$2559;var bindings$2483;var body$2484;var target$2477;var value$2478;var args$2301;var args$1970;var args$1965;var variable$1943;var s$1944;var value$1945;var body$1946;var args$1890;var args$1844;var f$1838;var arg$1839;var s$1797;var $1779$1792;var $1780$1793;var $1781$1794;var t0$1788;var t1$1789;var t2$1790;var $1777$1783;(expr$1774=it$0$1763.step(context$1772,scope$1773,expr$1774));($1777$1783=expr$1774);;if((($1779$1792=($1777$1783 instanceof Array))&&((t0$1788=$1777$1783.length),(($1781$1794=(t0$1788===2))&&($1777$1783[0]==="symbol"))))){(s$1797=$1777$1783[1]);(t0$1805=expr$1774);if($2882(t0$1805,"env")){(env$1803=t0$1805.env);;}else{$2750(expr$1774,"/home/olivier/git/earl-grey/src/expand.eg",7759,7763);}($1802$1810=env$1803.resolve(scope$1773,s$1797));;if(($1802$1810===(void 0))){throw $2763(["syntax","undeclared"]).create(("Undeclared variable: "+s$1797),({"node":expr$1774}));}else{(other$1822=$1802$1810);return ["bounce",other$1822];}}else{if(($1781$1794&&($1777$1783[0]==="value"))){$1777$1783[1];return expr$1774;}else{if(($1781$1794&&($1777$1783[0]==="variable"))){$1777$1783[1];return expr$1774;}else{if(($1779$1792&&((t0$1788===1)&&($1777$1783[0]==="void")))){return expr$1774;}else{if(($1779$1792&&((t0$1788===3)&&($1777$1783[0]==="send")))){(f$1838=$1777$1783[1]);(arg$1839=$1777$1783[2]);return ["send",helper$1768(["expr","head"],scope$1773,f$1838),helper$1768(["expr","tail"],scope$1773,arg$1839)];}else{if(($1779$1792&&(($1781$1794=(t0$1788>=1))&&($1777$1783[0]==="array")))){(args$1844=Array.prototype.slice.call($1777$1783,1));(newargs$1848=(((acc$1854=[])),(((temp$1859=it$0$1763.step_all(["expr","array"],scope$1773,args$1844))),((($length$1864=temp$1859.length)),((($index$1869=0)),function(){$1851:for(;($index$1869<$length$1864);($index$1869++)){var arg$1885;var m$1877;(m$1877=temp$1859[$index$1869]);;(arg$1885=m$1877);acc$1854.push(helper$1768(["expr","expr"],scope$1773,arg$1885));}}()))),acc$1854));;return ["array"].concat(newargs$1848);}else{if(($1781$1794&&($1777$1783[0]==="object"))){(args$1890=Array.prototype.slice.call($1777$1783,1));(newargs$1894=(((acc$1900=[])),(((temp$1905=it$0$1763.step_all(["expr","object"],scope$1773,args$1890))),((($length$1910=temp$1905.length)),((($index$1915=0)),function(){$1897:for(;($index$1915<$length$1910);($index$1915++)){var k$1933;var v$1934;var t0$1928;var t1$1929;var m$1923;(m$1923=temp$1905[$index$1915]);;(t0$1928=m$1923);if(((t0$1928 instanceof Array)&&((t1$1929=t0$1928.length),((t1$1929===3)&&(t0$1928[0]==="array"))))){(k$1933=t0$1928[1]);(v$1934=t0$1928[2]);acc$1900.push(["array",helper$1768(["expr","expr"],scope$1773,k$1933),helper$1768(["expr","expr"],scope$1773,v$1934)]);}else{$2750(m$1923,"/home/olivier/git/earl-grey/src/expand.eg",8603,8791);;}}}()))),acc$1900));;return ["object"].concat(newargs$1894);}else{if(($1779$1792&&((t0$1788===4)&&(($1777$1783[0]==="bind")&&((t1$1789=$1777$1783[1]),((variable$1943=t1$1789),((t1$1789 instanceof Array)&&((t2$1790=t1$1789.length),((t2$1790===2)&&(t1$1789[0]==="symbol")))))))))){(s$1944=t1$1789[1]);(value$1945=$1777$1783[2]);(body$1946=$1777$1783[3]);(newscope$1953=Scope$832(scope$1773));;(t0$1959=variable$1943);if($2882(t0$1959,"env")){(env$1954=t0$1959.env);;}else{$2750(variable$1943,"/home/olivier/git/earl-grey/src/expand.eg",8934,8942);}env$1954.bind(newscope$1953,s$1944,value$1945);return helper$1768(context$1772,newscope$1953,body$1946);}else{if(($1779$1792&&(($1781$1794=(t0$1788>=1))&&($1777$1783[0]==="splice")))){(args$1965=Array.prototype.slice.call($1777$1783,1));return ["bounce",$2870(["multi"].concat(args$1965),({"override_scope":true}))];}else{if(($1781$1794&&($1777$1783[0]==="multi"))){(args$1970=Array.prototype.slice.call($1777$1783,1));(newscope$1974=function(){if(expr$1774.override_scope){return scope$1773;}else{return Scope$832(scope$1773);}}());;(stepscope$1975=function(){if(expr$1774.nonrecursive){return scope$1773;}else{return newscope$1974;}}());;(changes$1976=false);;(t0$1990=classify$820("newargs","vars",(((acc$2001=[])),(((temp$2006=it$0$1763.step_all(["expr","multi"],stepscope$1975,args$1970))),((($length$2011=temp$2006.length)),((($index$2016=0)),function(){$1992:for(;($index$2016<$length$2011);($index$2016++)){var t0$2061;var env$2059;var t0$2079;var env$2076;var v$2077;var other$2097;var v$2088;var value$2089;var variable$2067;var s$2068;var value$2069;var variable$2050;var s$2051;var value$2052;var opt$2042;var value$2043;var $1994$2034;var $1995$2035;var $1996$2036;var $1997$2037;var $1998$2038;var $1999$2039;var t0$2029;var t1$2030;var t2$2031;var t3$2032;var m$2024;(m$2024=temp$2006[$index$2016]);;(t0$2029=m$2024);if((($1995$2035=(t0$2029 instanceof Array))&&((t1$2030=t0$2029.length),(($1997$2037=(t1$2030===3))&&(t0$2029[0]==="option"))))){(opt$2042=t0$2029[1]);(value$2043=t0$2029[2]);acc$2001.push((newscope$1974.setopt(opt$2042,value$2043),["ignore"]));}else{if(($1997$2037&&((t0$2029[0]==="declare_raw")&&((t2$2031=t0$2029[1]),((variable$2050=t2$2031),((t2$2031 instanceof Array)&&((t3$2032=t2$2031.length),((t3$2032===2)&&(t2$2031[0]==="symbol"))))))))){(s$2051=t2$2031[1]);(value$2052=t0$2029[2]);acc$2001.push((((t0$2061=variable$2050),function(){if($2882(t0$2061,"env")){(env$2059=t0$2061.env);}else{return $2750(variable$2050,"/home/olivier/git/earl-grey/src/expand.eg",9738,9746);}}()),env$2059.bind(newscope$1974,s$2051,value$2052),(changes$1976=true),["ignore"]));}else{if(($1995$2035&&(($1997$2037=((t1$2030>=2)&&(t1$2030<=3)))&&(($1998$2038=(t0$2029[0]==="declare"))&&((t2$2031=t0$2029[1]),((variable$2067=t2$2031),((t2$2031 instanceof Array)&&((t3$2032=t2$2031.length),((t3$2032===2)&&(t2$2031[0]==="symbol")))))))))){(s$2068=t2$2031[1]);(value$2069=function(){if((2>=t1$2030)){return null;}else{return t0$2029[2];}}());acc$2001.push((((t0$2079=variable$2067),function(){if($2882(t0$2079,"env")){(env$2076=t0$2079.env);}else{return $2750(variable$2067,"/home/olivier/git/earl-grey/src/expand.eg",9983,9991);}}()),((v$2077=__lt____lt____colon__$818(["variable",it$0$1763.gensym(s$2068)],variable$2067))),env$2076.bind(newscope$1974,s$2068,v$2077),(changes$1976=true),function(){if(value$2069){return ["splice",["newargs",["assign",v$2077,value$2069]],["vars",v$2077]];}else{return ["vars",v$2077];}}()));}else{if(($1998$2038&&((v$2088=t2$2031),((t2$2031 instanceof Array)&&((t3$2032=t2$2031.length),((t3$2032===2)&&(t2$2031[0]==="variable"))))))){t2$2031[1];(value$2089=function(){if((2>=t1$2030)){return null;}else{return t0$2029[2];}}());acc$2001.push(((changes$1976=true),function(){if(value$2089){return ["splice",["newargs",["assign",v$2088,value$2089]],["vars",v$2088]];}else{return ["vars",v$2088];}}()));}else{(other$2097=m$2024);acc$2001.push(["newargs",other$2097]);}}}}}}()))),acc$2001)));if(($2882(t0$1990,"newargs")&&((newargs$1977=t0$1990.newargs),$2882(t0$1990,"vars")))){(vars$1978=t0$1990.vars);;}else{$2750(classify$820("newargs","vars",(((acc$2111=[])),(((temp$2116=it$0$1763.step_all(["expr","multi"],stepscope$1975,args$1970))),((($length$2121=temp$2116.length)),((($index$2126=0)),function(){$2102:for(;($index$2126<$length$2121);($index$2126++)){var t0$2171;var env$2169;var t0$2189;var env$2186;var v$2187;var other$2207;var v$2198;var value$2199;var variable$2177;var s$2178;var value$2179;var variable$2160;var s$2161;var value$2162;var opt$2152;var value$2153;var $2104$2144;var $2105$2145;var $2106$2146;var $2107$2147;var $2108$2148;var $2109$2149;var t0$2139;var t1$2140;var t2$2141;var t3$2142;var m$2134;(m$2134=temp$2116[$index$2126]);;(t0$2139=m$2134);if((($2105$2145=(t0$2139 instanceof Array))&&((t1$2140=t0$2139.length),(($2107$2147=(t1$2140===3))&&(t0$2139[0]==="option"))))){(opt$2152=t0$2139[1]);(value$2153=t0$2139[2]);acc$2111.push((newscope$1974.setopt(opt$2152,value$2153),["ignore"]));}else{if(($2107$2147&&((t0$2139[0]==="declare_raw")&&((t2$2141=t0$2139[1]),((variable$2160=t2$2141),((t2$2141 instanceof Array)&&((t3$2142=t2$2141.length),((t3$2142===2)&&(t2$2141[0]==="symbol"))))))))){(s$2161=t2$2141[1]);(value$2162=t0$2139[2]);acc$2111.push((((t0$2171=variable$2160),function(){if($2882(t0$2171,"env")){(env$2169=t0$2171.env);}else{return $2750(variable$2160,"/home/olivier/git/earl-grey/src/expand.eg",9738,9746);}}()),env$2169.bind(newscope$1974,s$2161,value$2162),(changes$1976=true),["ignore"]));}else{if(($2105$2145&&(($2107$2147=((t1$2140>=2)&&(t1$2140<=3)))&&(($2108$2148=(t0$2139[0]==="declare"))&&((t2$2141=t0$2139[1]),((variable$2177=t2$2141),((t2$2141 instanceof Array)&&((t3$2142=t2$2141.length),((t3$2142===2)&&(t2$2141[0]==="symbol")))))))))){(s$2178=t2$2141[1]);(value$2179=function(){if((2>=t1$2140)){return null;}else{return t0$2139[2];}}());acc$2111.push((((t0$2189=variable$2177),function(){if($2882(t0$2189,"env")){(env$2186=t0$2189.env);}else{return $2750(variable$2177,"/home/olivier/git/earl-grey/src/expand.eg",9983,9991);}}()),((v$2187=__lt____lt____colon__$818(["variable",it$0$1763.gensym(s$2178)],variable$2177))),env$2186.bind(newscope$1974,s$2178,v$2187),(changes$1976=true),function(){if(value$2179){return ["splice",["newargs",["assign",v$2187,value$2179]],["vars",v$2187]];}else{return ["vars",v$2187];}}()));}else{if(($2108$2148&&((v$2198=t2$2141),((t2$2141 instanceof Array)&&((t3$2142=t2$2141.length),((t3$2142===2)&&(t2$2141[0]==="variable"))))))){t2$2141[1];(value$2199=function(){if((2>=t1$2140)){return null;}else{return t0$2139[2];}}());acc$2111.push(((changes$1976=true),function(){if(value$2199){return ["splice",["newargs",["assign",v$2198,value$2199]],["vars",v$2198]];}else{return ["vars",v$2198];}}()));}else{(other$2207=m$2134);acc$2111.push(["newargs",other$2207]);}}}}}}()))),acc$2111)),"/home/olivier/git/earl-grey/src/expand.eg",9410,10931);}(exp$1979=function(s$2212){var $index$2238;var $length$2233;var temp$2228;var acc$2223;var $index$2280;var $length$2275;var temp$2270;var acc$2265;var stepped$2215;(stepped$2215=(((acc$2223=[])),(((temp$2228=enumerate$823(newargs$1977))),((($length$2233=temp$2228.length)),((($index$2238=0)),function(){$2220:for(;($index$2238<$length$2233);($index$2238++)){var i$2256;var arg$2257;var t0$2251;var t1$2252;var m$2246;(m$2246=temp$2228[$index$2238]);;(t0$2251=m$2246);if(((t0$2251 instanceof Array)&&((t1$2252=t0$2251.length),(t1$2252===2)))){(i$2256=t0$2251[0]);(arg$2257=t0$2251[1]);acc$2223.push(it$0$1763.step(["expr",function(){if((i$2256===(newargs$1977.length-1))){return "expr";}else{return "ignore";}}()],s$2212,arg$2257));}else{$2750(m$2246,"/home/olivier/git/earl-grey/src/expand.eg",11153,11330);;}}}()))),acc$2223));;(acc$2265=[]);;(temp$2270=stepped$2215);;($length$2275=temp$2270.length);;($index$2280=0);;$2216:for(;($index$2280<$length$2275);($index$2280++)){var arg$2296;var m$2288;(m$2288=temp$2270[$index$2280]);;(arg$2296=m$2288);acc$2265.push(helper$1768(["expr","expr"],s$2212,arg$2296));}return acc$2265;});;if(changes$1976){return ["scope",vars$1978,["multi"].concat(exp$1979(newscope$1974))];}else{return ["multi"].concat(exp$1979(scope$1773));}}else{if(($1781$1794&&($1777$1783[0]==="data"))){(args$2301=Array.prototype.slice.call($1777$1783,1));(is_obj$2305=false);;(obj$2306=["object"]);;(arr$2307=["array"]);;(arr_parts$2308=[]);;(obj_parts$2309=[]);;(new_arr_part$2310=function(){var other$2354;var t0$2345;var $2338$2340;($2338$2340=arr$2307);;if((($2338$2340 instanceof Array)&&((t0$2345=$2338$2340.length),((t0$2345===1)&&($2338$2340[0]==="array"))))){return false;}else{(other$2354=$2338$2340);arr_parts$2308.push(arr$2307);return (arr$2307=["array"]);}});;(new_obj_part$2311=function(){var other$2378;var t0$2369;var $2362$2364;($2362$2364=obj$2306);;if((($2362$2364 instanceof Array)&&((t0$2369=$2362$2364.length),((t0$2369===1)&&($2362$2364[0]==="object"))))){return false;}else{(other$2378=$2362$2364);obj_parts$2309.push(obj$2306);return (obj$2306=["object"]);}});;(temp$2384=it$0$1763.step_all(["expr","data"],scope$1773,args$2301));;($length$2389=temp$2384.length);;($index$2394=0);;$2313:for(;($index$2394<$length$2389);($index$2394++)){var other$2440;var expr$2434;var expr$2428;var k$2421;var v$2422;var $2315$2410;var $2316$2411;var $2317$2412;var $2318$2413;var t0$2407;var t1$2408;var m$2402;(m$2402=temp$2384[$index$2394]);;(t0$2407=m$2402);if((($2316$2411=(t0$2407 instanceof Array))&&((t1$2408=t0$2407.length),((t1$2408===1)&&(t0$2407[0]==="assoc"))))){(is_obj$2305=true);}else{if(($2316$2411&&((t1$2408===3)&&(t0$2407[0]==="assoc")))){(k$2421=t0$2407[1]);(v$2422=t0$2407[2]);(is_obj$2305=true);obj$2306.push(["array",k$2421,v$2422]);}else{if(($2316$2411&&(($2318$2413=(t1$2408===2))&&(t0$2407[0]==="dynsplice")))){(expr$2428=t0$2407[1]);new_arr_part$2310();arr_parts$2308.push(expr$2428);}else{if(($2318$2413&&(t0$2407[0]==="objsplice"))){(expr$2434=t0$2407[1]);(is_obj$2305=true);new_obj_part$2311();obj_parts$2309.push(expr$2434);}else{(other$2440=m$2402);arr$2307.push(other$2440);}}}}}new_arr_part$2310();new_obj_part$2311();(r$2312=((($2444$2446=arr_parts$2308)),function(){if((($2444$2446 instanceof Array)&&((t0$2451=$2444$2446.length),((t0$2451===0)&&is_obj$2305)))){return util$819.construct(obj_parts$2309,function(x$2459,rest$2460){return ["send",["symbol","&:"],["data",x$2459,rest$2460]];},["object"]);}else{$2444$2446;if(is_obj$2305){throw $2763(["syntax","array","object"]).create("Cannot mix array and object notations.");}else{(other$2468=$2444$2446);return util$819.construct(arr_parts$2308.reverse(),function(x$2471,rest$2472){return ["send",["send",rest$2472,["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",x$2471]];},["array"]);}}}()));;return helper$1768(context$1772,scope$1773,it$0$1763.mkenv().convert(r$2312));}else{if(($1779$1792&&(($1781$1794=(t0$1788===3))&&($1777$1783[0]==="assign")))){(target$2477=$1777$1783[1]);(value$2478=$1777$1783[2]);return ["assign",helper$1768(["expr","expr"],scope$1773,target$2477),helper$1768(["expr","expr"],scope$1773,value$2478)];}else{if(($1781$1794&&($1777$1783[0]==="lambda"))){(bindings$2483=$1777$1783[1]);(body$2484=$1777$1783[2]);(newscope$2488=Scope$832(scope$1773));;return ["lambda",(((acc$2496=[])),(((temp$2501=bindings$2483)),((($length$2506=temp$2501.length)),((($index$2511=0)),function(){$2492:for(;($index$2511<$length$2506);($index$2511++)){var v$2537;var x$2547;var other$2554;var v$2544;var b$2530;var env$2531;var $2494$2527;var t0$2524;var t1$2525;var m$2519;(m$2519=temp$2501[$index$2511]);;(t0$2524=m$2519);if(((t0$2524 instanceof Array)&&((t1$2525=t0$2524.length),((t1$2525===2)&&((t0$2524[0]==="symbol")&&((b$2530=t0$2524[1]),$2882(t0$2524,"env"))))))){(env$2531=t0$2524.env);acc$2496.push((((v$2537=["variable",it$0$1763.gensym(b$2530)])),(env$2531.bind(newscope$2488,b$2530,v$2537),v$2537)));}else{if((((x$2547=t0$2524)),((x$2547 instanceof Array)&&(x$2547[0]==="variable")))){(v$2544=t0$2524);acc$2496.push(v$2544);}else{(other$2554=m$2519);acc$2496.push(function(){throw $2763(["syntax","lambda","binding"]).create("Not a valid binding.",({"node":other$2554}));}());}}}}()))),acc$2496),helper$1768(["expr","expr"],newscope$2488,body$2484)];}else{if(($1781$1794&&($1777$1783[0]==="use"))){($1778$2559=$1777$1783[1]);(x$2558=$1777$1783[2]);(t0$2563=$1778$2559);if((typeof(t0$2563)==="string")){(name$2567=t0$2563);(s$2571=scope$1773);;$2575:while(s$2571){if((s$2571.name.slice(0,(name$2567.length+1))===(name$2567+"/"))){break $2575;}else{(s$2571=s$2571.parent);}}if(s$2571){return helper$1768(context$1772,s$2571,x$2558);}else{throw $2763(["syntax","noscope"]).create(("Could not find a scope tagged: "+name$2567));}}else{(newscope$2580=$1778$2559);return helper$1768(context$1772,newscope$2580,x$2558);}}else{if(($1781$1794&&(($1777$1783[0]==="tagscope")&&((t1$1789=$1777$1783[1]),(typeof(t1$1789)==="string"))))){(tag$2584=t1$1789);(body$2585=$1777$1783[2]);return helper$1768(context$1772,Scope$832(scope$1773,it$0$1763.gensym((tag$2584+"/"))),body$2585);}else{if(($1779$1792&&((t0$1788>=1)&&((type$2591=$1777$1783[0]),((args$2592=Array.prototype.slice.call($1777$1783,1)),(it$0$1763.generic_nodes.indexOf(type$2591)!==(-1))))))){return [type$2591].concat((((acc$2600=[])),(((temp$2605=args$2592)),((($length$2610=temp$2605.length)),((($index$2615=0)),function(){$2597:for(;($index$2615<$length$2610);($index$2615++)){var arg$2631;var m$2623;(m$2623=temp$2605[$index$2615]);;(arg$2631=m$2623);acc$2600.push(helper$1768(["expr","expr"],scope$1773,arg$2631));}}()))),acc$2600));}else{(other$2635=$1777$1783);throw $2763(["syntax","illegal_node"]).create("An illegal node was found.",({"node":other$2635,"context":context$1772}));}}}}}}}}}}}}}}}}}));;return helper$1768(context$1758,scope$1759,expr$1760);});$2870(Expander$835,({}));Expander$835;(mac1$836=function(f$2641){return ["macro",function(context$2645,scope$2646,form$2647,$2643$2648){var t0$2652;var t1$2653;var expr$2650;(t0$2652=$2643$2648);if(((t0$2652 instanceof Array)&&((t1$2653=t0$2652.length),((t1$2653===2)&&(t0$2652[0]==="data"))))){(expr$2650=t0$2652[1]);;}else{$2750($2643$2648);}return f$2641(expr$2650);}];});;(__chk_ncache$837=({}));;(__chk_scache$838=({}));;(checker_db$839=function($2667$2669){var v$2705;var v$2718;var s$2714;var n$2701;var $2671$2677;var ph$2672;(ph$2672=$2667$2669);;($2671$2677=ph$2672);;if(($2671$2677===null)){return checker_db$839.null;}else{if(($2671$2677===(void 0))){return checker_db$839.undefined;}else{if(($2671$2677===true)){return checker_db$839.true;}else{if(($2671$2677===false)){return checker_db$839.false;}else{if((typeof($2671$2677)==="number")){(n$2701=$2671$2677);if($779(__chk_ncache$837,n$2701)){return $779(__chk_ncache$837,n$2701);}else{(v$2705=mac1$836(function(x$2709){return ["send",["symbol","==="],["data",x$2709,["value",n$2701]]];}));;(__chk_ncache$837[n$2701]=v$2705);return v$2705;}}else{if((typeof($2671$2677)==="string")){(s$2714=$2671$2677);if(Object.prototype.hasOwnProperty.call(__chk_scache$838,s$2714)){return $779(__chk_scache$838,s$2714);}else{(v$2718=mac1$836(function(x$2722){return ["send",["symbol","==="],["data",x$2722,["value",s$2714]]];}));;(__chk_scache$838[s$2714]=v$2718);return v$2718;}}else{$2750($2671$2677);}}}}}}});;$2870(checker_db$839,({"String":mac1$836(function(x$2729){return ["send",["symbol","==="],["data",["send",["symbol","typeof"],["data",x$2729]],["value","string"]]];}),"Number":mac1$836(function(x$2732){return ["send",["symbol","==="],["data",["send",["symbol","typeof"],["data",x$2732]],["value","number"]]];}),"Array":mac1$836(function(x$2735){return ["send",["symbol","instanceof"],["data",x$2735,["symbol","Array"]]];}),"true":mac1$836(function(x$2738){return x$2738;}),"false":mac1$836(function(x$2741){return ["send",["symbol","not"],["data",["void"],x$2741]];}),"null":mac1$836(function(x$2744){return ["send",["symbol","==="],["data",x$2744,["value",null]]];}),"undefined":mac1$836(function(x$2747){return ["send",["symbol","==="],["data",x$2747,["value",(void 0)]]];})}));(exports["Env"]=Env$833);(exports["Scope"]=Scope$832);(exports["track_location"]=track_location$834);(exports["Expander"]=Expander$835);(exports["GenSym"]=GenSym$826);(exports["gensym"]=gensym$827);(exports["mac1"]=mac1$836);(exports["checker_db"]=checker_db$839);
