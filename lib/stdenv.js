require("earlgrey-runtime");var accum$17960;var accum$17964;var $index$18010;var $length$18004;var temp$17998;var accum$18840;var accum$18887;var accum$18970;var accum$18983;var accum$18995;var accum$19039;var accum$19048;var accum$19061;var accum$19440;var accum$19528;var accum$19620;var accum$19709;var accum$19739;var accum$19863;var accum$19999;var accum$20039;var accum$20091;var accum$20164;var accum$20226;var accum$20288;var accum$20343;var accum$20479;var accum$20620;var accum$20816;var accum$20846;var accum$21133;var accum$21471;var accum$21662;var accum$21795;var accum$22416;var t0$22521;var accum$22519;var t0$22745;var accum$22743;var t0$22833;var accum$22831;var accum$23039;var t0$23504;var accum$23502;var accum$23802;var accum$24030;var accum$24053;var accum$24076;var t0$24248;var accum$24246;var accum$24518;var t0$24550;var accum$24548;var t0$24572;var accum$24570;var t0$24594;var accum$24592;var accum$24614;var accum$24663;var accum$24710;var accum$25019;var accum$25304;var accum$25506;var accum$25823;var accum$26001;var accum$26058;var accum$26803;var accum$27329;var accum$27435;var $index$27474;var $length$27468;var temp$19388;var accum$28742;var accum$28746;var mac$28758;var $index$28952;var $length$28946;var temp$28940;var $17726$17790;var __lt____gt__$17791;var $17727$17792;var __lt____lt____colon__$17793;var util$17794;var GenSym$17795;var classify_contiguous$17796;var Body$17797;var $17729$17798;var PatternParser$17799;var PatternProcessor$17800;var parse_pattern$17801;var parse_clauses$17802;var mt$17803;var Expander$17804;var Scope$17805;var Env$17806;var nullenv$17807;var mac1$17808;var checker_db$17809;var generic_nodes$17810;var mkid$17811;var Embedded$17812;var stdenv$17813;var mkstdenv$17814;var expander$17815;var expand$17816;var topscope$17817;var embed_location$17818;var error_embed_location$17819;var match_error$17820;var drop_ctx$17821;var expr_mac$17822;var overridable$17823;var protected_value$17824;var setup_label$17825;var break_mac$17826;var continue_mac$17827;var var_operator$17828;var accum_flags$17829;var pattern_constructors$17830;var disregard_specials$17831;var pattern_handlers$17832;var build_loop$17833;var partial_pattern$17834;var make_assigner$17835;var blocktest_wrap$17836;var blocktest_mac$17837;var qqstruct$17838;var qq$17839;var RegexBuilder$17840;var build_regexp$17841;var errf_macro$17842;($17726$17790=require("./pp"));(__lt____gt__$17791=$17726$17790["<>"]);($17727$17792=require("./location"));(__lt____lt____colon__$17793=$17727$17792["<<:"]);(util$17794=require("./util"));(GenSym$17795=util$17794.GenSym);(classify_contiguous$17796=util$17794.classify_contiguous);(Body$17797=util$17794.Body);($17729$17798=require("./pattern"));(PatternParser$17799=$17729$17798.PatternParser);(PatternProcessor$17800=$17729$17798.PatternProcessor);(parse_pattern$17801=$17729$17798.parse_pattern);(parse_clauses$17802=$17729$17798.parse_clauses);(mt$17803=require("./expand"));(Expander$17804=mt$17803.Expander);(Scope$17805=mt$17803.Scope);(Env$17806=mt$17803.Env);(nullenv$17807=mt$17803.nullenv);(mac1$17808=mt$17803["mac1"]);(checker_db$17809=mt$17803.checker_db);(generic_nodes$17810=["if","js_while","js_for","js_for_in","js_label","js_break","js_continue","js_return","js_delete","js_throw","js_try","js_new"]);(mkid$17811=GenSym$17795("#"));(Embedded$17812=(function(code$17922){var it$0$17925;(it$0$17925=(function(){if((!getChecker(Embedded$17812)(this))){return Object.create(Embedded$17812.prototype);}else{return this;}})());(it$0$17925["code"]=mkstdenv$17814().mark(code$17922));(it$0$17925["::id"]=mkid$17811());return it$0$17925;}));(Embedded$17812.prototype["::serialize_ast"]=(function(){var it$0$17948;var self$17949;(it$0$17948=this);(self$17949=this);return expand$17816(["top"],topscope$17817,it$0$17948.code);}));__amp____colon__(Embedded$17812,__amp____colon__(((accum$17960=({})),((accum$17960["::name"]="Embedded"),accum$17960)),((accum$17964=({})),((accum$17964["::egclass"]=true),accum$17964))));Embedded$17812;(stdenv$17813=Env$17806());(mkstdenv$17814=(function(){var e$17978;(e$17978=Env$17806());(e$17978.scopes["top"]=stdenv$17813.scopes.top);return e$17978;}));(expander$17815=Expander$17804(mkstdenv$17814,generic_nodes$17810));(expand$17816=expander$17815.expand.bind(expander$17815));(topscope$17817=Scope$17805(null,"top",expander$17815));(temp$17998=["+","-","*","/","mod","&.","|.","^.","and","or","not","===","!==","<",">","<=",">=","<<",">>",">>>","in","instanceof","--","++","true","false","null","undefined","typeof","String","Array","Number","Boolean","Object","RegExp","Function","Date","parseInt","parseFloat","Math","Error","TypeError","ReferenceError","console","process","eval","setTimeout","clearTimeout","setInterval","clearInterval","___js_fetch","___node","arguments","this","exports","send","object","keys","items","enumerate","zip","neighbours","range","predicate","==","!=","equal","nequal","&","&:","clone","dir","getProjector","getChecker","ErrorFactory","Node","___build_array","___hasprop","___extend","___match_error","___serialize_ast","global"]);($length$18004=temp$17998.length);($index$18010=0);$17843:for(;($index$18010<$length$18004);($index$18010++)){var k$18027;var m$18019;(m$18019=temp$17998[$index$18010]);(k$18027=m$18019);stdenv$17813.bind(topscope$17817,k$18027,__amp__(["variable",k$18027],({"mutable":false,"assigned":true})));}stdenv$17813.bind(topscope$17817,"pass",["variable","undefined"]);(embed_location$17818=(function($18032$18035){var other$18075;var url$18056;var start$18057;var end$18058;var t0$18051;var t1$18052;var $18037$18046;var ph$18040;(ph$18040=$18032$18035);($18037$18046=ph$18040);if((___hasprop($18037$18046,"location")&&(((t0$18051=$18037$18046.location)),(___hasprop(t0$18051,"source")&&(((t1$18052=t0$18051.source)),(___hasprop(t1$18052,"url")&&((url$18056=t1$18052.url),(___hasprop(t0$18051,"start")&&((start$18057=t0$18051.start),___hasprop(t0$18051,"end")))))))))){(end$18058=t0$18051.end);return ["send",["send",["symbol","#"],["data",["void"],["symbol","location"]]],["data",["value",url$18056],["value",start$18057],["value",end$18058]]];}else{(other$18075=$18037$18046);return ["send",["send",["symbol","#"],["data",["void"],["symbol","location"]]],["data",["symbol","null"],["value",0],["value",0]]];}}));(error_embed_location$17819=(function(error$18082,target$18083){return ["send",["symbol","throw"],["send",["symbol","&:"],["data",error$18082,["data",["send",["symbol","="],["data",["symbol","location"],embed_location$17818(target$18083)]]]]]];}));(match_error$17820=(function($18089$18092){var t0$18100;var other$18138;var url$18119;var start$18120;var end$18121;var t0$18114;var t1$18115;var $18094$18109;var ph$18097;var target$18098;(t0$18100=$18089$18092);(target$18098=t0$18100);(ph$18097=t0$18100);($18094$18109=ph$18097);if((___hasprop($18094$18109,"location")&&(((t0$18114=$18094$18109.location)),(___hasprop(t0$18114,"source")&&(((t1$18115=t0$18114.source)),(___hasprop(t1$18115,"url")&&((url$18119=t1$18115.url),(___hasprop(t0$18114,"start")&&((start$18120=t0$18114.start),___hasprop(t0$18114,"end")))))))))){(end$18121=t0$18114.end);return ["send",["symbol","___match_error"],["data",target$18098,["value",url$18119],["value",start$18120],["value",end$18121]]];}else{(other$18138=$18094$18109);return ["send",["symbol","___match_error"],["data",other$18138]];}}));(drop_ctx$17821=(function(f$18145){return (function(context$18149,scope$18150,form$18151,arg$18152){var rval$18158;(rval$18158=false);try{(rval$18158=f$18145(context$18149,scope$18150,form$18151,arg$18152));}catch(excv$18169){var t0$18206;var e$18219;var t0$18172;var t1$18173;var t2$18174;var t3$18175;var t4$18176;(t0$18172=excv$18169);if((getChecker(ErrorFactory(["match"]))(t0$18172)&&(___hasprop(t0$18172,"args")&&(((t1$18173=t0$18172.args)),((t1$18173 instanceof Array)&&(((t2$18174=t1$18173.length)),((t2$18174===1)&&(((t3$18175=t1$18173[0])),(___hasprop(t3$18175,"value")&&(((t4$18176=t3$18175.value)),((t4$18176===context$18149)&&(!((t4$18176 instanceof Array)&&(((t0$18206=t4$18176.length)),((t0$18206===2)&&((t4$18176[0]==="expr")&&(t4$18176[1]==="expr"))))))))))))))))){(rval$18158=["nostep",form$18151]);}else{(e$18219=excv$18169);(rval$18158=function(){throw e$18219;}());}}return rval$18158;});}));(expr_mac$17822=(function(f$18230){return (function($18233$18236,scope$18237,form$18238,arg$18239){var t0$18266;var t0$18273;var otherwise$18282;var bridge$18243$18256;var $18241$18251;var ph$18245;(ph$18245=$18233$18236);($18241$18251=ph$18245);(bridge$18243$18256=$18241$18251);if((((bridge$18243$18256 instanceof Array)&&(((t0$18266=bridge$18243$18256.length)),((t0$18266===2)&&((bridge$18243$18256[0]==="expr")&&(bridge$18243$18256[1]==="expr")))))||((bridge$18243$18256 instanceof Array)&&(((t0$18273=bridge$18243$18256.length)),((t0$18273===2)&&((bridge$18243$18256[0]==="expr")&&(bridge$18243$18256[1]==="head"))))))){return f$18230(scope$18237,form$18238,arg$18239);}else{(otherwise$18282=$18241$18251);return ["nostep",form$18238];}});}));(overridable$17823=(function(f$18289){return (function($18292$18295,scope$18296,form$18297,arg$18298){var t0$18307;var x$18328;var other$18344;var t0$18321;var $18300$18316;var ph$18304;var context$18305;(t0$18307=$18292$18295);(context$18305=t0$18307);(ph$18304=t0$18307);($18300$18316=ph$18304);if((((x$18328=$18300$18316)),((x$18328 instanceof Array)&&(x$18328[0]==="pattern")))){return ["nostep",form$18297];}else{if((($18300$18316 instanceof Array)&&(((t0$18321=$18300$18316.length)),((t0$18321===2)&&(($18300$18316[0]==="expr")&&($18300$18316[1]==="multi")))))){return ["nostep",form$18297];}else{(other$18344=$18300$18316);return f$18289(context$18305,scope$18296,form$18297,arg$18298);}}});}));(protected_value$17824=(function(name$18351,value$18352){return (function($18355$18358,scope$18359,form$18360,arg$18361){var x$18383;var other$18415;var t0$18402;var $18392$18397;var other$18390;var $18363$18372;var ph$18366;(ph$18366=$18355$18358);($18363$18372=ph$18366);if((((x$18383=$18363$18372)),((x$18383 instanceof Array)&&(x$18383[0]==="pattern")))){throw ErrorFactory(["syntax","pattern"]).create((("'"+name$18351)+"' is not a valid pattern and cannot be redeclared"));}else{(other$18390=$18363$18372);($18392$18397=arg$18361);if((($18392$18397 instanceof Array)&&(((t0$18402=$18392$18397.length)),((t0$18402===1)&&($18392$18397[0]==="void"))))){return ["value",value$18352];}else{(other$18415=$18392$18397);return ["send",["value",value$18352],arg$18361];}}});}));(setup_label$17825=(function(label$18422,env$18423,body$18424){return ["bind",__amp__(["symbol","break"],({"env":env$18423})),["macro",break_mac$17826(label$18422)],["bind",__amp__(["symbol","continue"],({"env":env$18423})),["macro",continue_mac$17827(label$18422)],["js_label",["value",label$18422],body$18424]]];}));(break_mac$17826=(function(default_label$18431){return overridable$17823((function(context$18437,scope$18438,form$18439,$18434$18440){var t0$18454;var v$18494;var v$18489;var $18447$18470;var $18448$18471;var $18449$18472;var $18450$18473;var t0$18468;var $18442$18463;var ph$18451;var expr$18452;(t0$18454=$18434$18440);(expr$18452=t0$18454);(ph$18451=t0$18454);($18442$18463=ph$18451);if((($18447$18470=($18442$18463 instanceof Array))&&(((t0$18468=$18442$18463.length)),(($18449$18472=(t0$18468===1))&&(($18450$18473=($18442$18463[0]==="void"))&&default_label$18431))))){return ["js_break",["value",default_label$18431]];}else{if($18450$18473){return ["js_break"];}else{if(($18447$18470&&(($18449$18472=(t0$18468===2))&&($18442$18463[0]==="value")))){(v$18489=$18442$18463[1]);return ["js_break",expr$18452];}else{if(($18449$18472&&($18442$18463[0]==="symbol"))){(v$18494=$18442$18463[1]);return ["js_break",["value",v$18494]];}else{___match_error($18442$18463);}}}}}));}));(continue_mac$17827=(function(default_label$18504){return overridable$17823((function(context$18510,scope$18511,form$18512,$18507$18513){var t0$18527;var v$18567;var v$18562;var $18520$18543;var $18521$18544;var $18522$18545;var $18523$18546;var t0$18541;var $18515$18536;var ph$18524;var expr$18525;(t0$18527=$18507$18513);(expr$18525=t0$18527);(ph$18524=t0$18527);($18515$18536=ph$18524);if((($18520$18543=($18515$18536 instanceof Array))&&(((t0$18541=$18515$18536.length)),(($18522$18545=(t0$18541===1))&&(($18523$18546=($18515$18536[0]==="void"))&&default_label$18504))))){return ["js_continue",["value",default_label$18504]];}else{if($18523$18546){return ["js_continue"];}else{if(($18520$18543&&(($18522$18545=(t0$18541===2))&&($18515$18536[0]==="value")))){(v$18562=$18515$18536[1]);return ["js_continue",expr$18525];}else{if(($18522$18545&&($18515$18536[0]==="symbol"))){(v$18567=$18515$18536[1]);return ["js_continue",["value",v$18567]];}else{___match_error($18515$18536);}}}}}));}));(var_operator$17828=(function(name$18577){return (function(context$18581,scope$18582,form$18583,expr$18584){var t0$18600;var x$18637;var other$18662;var s$18648;var t0$18643;var t1$18644;var $18592$18633;var $18595$18620;var $18596$18621;var t0$18618;var $18589$18613;var env$18597;var sym$18598;(t0$18600=form$18583);if(___hasprop(t0$18600,"env")){(env$18597=t0$18600.env);}else{___match_error(form$18583,"/home/olivier/git/eg/src/stdenv.eg",3985,3989);}(sym$18598=__amp__(["symbol",name$18577],({"env":env$18597})));($18589$18613=expr$18584);if((($18595$18620=($18589$18613 instanceof Array))&&(((t0$18618=$18589$18613.length)),((t0$18618===1)&&($18589$18613[0]==="void"))))){return sym$18598;}else{if(($18595$18620&&((t0$18618===3)&&(($18589$18613[0]==="data")&&(((x$18637=$18589$18613[1])),((x$18637 instanceof Array)&&(x$18637[0]==="void"))))))){($18592$18633=$18589$18613[2]);(t0$18643=$18592$18633);if(((t0$18643 instanceof Array)&&(((t1$18644=t0$18643.length)),((t1$18644===2)&&(t0$18643[0]==="symbol"))))){(s$18648=t0$18643[1]);return ["send",sym$18598,["value",s$18648]];}else{(other$18662=$18592$18633);return ["send",sym$18598,other$18662];}}else{___match_error($18589$18613);}}});}));(accum_flags$17829=(function(){var make$18694;var mac$18684;var also_values$18685;var t0$18680;var $18671$18675;($18671$18675=arguments);(t0$18680=$18671$18675.length);if(((t0$18680>=1)&&(t0$18680<=2))){(mac$18684=$18671$18675[0]);(also_values$18685=(function(){if((1>=t0$18680)){return true;}else{return $18671$18675[1];}})());(make$18694=(function(flags$18699){return (function(context$18705,scope$18706,form$18707,$18702$18708){var other$18797;var flag$18752;var flag$18741;var $18714$18737;var $18715$18738;var t0$18727;var t1$18728;var t2$18729;var t3$18730;var t4$18731;var t5$18732;var t6$18733;var t7$18734;var t8$18735;var $18710$18722;var ph$18716;(ph$18716=$18702$18708);($18710$18722=ph$18716);if((($18714$18737=($18710$18722 instanceof Array))&&(((t0$18727=$18710$18722.length)),((t0$18727===2)&&(($18710$18722[0]==="value")&&((flag$18741=$18710$18722[1]),also_values$18685)))))){return ["macro",make$18694(flags$18699.concat([flag$18741]))];}else{if(($18714$18737&&((t0$18727===3)&&(($18710$18722[0]==="send")&&(((t1$18728=$18710$18722[1])),((t1$18728 instanceof Array)&&(((t2$18729=t1$18728.length)),((t2$18729===2)&&((t1$18728[0]==="symbol")&&((t1$18728[1]===".")&&(((t3$18730=$18710$18722[2])),((t3$18730 instanceof Array)&&(((t4$18731=t3$18730.length)),((t4$18731===3)&&((t3$18730[0]==="data")&&(((t5$18732=t3$18730[1])),((t5$18732 instanceof Array)&&(((t6$18733=t5$18732.length)),((t6$18733===1)&&((t5$18732[0]==="void")&&(((t7$18734=t3$18730[2])),((t7$18734 instanceof Array)&&(((t8$18735=t7$18734.length)),((t8$18735===2)&&(t7$18734[0]==="symbol"))))))))))))))))))))))))){(flag$18752=t7$18734[1]);return ["macro",make$18694(flags$18699.concat([flag$18752]))];}else{(other$18797=$18710$18722);return mac$18684(context$18705,scope$18706,form$18707,other$18797,flags$18699);}}});}));return make$18694([]);}else{___match_error($18671$18675);}}));(pattern_constructors$17830=({}));(disregard_specials$17831=(function($18809$18812,value$18813){var t0$18818;var t1$18819;var kind$18815;var expr$18816;(t0$18818=$18809$18812);if(((t0$18818 instanceof Array)&&(((t1$18819=t0$18818.length)),((t1$18819===2)&&(t0$18818[0]==="special"))))){(kind$18815=t0$18818[1]);(expr$18816=t0$18818);}else{___match_error($18809$18812);}throw ErrorFactory(["syntax","pattern","special"]).create("Special token cannot be used here",({"special":expr$18816}));}));(pattern_handlers$17832=({"declare_variables":__amp____colon__(({"allow_nested":true,"allow_arguments":true,"special":disregard_specials$17831}),__amp____colon__(((accum$18840=({})),((accum$18840["assign"]=(function($18844$18847,value$18848){var t0$18856;var v$18884;var name$18874;var t0$18870;var $18850$18865;var ph$18853;var v$18854;(t0$18856=$18844$18847);(v$18854=t0$18856);(ph$18853=t0$18856);($18850$18865=ph$18853);if((($18850$18865 instanceof Array)&&(((t0$18870=$18850$18865.length)),((t0$18870===2)&&($18850$18865[0]==="symbol"))))){(name$18874=$18850$18865[1]);return ["do",__lt____lt____colon__$17793(["assign",v$18854,__amp____colon__(value$18848,({"name":name$18874}))],v$18854)];}else{(v$18884=$18850$18865);return ["do",__lt____lt____colon__$17793(["assign",v$18884,value$18848],v$18884)];}})),accum$18840)),__amp____colon__(({"finalize":true,"tags":({"declare_mode":"unqualified"})}),__amp____colon__(((accum$18887=({})),((accum$18887["declare"]=(function(scope$18892,vars$18893){var $index$18918;var $length$18912;var temp$18906;var acc$18900;(acc$18900=[]);(temp$18906=vars$18893);($length$18912=temp$18906.length);($index$18918=0);$18895:for(;($index$18918<$length$18912);($index$18918++)){var $18938$18945;var v$18935;var m$18927;(m$18927=temp$18906[$index$18918]);(v$18935=m$18927);acc$18900.push(((($18938$18945=v$18935.declare_mode)),(function(){if(($18938$18945==="set")){return ["splice"];}else{if(($18938$18945==="let")){return ["declare",__amp__(v$18935,({"mutable":false}))];}else{if(($18938$18945==="var")){return ["declare",__amp__(v$18935,({"mutable":true}))];}else{if(($18938$18945==="unqualified")){return ["declare",__amp__(v$18935,({"mutable":false,"use_previous":true}))];}else{___match_error($18938$18945);}}}}})()));}return acc$18900;})),accum$18887)),__amp____colon__(((accum$18970=({})),((accum$18970["success"]=(function($18974$18977){$18974$18977;return ["multi"];})),accum$18970)),((accum$18983=({})),((accum$18983["failure"]=(function(target$18988){return match_error$17820(target$18988);})),accum$18983))))))),"build_object":__amp____colon__(({"strings_as_variables":true,"allow_nested":true,"allow_arguments":true,"special":disregard_specials$17831}),__amp____colon__(((accum$18995=({})),((accum$18995["assign"]=(function($18999$19005,value$19006,$19002$19007){var t0$19018;var t0$19026;var bridge$19001$19011;var v$19009;(bridge$19001$19011=$18999$19005);if((((bridge$19001$19011 instanceof Array)&&(((t0$19018=bridge$19001$19011.length)),((t0$19018===2)&&((bridge$19001$19011[0]==="symbol")&&((v$19009=bridge$19001$19011[1]),true)))))||((bridge$19001$19011 instanceof Array)&&(((t0$19026=bridge$19001$19011.length)),((t0$19026===2)&&((bridge$19001$19011[0]==="value")&&((v$19009=bridge$19001$19011[1]),true))))))){}else{___match_error($18999$19005);}$19002$19007;return ["do",__lt____lt____colon__$17793(["assign",["send",["symbol","accum"],["value",v$19009]],value$19006],v$19009)];})),accum$18995)),__amp____colon__(({"finalize":true}),__amp____colon__(((accum$19039=({})),((accum$19039["declare"]=(function(scope$19044,vars$19045){return [["declare",["symbol","accum"],["data",["symbol","="]]]];})),accum$19039)),__amp____colon__(((accum$19048=({})),((accum$19048["success"]=(function($19052$19055){$19052$19055;return ["symbol","accum"];})),accum$19048)),((accum$19061=({})),((accum$19061["failure"]=(function(target$19066){return match_error$17820(target$19066);})),accum$19061)))))))}));(build_loop$17833=(function(scope$19073,env$19074,form$19075,li$19076,clauses$19077,wrap$19078,pre$19079,post$19080,opt$19081){var t0$19108;var t0$19155;var accum$19209;var lbl$19091;var i$19092;var len$19093;var first_mac$19094;var last_mac$19095;var newscope$19096;var m$19097;(lbl$19091=(function(){if(env$19074){return __amp__(["value",scope$19073.gensym()],({"env":env$19074}));}else{return ["value",scope$19073.gensym()];}})());(i$19092=__amp__(["symbol","$index"],({"env":env$19074})));(len$19093=__amp__(["symbol","$length"],({"env":env$19074})));(t0$19108=getProjector(drop_ctx$17821)((function($19114$19117,scope$19118,form$19119,subp$19120){var x$19126;if((((x$19126=$19114$19117)),((x$19126 instanceof Array)&&(x$19126[0]==="pattern")))){}else{___match_error($19114$19117);}return ["test",["send",["symbol","==="],["data",i$19092,["value",0]]],subp$19120];})));if(t0$19108[0]){(first_mac$19094=t0$19108[1]);}else{___match_error((function($19136$19139,scope$19140,form$19141,subp$19142){var x$19148;if((((x$19148=$19136$19139)),((x$19148 instanceof Array)&&(x$19148[0]==="pattern")))){}else{___match_error($19136$19139);}return ["test",["send",["symbol","==="],["data",i$19092,["value",0]]],subp$19142];}));}(t0$19155=getProjector(drop_ctx$17821)((function($19161$19164,scope$19165,form$19166,subp$19167){var x$19173;if((((x$19173=$19161$19164)),((x$19173 instanceof Array)&&(x$19173[0]==="pattern")))){}else{___match_error($19161$19164);}return ["test",["send",["symbol","==="],["data",i$19092,["send",["symbol","-"],["data",len$19093,["value",1]]]]],subp$19167];})));if(t0$19155[0]){(last_mac$19095=t0$19155[1]);}else{___match_error((function($19183$19186,scope$19187,form$19188,subp$19189){var x$19195;if((((x$19195=$19183$19186)),((x$19195 instanceof Array)&&(x$19195[0]==="pattern")))){}else{___match_error($19183$19186);}return ["test",["send",["symbol","==="],["data",i$19092,["send",["symbol","-"],["data",len$19093,["value",1]]]]],subp$19189];}));}(newscope$19096=Scope$17805(scope$19073));env$19074.bind(newscope$19096,"first",["macro",first_mac$19094]);env$19074.bind(newscope$19096,"last",["macro",last_mac$19095]);(m$19097=__lt____lt____colon__$17793(["symbol","m"],form$19075));return ["multi",pre$19079,["send",["symbol","let"],["data",["multi",["send",["symbol","="],["data",["symbol","temp"],li$19076]],["send",["symbol","="],["data",len$19093,["send",["symbol","temp"],["send",["symbol","."],["data",["void"],["symbol","length"]]]]]]],["send",["send",["symbol","for"],lbl$19091],["data",["multi",["send",["symbol","="],["data",["send",["symbol","var"],i$19092],["value",0]]],["send",["symbol","<"],["data",i$19092,len$19093]],["send",["symbol","++"],["data",i$19092,["void"]]]],["multi",["send",["symbol","="],["data",m$19097,["send",["symbol","___js_fetch"],["data",["symbol","temp"],i$19092]]]],parse_clauses$17802(newscope$19096,m$19097,clauses$19077,__amp__(opt$19081,((accum$19209=({})),((accum$19209["wrap"]=(function(x$19214){return wrap$19078(x$19214,i$19092);})),accum$19209))))]]]]],post$19080];}));(partial_pattern$17834=(function(operator$19221){var x$19245;var $19229$19234;var op$19226;(op$19226=((($19229$19234=operator$19221)),(function(){if((((x$19245=$19229$19234)),((x$19245 instanceof Array)&&(x$19245[0]==="symbol")))){return operator$19221;}else{if((typeof($19229$19234)==="string")){return ["variable",operator$19221];}else{___match_error($19229$19234);}}})()));return (function(context$19258,scope$19259,form$19260,expr$19261){var x$19297;var m$19324;var other$19349;var val$19288;var $19267$19283;var $19268$19284;var $19269$19285;var t0$19277;var t1$19278;var t2$19279;var t3$19280;var t4$19281;var $19263$19272;($19263$19272=[context$19258,expr$19261]);if((($19267$19283=($19263$19272 instanceof Array))&&(((t0$19277=$19263$19272.length)),(($19269$19285=(t0$19277===2))&&((((x$19297=$19263$19272[0])),((x$19297 instanceof Array)&&(x$19297[0]==="pattern")))&&(((t1$19278=$19263$19272[1])),((t1$19278 instanceof Array)&&(((t2$19279=t1$19278.length)),((t2$19279===3)&&((t1$19278[0]==="data")&&(((t3$19280=t1$19278[1])),((t3$19280 instanceof Array)&&(((t4$19281=t3$19280.length)),((t4$19281===1)&&(t3$19280[0]==="void"))))))))))))))){(val$19288=t1$19278[2]);(m$19324=mac1$17808((function(x$19329){return ["send",op$19226,["data",x$19329,val$19288]];})));return ["check",m$19324,["ignore"]];}else{if(($19269$19285&&($19263$19272[0],(((t1$19278=$19263$19272[1])),((t1$19278 instanceof Array)&&(((t2$19279=t1$19278.length)),((t2$19279===1)&&(t1$19278[0]==="void")))))))){return op$19226;}else{(other$19349=$19263$19272);return ["send",op$19226,expr$19261];}}});}));(make_assigner$17835=(function(op$19356){return (function(context$19362,scope$19363,form$19364,$19359$19365){var t0$19370;var t1$19371;var a$19367;var b$19368;(t0$19370=$19359$19365);if(((t0$19370 instanceof Array)&&(((t1$19371=t0$19370.length)),((t1$19371===3)&&(t0$19370[0]==="data"))))){(a$19367=t0$19370[1]);(b$19368=t0$19370[2]);}else{___match_error($19359$19365);}return ["assign",a$19367,["send",["symbol",op$19356],["data",a$19367,b$19368]]];});}));(temp$19388=items(__amp____colon__(({"true":protected_value$17824("true",true),"false":protected_value$17824("false",false),"null":protected_value$17824("null",null),"undefined":protected_value$17824("undefined",(void 0)),"===":partial_pattern$17834("==="),"!==":partial_pattern$17834("!=="),"==":partial_pattern$17834("equal"),"!=":partial_pattern$17834("nequal"),"<=":partial_pattern$17834("<="),">=":partial_pattern$17834(">="),"<":partial_pattern$17834("<"),">":partial_pattern$17834(">")}),__amp____colon__(((accum$19440=({})),((accum$19440["-"]=(function(context$19447,scope$19448,form$19449,$19444$19450){var t0$19461;var other$19525;var n$19486;var $19456$19482;var $19457$19483;var t0$19475;var t1$19476;var t2$19477;var t3$19478;var t4$19479;var t5$19480;var $19452$19470;var ph$19458;var expr$19459;(t0$19461=$19444$19450);(expr$19459=t0$19461);(ph$19458=t0$19461);($19452$19470=ph$19458);if((($19456$19482=($19452$19470 instanceof Array))&&(((t0$19475=$19452$19470.length)),((t0$19475===3)&&(($19452$19470[0]==="data")&&(((t1$19476=$19452$19470[1])),((t1$19476 instanceof Array)&&(((t2$19477=t1$19476.length)),((t2$19477===1)&&((t1$19476[0]==="void")&&(((t3$19478=$19452$19470[2])),((t3$19478 instanceof Array)&&(((t4$19479=t3$19478.length)),((t4$19479===2)&&((t3$19478[0]==="value")&&(((t5$19480=t3$19478[1])),(typeof(t5$19480)==="number"))))))))))))))))){(n$19486=t5$19480);return ["value",(-n$19486)];}else{if(($19456$19482&&((t0$19475===1)&&($19452$19470[0]==="void")))){return ["variable","-"];}else{(other$19525=$19452$19470);return ["send",["variable","-"],expr$19459];}}})),accum$19440)),__amp____colon__(((accum$19528=({})),((accum$19528["++"]=(function(context$19535,scope$19536,form$19537,$19532$19538){var other$19617;var x$19607;var y$19608;var x$19591;var x$19571;var $19546$19565;var $19547$19566;var $19548$19567;var $19549$19568;var t0$19561;var t1$19562;var t2$19563;var $19540$19556;var ph$19550;(ph$19550=$19532$19538);($19540$19556=ph$19550);if((($19546$19565=($19540$19556 instanceof Array))&&(((t0$19561=$19540$19556.length)),(($19548$19567=(t0$19561===3))&&(($19549$19568=($19540$19556[0]==="data"))&&(((t1$19562=$19540$19556[1])),((t1$19562 instanceof Array)&&(((t2$19563=t1$19562.length)),((t2$19563===1)&&(t1$19562[0]==="void")))))))))){(x$19571=$19540$19556[2]);return ["send",["variable","++"],["data",["void"],x$19571]];}else{if(($19549$19568&&((x$19591=$19540$19556[1]),(((t1$19562=$19540$19556[2])),((t1$19562 instanceof Array)&&(((t2$19563=t1$19562.length)),((t2$19563===1)&&(t1$19562[0]==="void")))))))){return ["send",["variable","++"],["data",x$19591,["void"]]];}else{if($19549$19568){(x$19607=$19540$19556[1]);(y$19608=$19540$19556[2]);return ["send",["send",x$19607,["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",y$19608]];}else{if(($19546$19565&&((t0$19561===1)&&($19540$19556[0]==="void")))){return ["send",["symbol","->"],["data",["data",["symbol","x"],["symbol","y"]],["send",["send",["symbol","x"],["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",["symbol","y"]]]]];}else{(other$19617=$19540$19556);return ["send",["symbol","___build_array"],["data",other$19617]];}}}}})),accum$19528)),__amp____colon__(((accum$19620=({})),((accum$19620[".."]=(function(context$19627,scope$19628,form$19629,$19624$19630){var x$19698;var y$19699;var x$19682;var x$19662;var $19637$19656;var $19638$19657;var $19639$19658;var $19640$19659;var t0$19652;var t1$19653;var t2$19654;var $19632$19647;var ph$19641;(ph$19641=$19624$19630);($19632$19647=ph$19641);if((($19637$19656=($19632$19647 instanceof Array))&&(((t0$19652=$19632$19647.length)),(($19639$19658=(t0$19652===3))&&(($19640$19659=($19632$19647[0]==="data"))&&(((t1$19653=$19632$19647[1])),((t1$19653 instanceof Array)&&(((t2$19654=t1$19653.length)),((t2$19654===1)&&(t1$19653[0]==="void")))))))))){(x$19662=$19632$19647[2]);return ["send",["symbol","range"],["data",["value",1],x$19662]];}else{if(($19640$19659&&((x$19682=$19632$19647[1]),(((t1$19653=$19632$19647[2])),((t1$19653 instanceof Array)&&(((t2$19654=t1$19653.length)),((t2$19654===1)&&(t1$19653[0]==="void")))))))){return ["send",["symbol","range"],["data",x$19682]];}else{if($19640$19659){(x$19698=$19632$19647[1]);(y$19699=$19632$19647[2]);return ["send",["symbol","range"],["data",x$19698,y$19699]];}else{if(($19637$19656&&((t0$19652===1)&&($19632$19647[0]==="void")))){return ["symbol","range"];}else{___match_error($19632$19647);}}}}})),accum$19620)),__amp____colon__(((accum$19709=({})),((accum$19709["//"]=(function(context$19716,scope$19717,form$19718,$19713$19719){var t0$19724;var t1$19725;var a$19721;var b$19722;(t0$19724=$19713$19719);if(((t0$19724 instanceof Array)&&(((t1$19725=t0$19724.length)),((t1$19725===3)&&(t0$19724[0]==="data"))))){(a$19721=t0$19724[1]);(b$19722=t0$19724[2]);}else{___match_error($19713$19719);}return ["send",["send",["symbol","Math"],["send",["symbol","."],["data",["void"],["symbol","floor"]]]],["data",["send",["symbol","/"],["data",a$19721,b$19722]]]];})),accum$19709)),__amp____colon__(((accum$19739=({})),((accum$19739["*"]=(function(context$19744,scope$19745,form$19746,expr$19747){var x$19785;var x$19811;var t0$19816;var other$19860;var val$19802;var $19755$19772;var $19756$19773;var $19757$19774;var t0$19765;var t1$19766;var t2$19767;var bridge$19752$19768;var t3$19769;var t4$19770;var $19749$19760;($19749$19760=[context$19744,expr$19747]);if((($19755$19772=($19749$19760 instanceof Array))&&(((t0$19765=$19749$19760.length)),(($19757$19774=(t0$19765===2))&&((((x$19785=$19749$19760[0])),((x$19785 instanceof Array)&&(x$19785[0]==="pattern")))&&(((t1$19766=$19749$19760[1])),((t1$19766 instanceof Array)&&(((t2$19767=t1$19766.length)),((t2$19767===1)&&(t1$19766[0]==="void")))))))))){return ["dynsplice",["ignore"]];}else{if(($19757$19774&&(((bridge$19752$19768=$19749$19760[0])),(((((x$19811=bridge$19752$19768)),((x$19811 instanceof Array)&&(x$19811[0]==="pattern")))||((bridge$19752$19768 instanceof Array)&&(((t0$19816=bridge$19752$19768.length)),((t0$19816===2)&&((bridge$19752$19768[0]==="expr")&&(bridge$19752$19768[1]==="data"))))))&&(((t1$19766=$19749$19760[1])),((t1$19766 instanceof Array)&&(((t2$19767=t1$19766.length)),((t2$19767===3)&&((t1$19766[0]==="data")&&(((t3$19769=t1$19766[1])),((t3$19769 instanceof Array)&&(((t4$19770=t3$19769.length)),((t4$19770===1)&&(t3$19769[0]==="void")))))))))))))){(val$19802=t1$19766[2]);return ["dynsplice",val$19802];}else{if(($19757$19774&&($19749$19760[0],(((t1$19766=$19749$19760[1])),((t1$19766 instanceof Array)&&(((t2$19767=t1$19766.length)),((t2$19767===1)&&(t1$19766[0]==="void")))))))){return ["variable","*"];}else{(other$19860=$19749$19760);return ["send",["variable","*"],expr$19747];}}}})),accum$19739)),__amp____colon__(((accum$19863=({})),((accum$19863["**"]=(function(context$19868,scope$19869,form$19870,expr$19871){var x$19917;var x$19943;var t0$19948;var a$19992;var b$19993;var val$19934;var $19879$19900;var $19880$19901;var $19881$19902;var $19882$19903;var $19883$19904;var $19884$19905;var $19885$19906;var t0$19893;var t1$19894;var t2$19895;var bridge$19876$19896;var t3$19897;var t4$19898;var $19873$19888;($19873$19888=[context$19868,expr$19871]);if((($19879$19900=($19873$19888 instanceof Array))&&(((t0$19893=$19873$19888.length)),(($19881$19902=(t0$19893===2))&&((((x$19917=$19873$19888[0])),((x$19917 instanceof Array)&&(x$19917[0]==="pattern")))&&(((t1$19894=$19873$19888[1])),((t1$19894 instanceof Array)&&(((t2$19895=t1$19894.length)),((t2$19895===1)&&(t1$19894[0]==="void")))))))))){return ["objsplice",["ignore"]];}else{if(($19881$19902&&(((bridge$19876$19896=$19873$19888[0])),(((((x$19943=bridge$19876$19896)),((x$19943 instanceof Array)&&(x$19943[0]==="pattern")))||((bridge$19876$19896 instanceof Array)&&(((t0$19948=bridge$19876$19896.length)),((t0$19948===2)&&((bridge$19876$19896[0]==="expr")&&(bridge$19876$19896[1]==="data"))))))&&(((t1$19894=$19873$19888[1])),((t1$19894 instanceof Array)&&(((t2$19895=t1$19894.length)),((t2$19895===3)&&((t1$19894[0]==="data")&&(((t3$19897=t1$19894[1])),((t3$19897 instanceof Array)&&(((t4$19898=t3$19897.length)),((t4$19898===1)&&(t3$19897[0]==="void")))))))))))))){(val$19934=t1$19894[2]);return ["objsplice",val$19934];}else{if(($19881$19902&&($19873$19888[0],(((t1$19894=$19873$19888[1])),(($19884$19905=(t1$19894 instanceof Array))&&(((t2$19895=t1$19894.length)),((t2$19895===1)&&(t1$19894[0]==="void")))))))){return ["send",["symbol","Math"],["send",["symbol","."],["data",["void"],["symbol","pow"]]]];}else{if(($19884$19905&&((t2$19895===3)&&(t1$19894[0]==="data")))){(a$19992=t1$19894[1]);(b$19993=t1$19894[2]);return ["send",["send",["symbol","Math"],["send",["symbol","."],["data",["void"],["symbol","pow"]]]],["data",a$19992,b$19993]];}else{___match_error($19873$19888);}}}}})),accum$19863)),__amp____colon__(((accum$19999=({})),((accum$19999["_"]=(function($20003$20008,scope$20009,form$20010,$20005$20011){var x$20017;var t0$20024;var t1$20025;if((((x$20017=$20003$20008)),((x$20017 instanceof Array)&&(x$20017[0]==="pattern")))){}else{___match_error($20003$20008);}(t0$20024=$20005$20011);if(((t0$20024 instanceof Array)&&(((t1$20025=t0$20024.length)),((t1$20025===1)&&(t0$20024[0]==="void"))))){}else{___match_error($20005$20011);}return ["ignore"];})),accum$19999)),__amp____colon__(((accum$20039=({})),((accum$20039["else"]=(function($20043$20048,scope$20049,form$20050,$20045$20051){var x$20076;var msg$20086;var $20053$20065;var ph$20056;(ph$20056=$20043$20048);$20045$20051;($20053$20065=ph$20056);if((((x$20076=$20053$20065)),((x$20076 instanceof Array)&&(x$20076[0]==="pattern")))){return ["ignore"];}else{$20053$20065;(msg$20086="'else' should be found inside an 'if' block");throw ErrorFactory(["syntax","else"]).create(msg$20086,({"node":form$20050}));}})),accum$20039)),__amp____colon__(((accum$20091=({})),((accum$20091["not"]=(function($20095$20100,scope$20101,form$20102,$20097$20103){var t0$20115;var t1$20116;var t2$20117;var t3$20118;var x$20154;var other$20161;var $20105$20143;var ph$20108;var rhs$20109;var arg$20110;(ph$20108=$20095$20100);(t0$20115=$20097$20103);if(((t0$20115 instanceof Array)&&(((t1$20116=t0$20115.length)),((t1$20116===3)&&((t0$20115[0]==="data")&&(((t2$20117=t0$20115[1])),((t2$20117 instanceof Array)&&(((t3$20118=t2$20117.length)),((t3$20118===1)&&(t2$20117[0]==="void")))))))))){(rhs$20109=t0$20115[2]);(arg$20110=t0$20115);}else{___match_error($20097$20103);}($20105$20143=ph$20108);if((((x$20154=$20105$20143)),((x$20154 instanceof Array)&&(x$20154[0]==="pattern")))){return ["neg",rhs$20109];}else{(other$20161=$20105$20143);return ["send",["variable","not"],arg$20110];}})),accum$20091)),__amp____colon__(((accum$20164=({})),((accum$20164["and"]=(function($20168$20173,scope$20174,form$20175,$20170$20176){var t0$20189;var t1$20190;var x$20216;var other$20223;var $20178$20205;var ph$20181;var lhs$20182;var rhs$20183;var arg$20184;(ph$20181=$20168$20173);(t0$20189=$20170$20176);if(((t0$20189 instanceof Array)&&(((t1$20190=t0$20189.length)),((t1$20190===3)&&(t0$20189[0]==="data"))))){(lhs$20182=t0$20189[1]);(rhs$20183=t0$20189[2]);(arg$20184=t0$20189);}else{___match_error($20170$20176);}($20178$20205=ph$20181);if((((x$20216=$20178$20205)),((x$20216 instanceof Array)&&(x$20216[0]==="pattern")))){return ["all",lhs$20182,rhs$20183];}else{(other$20223=$20178$20205);return ["send",["variable","and"],arg$20184];}})),accum$20164)),__amp____colon__(((accum$20226=({})),((accum$20226["or"]=(function($20230$20235,scope$20236,form$20237,$20232$20238){var t0$20251;var t1$20252;var x$20278;var other$20285;var $20240$20267;var ph$20243;var lhs$20244;var rhs$20245;var arg$20246;(ph$20243=$20230$20235);(t0$20251=$20232$20238);if(((t0$20251 instanceof Array)&&(((t1$20252=t0$20251.length)),((t1$20252===3)&&(t0$20251[0]==="data"))))){(lhs$20244=t0$20251[1]);(rhs$20245=t0$20251[2]);(arg$20246=t0$20251);}else{___match_error($20232$20238);}($20240$20267=ph$20243);if((((x$20278=$20240$20267)),((x$20278 instanceof Array)&&(x$20278[0]==="pattern")))){return ["any",lhs$20244,rhs$20245];}else{(other$20285=$20240$20267);return ["send",["variable","or"],arg$20246];}})),accum$20226)),__amp____colon__(((accum$20288=({})),((accum$20288["when"]=(function(context$20295,scope$20296,form$20297,$20292$20298){var t0$20306;var t1$20307;var other$20340;var t0$20327;var $20300$20322;var ph$20303;var condition$20304;(t0$20306=$20292$20298);if(((t0$20306 instanceof Array)&&(((t1$20307=t0$20306.length)),((t1$20307===3)&&(t0$20306[0]==="data"))))){(ph$20303=t0$20306[1]);(condition$20304=t0$20306[2]);}else{___match_error($20292$20298);}($20300$20322=ph$20303);if((($20300$20322 instanceof Array)&&(((t0$20327=$20300$20322.length)),((t0$20327===1)&&($20300$20322[0]==="void"))))){return ["test",condition$20304,["ignore"]];}else{(other$20340=$20300$20322);return ["test",condition$20304,other$20340];}})),accum$20288)),__amp____colon__(((accum$20343=({})),((accum$20343["."]=(function(context$20350,scope$20351,form$20352,$20347$20353){var t0$20357;var t1$20358;var t2$20359;var t3$20360;var f$20385;var expr$20355;(t0$20357=$20347$20353);if(((t0$20357 instanceof Array)&&(((t1$20358=t0$20357.length)),((t1$20358===3)&&((t0$20357[0]==="data")&&(((t2$20359=t0$20357[1])),((t2$20359 instanceof Array)&&(((t3$20360=t2$20359.length)),((t3$20360===1)&&(t2$20359[0]==="void")))))))))){(expr$20355=t0$20357[2]);}else{___match_error($20347$20353);}(f$20385=(function($20389$20392){var $index$20453;var $length$20447;var temp$20441;var acc$20435;var other$20475;var args$20427;var x$20417;var $20398$20413;var $20399$20414;var t0$20411;var $20394$20406;var ph$20400;(ph$20400=$20389$20392);($20394$20406=ph$20400);if((($20398$20413=($20394$20406 instanceof Array))&&(((t0$20411=$20394$20406.length)),((t0$20411===2)&&($20394$20406[0]==="symbol"))))){(x$20417=$20394$20406[1]);return ["value",x$20417];}else{if(($20398$20413&&((t0$20411>=1)&&($20394$20406[0]==="data")))){(args$20427=Array.prototype.slice.call($20394$20406,1));return ["data"].concat((((acc$20435=[])),(((temp$20441=args$20427)),((($length$20447=temp$20441.length)),((($index$20453=0)),(function(){$20430:for(;($index$20453<$length$20447);($index$20453++)){var arg$20470;var m$20462;(m$20462=temp$20441[$index$20453]);(arg$20470=m$20462);acc$20435.push(f$20385(arg$20470));}})()))),acc$20435));}else{(other$20475=$20394$20406);throw ErrorFactory(["syntax","dot"]).create("Argument to '.' must be a symbol or an array",({"argument":other$20475}));}}}));return f$20385(expr$20355);})),accum$20343)),__amp____colon__(((accum$20479=({})),((accum$20479["="]=(function(context$20484,scope$20485,form$20486,expr$20487){var x$20507;var t0$20517;var t1$20518;var lhs$20514;var rhs$20515;var lhs$20590;var rhs$20591;var s$20574;var rhs$20575;var $20544$20559;var $20545$20560;var $20546$20561;var $20547$20562;var t0$20555;var t1$20556;var t2$20557;var $20540$20550;var t0$20605;var t1$20606;var lhs$20602;var rhs$20603;var other$20598;var t0$20500;var $20489$20495;($20489$20495=context$20484);if((((x$20507=$20489$20495)),((x$20507 instanceof Array)&&(x$20507[0]==="pattern")))){(t0$20517=expr$20487);if(((t0$20517 instanceof Array)&&(((t1$20518=t0$20517.length)),((t1$20518===3)&&(t0$20517[0]==="data"))))){(lhs$20514=t0$20517[1]);(rhs$20515=t0$20517[2]);}else{___match_error(expr$20487,"/home/olivier/git/eg/src/stdenv.eg",12020,12024);}return ["default",lhs$20514,rhs$20515];}else{if((($20489$20495 instanceof Array)&&(((t0$20500=$20489$20495.length)),((t0$20500===2)&&(($20489$20495[0]==="expr")&&($20489$20495[1]==="data")))))){($20540$20550=expr$20487);if((($20544$20559=($20540$20550 instanceof Array))&&(((t0$20555=$20540$20550.length)),((t0$20555===1)&&($20540$20550[0]==="void"))))){return ["assoc"];}else{if(($20544$20559&&(($20546$20561=(t0$20555===3))&&(($20547$20562=($20540$20550[0]==="data"))&&(((t1$20556=$20540$20550[1])),((t1$20556 instanceof Array)&&(((t2$20557=t1$20556.length)),((t2$20557===2)&&(t1$20556[0]==="symbol"))))))))){(s$20574=t1$20556[1]);(rhs$20575=$20540$20550[2]);return ["assoc",["value",s$20574],rhs$20575];}else{if($20547$20562){(lhs$20590=$20540$20550[1]);(rhs$20591=$20540$20550[2]);return ["objsplice",["multi",parse_pattern$17801(scope$20485,lhs$20590,__lt____lt____colon__$17793(["use",scope$20485,rhs$20591],rhs$20591),pattern_handlers$17832.build_object)]];}else{___match_error($20540$20550);}}}}else{(other$20598=$20489$20495);(t0$20605=expr$20487);if(((t0$20605 instanceof Array)&&(((t1$20606=t0$20605.length)),((t1$20606===3)&&(t0$20605[0]==="data"))))){(lhs$20602=t0$20605[1]);(rhs$20603=t0$20605[2]);}else{___match_error(expr$20487,"/home/olivier/git/eg/src/stdenv.eg",12595,12599);}return parse_pattern$17801(scope$20485,lhs$20602,__lt____lt____colon__$17793(["use",scope$20485,rhs$20603],rhs$20603),pattern_handlers$17832.declare_variables);}}})),accum$20479)),__amp____colon__(((accum$20620=({})),((accum$20620["=>"]=(function($20624$20631,scope$20632,$20626$20633,$20628$20634){var t0$20648;var t0$20657;var t1$20658;var x$20684;var x$20722;var t0$20732;var t0$20740;var t0$20759;var t0$20767;var k$20750;var rhs$20751;var k$20713;var $20694$20708;var $20695$20709;var $20696$20710;var t0$20704;var bridge$20691$20705;var bridge$20693$20706;var $20689$20699;var x$20782;var t0$20791;var t1$20792;var t2$20793;var stmts$20789;var other$20813;var $20636$20673;var ph$20640;var env$20641;var lhs$20642;var rhs$20643;(ph$20640=$20624$20631);(t0$20648=$20626$20633);if(___hasprop(t0$20648,"env")){(env$20641=t0$20648.env);}else{___match_error($20626$20633);}(t0$20657=$20628$20634);if(((t0$20657 instanceof Array)&&(((t1$20658=t0$20657.length)),((t1$20658===3)&&(t0$20657[0]==="data"))))){(lhs$20642=t0$20657[1]);(rhs$20643=t0$20657[2]);}else{___match_error($20628$20634);}($20636$20673=ph$20640);if((((x$20684=$20636$20673)),((x$20684 instanceof Array)&&(x$20684[0]==="pattern")))){($20689$20699=[lhs$20642,rhs$20643]);if((($20694$20708=($20689$20699 instanceof Array))&&(((t0$20704=$20689$20699.length)),(($20696$20710=(t0$20704===2))&&((((x$20722=$20689$20699[0])),((x$20722 instanceof Array)&&(x$20722[0]==="void")))&&(((bridge$20691$20705=$20689$20699[1])),(((bridge$20691$20705 instanceof Array)&&(((t0$20732=bridge$20691$20705.length)),((t0$20732===2)&&((bridge$20691$20705[0]==="symbol")&&((k$20713=bridge$20691$20705[1]),true)))))||((bridge$20691$20705 instanceof Array)&&(((t0$20740=bridge$20691$20705.length)),((t0$20740===2)&&((bridge$20691$20705[0]==="value")&&((k$20713=bridge$20691$20705[1]),true)))))))))))){return ["assoc",["value",k$20713],__amp__(__lt____lt____colon__$17793(["symbol",k$20713],rhs$20643),({"env":env$20641}))];}else{if(($20696$20710&&(((bridge$20693$20706=$20689$20699[0])),(((bridge$20693$20706 instanceof Array)&&(((t0$20759=bridge$20693$20706.length)),((t0$20759===2)&&((bridge$20693$20706[0]==="symbol")&&((k$20750=bridge$20693$20706[1]),true)))))||((bridge$20693$20706 instanceof Array)&&(((t0$20767=bridge$20693$20706.length)),((t0$20767===2)&&((bridge$20693$20706[0]==="value")&&((k$20750=bridge$20693$20706[1]),true))))))))){(rhs$20751=$20689$20699[1]);return ["assoc",["value",k$20750],rhs$20751];}else{___match_error($20689$20699);}}}else{if((((x$20782=$20636$20673)),((x$20782 instanceof Array)&&(x$20782[0]==="test")))){(t0$20791=getProjector(Body$17797)(rhs$20643));if((t0$20791[0]&&(((t1$20792=t0$20791[1])),(((t2$20793=t1$20792.length)),(t2$20793>=0))))){(stmts$20789=Array.prototype.slice.call(t1$20792,0));}else{___match_error(rhs$20643,"/home/olivier/git/eg/src/stdenv.eg",13168,13171);}return ["blocktest",lhs$20642,stmts$20789];}else{(other$20813=$20636$20673);return ["assoc",lhs$20642,rhs$20643];}}})),accum$20620)),__amp____colon__(((accum$20816=({})),((accum$20816[":="]=(function(context$20823,scope$20824,form$20825,$20820$20826){var t0$20831;var t1$20832;var lhs$20828;var rhs$20829;(t0$20831=$20820$20826);if(((t0$20831 instanceof Array)&&(((t1$20832=t0$20831.length)),((t1$20832===3)&&(t0$20831[0]==="data"))))){(lhs$20828=t0$20831[1]);(rhs$20829=t0$20831[2]);}else{___match_error($20820$20826);}return ["assign",lhs$20828,rhs$20829];})),accum$20816)),__amp____colon__(({"+=":make_assigner$17835("+"),"-=":make_assigner$17835("-"),"*=":make_assigner$17835("*"),"/=":make_assigner$17835("/"),"<<=":make_assigner$17835("<<"),">>=":make_assigner$17835(">>"),">>>=":make_assigner$17835(">>>"),"++=":make_assigner$17835("++"),"?=":make_assigner$17835("match"),"or=":make_assigner$17835("or"),"and=":make_assigner$17835("and"),"each=":make_assigner$17835("each")}),__amp____colon__(((accum$20846=({})),((accum$20846["_lambda"]=(function(context$20853,scope$20854,form$20855,$20850$20856){var t0$20864;var t1$20865;var t2$20866;var t3$20867;var $index$20994;var $length$20988;var temp$20982;var acc$20976;var decls$20961;var newargs$20962;var body2$21128;var a$21122;var other$21118;var fw$20929;var t0$20921;var t1$20922;var t2$20923;var t3$20924;var t4$20925;var $20893$20916;var wrap$20896;var pp$20897;var args$20858;var arg$20859;var pre$20860;var body$20861;var post$20862;(t0$20864=$20850$20856);if(((t0$20864 instanceof Array)&&(((t1$20865=t0$20864.length)),((t1$20865===5)&&((t0$20864[0]==="data")&&(((t2$20866=t0$20864[1])),((t2$20866 instanceof Array)&&(((t3$20867=t2$20866.length)),((t3$20867>=1)&&(t2$20866[0]==="data")))))))))){(args$20858=Array.prototype.slice.call(t2$20866,1));(arg$20859=t2$20866);(pre$20860=t0$20864[2]);(body$20861=t0$20864[3]);(post$20862=t0$20864[4]);}else{___match_error($20850$20856);}(wrap$20896=(function(body2$20902){var body3$20906;(body3$20906=(function(){if(equal(post$20862,["value",null])){return body2$20902;}else{return ["multi",body2$20902,post$20862];}})());if(equal(pre$20860,["value",null])){return body3$20906;}else{return ["multi",pre$20860,body3$20906];}}));(pp$20897=PatternParser$17799(scope$20854,arg$20859,({"indexable":true,"allow_nested":true})));($20893$20916=pp$20897.pattern);if((($20893$20916 instanceof Array)&&(((t0$20921=$20893$20916.length)),((t0$20921===5)&&(($20893$20916[0]==="array_pattern")&&((fw$20929=$20893$20916[1]),(((t1$20922=$20893$20916[2])),((t1$20922 instanceof Array)&&(((t2$20923=t1$20922.length)),((t2$20923===0)&&(((t3$20924=$20893$20916[3])),((t3$20924 instanceof Array)&&(((t4$20925=t3$20924.length)),((t4$20925===0)&&($20893$20916[4]===(void 0)))))))))))))))){(decls$20961=(function(){if(pp$20897.specials.match){return [["declare",["symbol","ph"]]];}else{return [];}})());(newargs$20962=(((acc$20976=[])),(((temp$20982=zip(fw$20929,args$20858))),((($length$20988=temp$20982.length)),((($index$20994=0)),(function(){$20968:for(;($index$20994<$length$20988);($index$20994++)){var newv$21066;var other$21061;var expr$21034;var v$21035;var t0$21027;var t1$21028;var t2$21029;var t3$21030;var arg$21013;var $20971$21014;var t0$21008;var t1$21009;var m$21003;(m$21003=temp$20982[$index$20994]);(t0$21008=m$21003);if(((t0$21008 instanceof Array)&&(((t1$21009=t0$21008.length)),(t1$21009===2)))){($20971$21014=t0$21008[0]);(arg$21013=t0$21008[1]);(t0$21027=$20971$21014);if(((t0$21027 instanceof Array)&&(((t1$21028=t0$21027.length)),((t1$21028===2)&&((t0$21027[0]==="assign")&&(((t2$21029=t0$21027[1])),((expr$21034=t2$21029),((t2$21029 instanceof Array)&&(((t3$21030=t2$21029.length)),((t3$21030===2)&&(t2$21029[0]==="symbol"))))))))))){(v$21035=t2$21029[1]);acc$20976.push(expr$21034);}else{(other$21061=$20971$21014);acc$20976.push((((newv$21066=__amp__(["symbol",scope$20854.gensym("temp")],({"env":stdenv$17813})))),decls$20961.push(parse_pattern$17801(scope$20854,arg$21013,newv$21066,__amp__(pattern_handlers$17832.declare_variables,({"tags":({"declare_mode":"let"}),"special":(function($21071$21074,value$21075){var t0$21083;var t1$21084;var other$21111;var $21077$21099;var ph$21080;var expr$21081;(t0$21083=$21071$21074);if(((t0$21083 instanceof Array)&&(((t1$21084=t0$21083.length)),((t1$21084===2)&&(t0$21083[0]==="special"))))){(ph$21080=t0$21083[1]);(expr$21081=t0$21083);}else{___match_error($21071$21074);}($21077$21099=ph$21080);if(($21077$21099==="match")){return ["assign",["symbol","ph"]];}else{(other$21111=$21077$21099);throw ErrorFactory(["syntax","pattern","special"]).create("Special token cannot be used here",({"special":expr$21081}));}})})))),newv$21066));}}else{___match_error(m$21003,"/home/olivier/git/eg/src/stdenv.eg",14248,15113);}}})()))),acc$20976));return ["lambda",newargs$20962,wrap$20896(["multi"].concat(decls$20961).concat([(function(){if(pp$20897.specials.match){return ["send",["symbol","match"],["data",["symbol","ph"],body$20861]];}else{return body$20861;}})()]))];}else{(other$21118=$20893$20916);(a$21122=__lt____lt____colon__$17793(["symbol","arguments"],arg$20859));(body2$21128=["send",["send",["symbol","match"],["send",["symbol","."],["data",["void"],["symbol","indexable"]]]],["data",a$21122,["send",["symbol","->"],["data",arg$20859,body$20861]]]]);return ["lambda",[],wrap$20896(body2$21128)];}})),accum$20846)),__amp____colon__(((accum$21133=({})),((accum$21133["->"]=(function($21137$21140,scope$21141,form$21142,expr$21143){var x$21167;var t0$21177;var t1$21178;var lhs$21174;var rhs$21175;var other$21220;var args$21209;var body$21210;var t0$21205;var $21195$21200;var other$21193;var $21145$21154;var ph$21148;(ph$21148=$21137$21140);($21145$21154=ph$21148);if(form$21142.name){console.log(form$21142.name);}if((((x$21167=$21145$21154)),((x$21167 instanceof Array)&&(x$21167[0]==="clause")))){(t0$21177=expr$21143);if(((t0$21177 instanceof Array)&&(((t1$21178=t0$21177.length)),((t1$21178===3)&&(t0$21177[0]==="data"))))){(lhs$21174=t0$21177[1]);(rhs$21175=t0$21177[2]);}else{___match_error(expr$21143,"/home/olivier/git/eg/src/stdenv.eg",15612,15616);}return ["clause",lhs$21174,rhs$21175];}else{(other$21193=$21145$21154);($21195$21200=expr$21143);if((($21195$21200 instanceof Array)&&(((t0$21205=$21195$21200.length)),((t0$21205===3)&&($21195$21200[0]==="data"))))){(args$21209=$21195$21200[1]);(body$21210=$21195$21200[2]);return ["send",["symbol","_lambda"],["data",args$21209,["value",null],body$21210,["value",null]]];}else{(other$21220=$21195$21200);throw ErrorFactory(["syntax","lambda"]).create("Bad lambda syntax",({"node":other$21220}));}}})),accum$21133)),__amp____colon__(({"match":accum_flags$17829((function($21223$21226,scope$21227,form$21228,expr$21229,flags$21230){var x$21252;var other$21280;var t0$21267;var $21257$21262;var v$21353;var b$21354;var b$21328;var $21310$21324;var $21311$21325;var t0$21319;var t1$21320;var t2$21321;var t3$21322;var $21307$21314;var v$21429;var b$21430;var b$21404;var $21386$21400;var $21387$21401;var t0$21395;var t1$21396;var t2$21397;var t3$21398;var $21383$21390;var t0$21301;var t1$21302;var accum$21458;var mbody$21453;var opt$21290;var to_match$21291;var value$21292;var body$21293;var other$21284;var $21232$21241;var ph$21235;(ph$21235=$21223$21226);($21232$21241=ph$21235);if((((x$21252=$21232$21241)),((x$21252 instanceof Array)&&(x$21252[0]==="pattern")))){($21257$21262=expr$21229);if((($21257$21262 instanceof Array)&&(((t0$21267=$21257$21262.length)),((t0$21267===1)&&($21257$21262[0]==="void"))))){return ["special","match"];}else{(other$21280=$21257$21262);return ["all",__lt____lt____colon__$17793(other$21280,expr$21229),__lt____lt____colon__$17793(["special","match"],form$21228)];}}else{(other$21284=$21232$21241);(opt$21290=util$17794.mkset(flags$21230));(to_match$21291=__amp__(["symbol",scope$21227.gensym("m")],({"single_assignment":true})));(t0$21301=((($21307$21314=expr$21229)),(function(){if((($21310$21324=($21307$21314 instanceof Array))&&(((t0$21319=$21307$21314.length)),((t0$21319===2)&&(($21307$21314[0]==="data")&&(((t1$21320=getProjector(Body$17797)($21307$21314[1]))),(t1$21320[0]&&(((t2$21321=t1$21320[1])),(((t3$21322=t2$21321.length)),(t3$21322>=0)))))))))){(b$21328=Array.prototype.slice.call(t2$21321,0));return [["value",null],b$21328];}else{if(($21310$21324&&((t0$21319===3)&&(($21307$21314[0]==="data")&&((v$21353=$21307$21314[1]),(((t1$21320=getProjector(Body$17797)($21307$21314[2]))),(t1$21320[0]&&(((t2$21321=t1$21320[1])),(((t3$21322=t2$21321.length)),(t3$21322>=0)))))))))){(b$21354=Array.prototype.slice.call(t2$21321,0));return [v$21353,b$21354];}else{___match_error($21307$21314);}}})()));if(((t0$21301 instanceof Array)&&(((t1$21302=t0$21301.length)),(t1$21302===2)))){(value$21292=t0$21301[0]);(body$21293=t0$21301[1]);}else{___match_error(((($21383$21390=expr$21229)),(function(){if((($21386$21400=($21383$21390 instanceof Array))&&(((t0$21395=$21383$21390.length)),((t0$21395===2)&&(($21383$21390[0]==="data")&&(((t1$21396=getProjector(Body$17797)($21383$21390[1]))),(t1$21396[0]&&(((t2$21397=t1$21396[1])),(((t3$21398=t2$21397.length)),(t3$21398>=0)))))))))){(b$21404=Array.prototype.slice.call(t2$21397,0));return [["value",null],b$21404];}else{if(($21386$21400&&((t0$21395===3)&&(($21383$21390[0]==="data")&&((v$21429=$21383$21390[1]),(((t1$21396=getProjector(Body$17797)($21383$21390[2]))),(t1$21396[0]&&(((t2$21397=t1$21396[1])),(((t3$21398=t2$21397.length)),(t3$21398>=0)))))))))){(b$21430=Array.prototype.slice.call(t2$21397,0));return [v$21429,b$21430];}else{___match_error($21383$21390);}}})()),"/home/olivier/git/eg/src/stdenv.eg",18246,18361);}(mbody$21453=parse_clauses$17802(scope$21227,to_match$21291,body$21293,__amp__(opt$21290,__amp____colon__(((accum$21458=({})),((accum$21458["fallback"]=(function(target$21463){return match_error$17820(target$21463);})),accum$21458)),({"wrap":(function(x$21467){return x$21467;})})))));return ["send",["symbol","let"],["data",["send",["symbol","="],["data",to_match$21291,value$21292]],mbody$21453]];}}))}),__amp____colon__(((accum$21471=({})),((accum$21471["each"]=(function($21475$21482,scope$21483,$21477$21484,$21479$21485){var t0$21505;var t0$21514;var t1$21515;var t2$21516;var t3$21517;var t4$21518;var x$21631;var other$21655;var ends_with_test$21563;var _build_loop$21564;var $21492$21556;var $21493$21557;var $21494$21558;var $21495$21559;var t0$21554;var $21487$21549;var ph$21496;var form$21497;var env$21498;var li$21499;var clauses$21500;(ph$21496=$21475$21482);(t0$21505=$21477$21484);(form$21497=t0$21505);if(___hasprop(t0$21505,"env")){(env$21498=t0$21505.env);}else{___match_error($21477$21484);}(t0$21514=$21479$21485);if(((t0$21514 instanceof Array)&&(((t1$21515=t0$21514.length)),((t1$21515===3)&&((t0$21514[0]==="data")&&((li$21499=t0$21514[1]),(((t2$21516=getProjector(Body$17797)(t0$21514[2]))),(t2$21516[0]&&(((t3$21517=t2$21516[1])),(((t4$21518=t3$21517.length)),(t4$21518>=0))))))))))){(clauses$21500=Array.prototype.slice.call(t3$21517,0));}else{___match_error($21479$21485);}($21487$21549=ph$21496);(ends_with_test$21563=false);(_build_loop$21564=(function(wrap$21572,pre$21573,post$21574){var accum$21579;var accum$21618;return build_loop$17833(scope$21483,env$21498,form$21497,li$21499,clauses$21500,wrap$21572,pre$21573,post$21574,__amp____colon__(((accum$21579=({})),((accum$21579["wrap_pattern"]=(function(x$21584,toplevel$21585){var x$21607;var other$21614;var $21591$21596;(ends_with_test$21563=((($21591$21596=x$21584)),(function(){if((((x$21607=$21591$21596)),((x$21607 instanceof Array)&&(x$21607[0]==="test")))){return toplevel$21585;}else{(other$21614=$21591$21596);return false;}})()));return x$21584;})),accum$21579)),((accum$21618=({})),((accum$21618["fallback"]=(function(target$21623){if(ends_with_test$21563){return ["symbol","false"];}else{return match_error$17820(target$21623);}})),accum$21618))));}));if((((x$21631=$21487$21549)),((x$21631 instanceof Array)&&(x$21631[0]==="test")))){return __amp__(["test_factory",li$21499,clauses$21500],({"env":env$21498}));}else{if((($21492$21556=($21487$21549 instanceof Array))&&(((t0$21554=$21487$21549.length)),(($21494$21558=(t0$21554===2))&&(($21495$21559=($21487$21549[0]==="expr"))&&($21487$21549[1]==="multi")))))){return ["nostep",form$21497];}else{if(($21495$21559&&($21487$21549[1]==="ignore"))){return _build_loop$21564((function(x$21651){return x$21651;}),["splice"],["splice"]);}else{(other$21655=$21487$21549);return _build_loop$21564((function(x$21659){return ["send",["send",["symbol","acc"],["send",["symbol","."],["data",["void"],["symbol","push"]]]],["data",["multi",x$21659]]];}),["send",["symbol","="],["data",["send",["symbol","var"],["symbol","acc"]],["data"]]],["symbol","acc"]);}}}})),accum$21471)),__amp____colon__(((accum$21662=({})),((accum$21662["each?"]=(function($21666$21673,scope$21674,$21668$21675,$21670$21676){var t0$21696;var t0$21705;var t1$21706;var t2$21707;var t3$21708;var t4$21709;var x$21756;var other$21784;var $21683$21747;var $21684$21748;var $21685$21749;var $21686$21750;var t0$21745;var $21678$21740;var ph$21687;var form$21688;var env$21689;var li$21690;var clauses$21691;(ph$21687=$21666$21673);(t0$21696=$21668$21675);(form$21688=t0$21696);if(___hasprop(t0$21696,"env")){(env$21689=t0$21696.env);}else{___match_error($21668$21675);}(t0$21705=$21670$21676);if(((t0$21705 instanceof Array)&&(((t1$21706=t0$21705.length)),((t1$21706===3)&&((t0$21705[0]==="data")&&((li$21690=t0$21705[1]),(((t2$21707=getProjector(Body$17797)(t0$21705[2]))),(t2$21707[0]&&(((t3$21708=t2$21707[1])),(((t4$21709=t3$21708.length)),(t4$21709>=0))))))))))){(clauses$21691=Array.prototype.slice.call(t3$21708,0));}else{___match_error($21670$21676);}($21678$21740=ph$21687);if((((x$21756=$21678$21740)),((x$21756 instanceof Array)&&(x$21756[0]==="test")))){return __amp__(["test_factory",li$21690,clauses$21691],({"env":env$21689}));}else{if((($21683$21747=($21678$21740 instanceof Array))&&(((t0$21745=$21678$21740.length)),(($21685$21749=(t0$21745===2))&&(($21686$21750=($21678$21740[0]==="expr"))&&($21678$21740[1]==="multi")))))){return ["nostep",form$21688];}else{if(($21686$21750&&($21678$21740[1]==="ignore"))){return build_loop$17833(scope$21674,env$21689,form$21688,li$21690,clauses$21691,(function(x$21776){return x$21776;}),["splice"],["splice"],({"fallback":(function(target$21780){return ["symbol","false"];})}));}else{(other$21784=$21678$21740);return build_loop$17833(scope$21674,env$21689,form$21688,li$21690,clauses$21691,(function(x$21788){return ["send",["send",["symbol","acc"],["send",["symbol","."],["data",["void"],["symbol","push"]]]],["data",x$21788]];}),["send",["symbol","="],["data",["send",["symbol","var"],["symbol","acc"]],["data"]]],["symbol","acc"],({"fallback":(function(target$21792){return ["symbol","false"];})}));}}}})),accum$21662)),__amp____colon__(((accum$21795=({})),((accum$21795["try"]=(function($21799$21804,scope$21805,form$21806,$21801$21807){var t0$21823;var t1$21824;var t2$21825;var t3$21826;var t4$21827;var msg$22176;var otherwise$22172;var a$22125;var c$22126;var a$22098;var b$22099;var a$22024;var b$22025;var c$22026;var $21985$22014;var $21986$22015;var $21987$22016;var $21988$22017;var $21989$22018;var $21990$22019;var $21991$22020;var $21992$22021;var t0$22000;var t1$22001;var t2$22002;var t3$22003;var t4$22004;var t5$22005;var t6$22006;var t7$22007;var t8$22008;var t9$22009;var t10$22010;var t11$22011;var t12$22012;var $21980$21995;var msg$22384;var otherwise$22380;var a$22333;var c$22334;var a$22306;var b$22307;var a$22232;var b$22233;var c$22234;var $22193$22222;var $22194$22223;var $22195$22224;var $22196$22225;var $22197$22226;var $22198$22227;var $22199$22228;var $22200$22229;var t0$22208;var t1$22209;var t2$22210;var t3$22211;var t4$22212;var t5$22213;var t6$22214;var t7$22215;var t8$22216;var t9$22217;var t10$22218;var t11$22219;var t12$22220;var $22188$22203;var t0$21974;var t1$21975;var other$22408;var grouped$21871;var stmts$21872;var clauses$21873;var finally$21874;var $21813$21864;var $21814$21865;var $21815$21866;var $21816$21867;var t0$21862;var $21809$21857;var ph$21817;var parts$21818;(ph$21817=$21799$21804);(t0$21823=$21801$21807);if(((t0$21823 instanceof Array)&&(((t1$21824=t0$21823.length)),((t1$21824===2)&&((t0$21823[0]==="data")&&(((t2$21825=getProjector(Body$17797)(t0$21823[1]))),(t2$21825[0]&&(((t3$21826=t2$21825[1])),(((t4$21827=t3$21826.length)),(t4$21827>=0)))))))))){(parts$21818=Array.prototype.slice.call(t3$21826,0));}else{___match_error($21801$21807);}($21809$21857=ph$21817);(grouped$21871=classify_contiguous$17796(parts$21818,(function($21878$21881){var other$21970;var e$21954;var b$21955;var b$21924;var $21887$21913;var $21888$21914;var $21889$21915;var $21890$21916;var $21891$21917;var $21892$21918;var $21893$21919;var $21894$21920;var $21895$21921;var t0$21907;var t1$21908;var t2$21909;var t3$21910;var t4$21911;var $21883$21902;var ph$21896;(ph$21896=$21878$21881);($21883$21902=ph$21896);if((($21887$21913=($21883$21902 instanceof Array))&&(((t0$21907=$21883$21902.length)),(($21889$21915=(t0$21907===3))&&(($21890$21916=($21883$21902[0]==="send"))&&(((t1$21908=$21883$21902[1])),(($21892$21918=(t1$21908 instanceof Array))&&(((t2$21909=t1$21908.length)),(($21894$21920=(t2$21909===2))&&(($21895$21921=(t1$21908[0]==="symbol"))&&((t1$21908[1]==="finally")&&(((t3$21910=$21883$21902[2])),((t3$21910 instanceof Array)&&(((t4$21911=t3$21910.length)),((t4$21911===2)&&(t3$21910[0]==="data")))))))))))))))){(b$21924=t3$21910[1]);return "finally";}else{if(($21895$21921&&((t1$21908[1]==="->")&&(((t3$21910=$21883$21902[2])),((t3$21910 instanceof Array)&&(((t4$21911=t3$21910.length)),((t4$21911===3)&&(t3$21910[0]==="data")))))))){(e$21954=t3$21910[1]);(b$21955=t3$21910[2]);return "clause";}else{(other$21970=$21883$21902);return "stmt";}}})));(t0$21974=((($21980$21995=grouped$21871)),(function(){if((($21985$22014=($21980$21995 instanceof Array))&&(((t0$22000=$21980$21995.length)),((t0$22000===3)&&(((t1$22001=$21980$21995[0])),((t1$22001 instanceof Array)&&(((t2$22002=t1$22001.length)),((t2$22002>=1)&&((t1$22001[0]==="stmt")&&((a$22024=Array.prototype.slice.call(t1$22001,1)),(((t3$22003=$21980$21995[1])),((t3$22003 instanceof Array)&&(((t4$22004=t3$22003.length)),((t4$22004>=1)&&((t3$22003[0]==="clause")&&((b$22025=Array.prototype.slice.call(t3$22003,1)),(((t5$22005=$21980$21995[2])),((t5$22005 instanceof Array)&&(((t6$22006=t5$22005.length)),((t6$22006===2)&&((t5$22005[0]==="finally")&&(((t7$22007=t5$22005[1])),((t7$22007 instanceof Array)&&(((t8$22008=t7$22007.length)),((t8$22008===3)&&((t7$22007[0]==="send")&&(((t9$22009=t7$22007[1])),((t9$22009 instanceof Array)&&(((t10$22010=t9$22009.length)),((t10$22010===2)&&((t9$22009[0]==="symbol")&&((t9$22009[1]==="finally")&&(((t11$22011=t7$22007[2])),((t11$22011 instanceof Array)&&(((t12$22012=t11$22011.length)),((t12$22012===2)&&(t11$22011[0]==="data"))))))))))))))))))))))))))))))))))))){(c$22026=t11$22011[1]);return [a$22024,b$22025,c$22026];}else{if(($21985$22014&&(($21987$22016=(t0$22000===2))&&(((t1$22001=$21980$21995[0])),(($21989$22018=(t1$22001 instanceof Array))&&(((t2$22002=t1$22001.length)),(($21991$22020=(t2$22002>=1))&&(($21992$22021=(t1$22001[0]==="stmt"))&&((a$22098=Array.prototype.slice.call(t1$22001,1)),(((t3$22003=$21980$21995[1])),((t3$22003 instanceof Array)&&(((t4$22004=t3$22003.length)),((t4$22004>=1)&&(t3$22003[0]==="clause")))))))))))))){(b$22099=Array.prototype.slice.call(t3$22003,1));return [a$22098,b$22099,null];}else{if(($21992$22021&&((a$22125=Array.prototype.slice.call(t1$22001,1)),(((t3$22003=$21980$21995[1])),((t3$22003 instanceof Array)&&(((t4$22004=t3$22003.length)),((t4$22004===2)&&((t3$22003[0]==="finally")&&(((t5$22005=t3$22003[1])),((t5$22005 instanceof Array)&&(((t6$22006=t5$22005.length)),((t6$22006===3)&&((t5$22005[0]==="send")&&(((t7$22007=t5$22005[1])),((t7$22007 instanceof Array)&&(((t8$22008=t7$22007.length)),((t8$22008===2)&&((t7$22007[0]==="symbol")&&((t7$22007[1]==="finally")&&(((t9$22009=t5$22005[2])),((t9$22009 instanceof Array)&&(((t10$22010=t9$22009.length)),((t10$22010===2)&&(t9$22009[0]==="data")))))))))))))))))))))))){(c$22126=t9$22009[1]);return [a$22125,[],c$22126];}else{(otherwise$22172=$21980$21995);(msg$22176=["try expects a list of statements","and one or more catch clauses and/or","a finally clause"].join(" "));throw ErrorFactory(["syntax","try"]).create(msg$22176,({"node":form$21806}));}}}})()));if(((t0$21974 instanceof Array)&&(((t1$21975=t0$21974.length)),(t1$21975===3)))){(stmts$21872=t0$21974[0]);(clauses$21873=t0$21974[1]);(finally$21874=t0$21974[2]);}else{___match_error(((($22188$22203=grouped$21871)),(function(){if((($22193$22222=($22188$22203 instanceof Array))&&(((t0$22208=$22188$22203.length)),((t0$22208===3)&&(((t1$22209=$22188$22203[0])),((t1$22209 instanceof Array)&&(((t2$22210=t1$22209.length)),((t2$22210>=1)&&((t1$22209[0]==="stmt")&&((a$22232=Array.prototype.slice.call(t1$22209,1)),(((t3$22211=$22188$22203[1])),((t3$22211 instanceof Array)&&(((t4$22212=t3$22211.length)),((t4$22212>=1)&&((t3$22211[0]==="clause")&&((b$22233=Array.prototype.slice.call(t3$22211,1)),(((t5$22213=$22188$22203[2])),((t5$22213 instanceof Array)&&(((t6$22214=t5$22213.length)),((t6$22214===2)&&((t5$22213[0]==="finally")&&(((t7$22215=t5$22213[1])),((t7$22215 instanceof Array)&&(((t8$22216=t7$22215.length)),((t8$22216===3)&&((t7$22215[0]==="send")&&(((t9$22217=t7$22215[1])),((t9$22217 instanceof Array)&&(((t10$22218=t9$22217.length)),((t10$22218===2)&&((t9$22217[0]==="symbol")&&((t9$22217[1]==="finally")&&(((t11$22219=t7$22215[2])),((t11$22219 instanceof Array)&&(((t12$22220=t11$22219.length)),((t12$22220===2)&&(t11$22219[0]==="data"))))))))))))))))))))))))))))))))))))){(c$22234=t11$22219[1]);return [a$22232,b$22233,c$22234];}else{if(($22193$22222&&(($22195$22224=(t0$22208===2))&&(((t1$22209=$22188$22203[0])),(($22197$22226=(t1$22209 instanceof Array))&&(((t2$22210=t1$22209.length)),(($22199$22228=(t2$22210>=1))&&(($22200$22229=(t1$22209[0]==="stmt"))&&((a$22306=Array.prototype.slice.call(t1$22209,1)),(((t3$22211=$22188$22203[1])),((t3$22211 instanceof Array)&&(((t4$22212=t3$22211.length)),((t4$22212>=1)&&(t3$22211[0]==="clause")))))))))))))){(b$22307=Array.prototype.slice.call(t3$22211,1));return [a$22306,b$22307,null];}else{if(($22200$22229&&((a$22333=Array.prototype.slice.call(t1$22209,1)),(((t3$22211=$22188$22203[1])),((t3$22211 instanceof Array)&&(((t4$22212=t3$22211.length)),((t4$22212===2)&&((t3$22211[0]==="finally")&&(((t5$22213=t3$22211[1])),((t5$22213 instanceof Array)&&(((t6$22214=t5$22213.length)),((t6$22214===3)&&((t5$22213[0]==="send")&&(((t7$22215=t5$22213[1])),((t7$22215 instanceof Array)&&(((t8$22216=t7$22215.length)),((t8$22216===2)&&((t7$22215[0]==="symbol")&&((t7$22215[1]==="finally")&&(((t9$22217=t5$22213[2])),((t9$22217 instanceof Array)&&(((t10$22218=t9$22217.length)),((t10$22218===2)&&(t9$22217[0]==="data")))))))))))))))))))))))){(c$22334=t9$22217[1]);return [a$22333,[],c$22334];}else{(otherwise$22380=$22188$22203);(msg$22384=["try expects a list of statements","and one or more catch clauses and/or","a finally clause"].join(" "));throw ErrorFactory(["syntax","try"]).create(msg$22384,({"node":form$21806}));}}}})()),"/home/olivier/git/eg/src/stdenv.eg",21607,22131);}if((($21813$21864=($21809$21857 instanceof Array))&&(((t0$21862=$21809$21857.length)),(($21815$21866=(t0$21862===2))&&(($21816$21867=($21809$21857[0]==="expr"))&&($21809$21857[1]==="multi")))))){return ["nostep",form$21806];}else{if(($21816$21867&&($21809$21857[1]==="ignore"))){clauses$21873.push(mkstdenv$17814().mark(["send",["symbol","->"],["data",["symbol","e"],["send",["symbol","throw"],["symbol","e"]]]]));return ["js_try",["multi"].concat(stmts$21872),["send",["symbol","->"],["data",["data",["symbol","excv"]],parse_clauses$17802(scope$21805,["symbol","excv"],clauses$21873,({"wrap":(function(x$22404){return x$22404;})}))]],(finally$21874||["void"])];}else{(other$22408=$21809$21857);clauses$21873.push(mkstdenv$17814().mark(["send",["symbol","->"],["data",["symbol","e"],["send",["symbol","throw"],["symbol","e"]]]]));return ["send",["symbol","let"],["data",["send",["symbol","="],["data",["send",["symbol","var"],["symbol","rval"]],["symbol","false"]]],["multi",["js_try",["send",["symbol","="],["data",["send",["symbol","set"],["symbol","rval"]],["multi"].concat(stmts$21872)]],["send",["symbol","->"],["data",["data",["symbol","excv"]],parse_clauses$17802(scope$21805,["symbol","excv"],clauses$21873,({"wrap":(function(x$22413){return ["send",["symbol","="],["data",["send",["symbol","set"],["symbol","rval"]],x$22413]];})}))]],(finally$21874||["void"])],["symbol","rval"]]]];}}})),accum$21795)),__amp____colon__(((accum$22416=({})),((accum$22416["!!"]=(function($22420$22425,scope$22426,form$22427,$22422$22428){var t0$22445;var t1$22446;var t2$22447;var t3$22448;var t4$22449;var other$22511;var $22434$22487;var $22435$22488;var $22436$22489;var $22437$22490;var t0$22485;var $22430$22480;var ph$22438;var expr$22439;var clauses$22440;(ph$22438=$22420$22425);(t0$22445=$22422$22428);if(((t0$22445 instanceof Array)&&(((t1$22446=t0$22445.length)),((t1$22446===3)&&((t0$22445[0]==="data")&&((expr$22439=t0$22445[1]),(((t2$22447=getProjector(Body$17797)(t0$22445[2]))),(t2$22447[0]&&(((t3$22448=t2$22447[1])),(((t4$22449=t3$22448.length)),(t4$22449>=0))))))))))){(clauses$22440=Array.prototype.slice.call(t3$22448,0));}else{___match_error($22422$22428);}($22430$22480=ph$22438);if((($22434$22487=($22430$22480 instanceof Array))&&(((t0$22485=$22430$22480.length)),(($22436$22489=(t0$22485===2))&&(($22437$22490=($22430$22480[0]==="expr"))&&($22430$22480[1]==="multi")))))){return ["nostep",form$22427];}else{if(($22437$22490&&($22430$22480[1]==="ignore"))){clauses$22440.push(mkstdenv$17814().mark(["send",["symbol","->"],["data",["symbol","e"],["send",["symbol","throw"],["symbol","e"]]]]));return ["js_try",expr$22439,["send",["symbol","->"],["data",["data",["symbol","excv"]],parse_clauses$17802(scope$22426,["symbol","excv"],clauses$22440,({"wrap":(function(x$22507){return x$22507;})}))]],["void"]];}else{(other$22511=$22430$22480);clauses$22440.push(mkstdenv$17814().mark(["send",["symbol","->"],["data",["symbol","e"],["send",["symbol","throw"],["symbol","e"]]]]));return ["send",["symbol","let"],["data",["send",["symbol","="],["data",["send",["symbol","var"],["symbol","rval"]],["symbol","false"]]],["multi",["js_try",["send",["symbol","="],["data",["send",["symbol","set"],["symbol","rval"]],expr$22439]],["send",["symbol","->"],["data",["data",["symbol","excv"]],parse_clauses$17802(scope$22426,["symbol","excv"],clauses$22440,({"wrap":(function(x$22516){return ["send",["symbol","="],["data",["send",["symbol","set"],["symbol","rval"]],x$22516]];})}))]],["void"]],["symbol","rval"]]]];}}})),accum$22416)),__amp____colon__(({"@":var_operator$17828(expander$17815.gensym("it"))}),__amp____colon__(((accum$22519=({})),(((t0$22521=getProjector(expr_mac$17822)((function(scope$22530,form$22531,$22527$22532){var t0$22538;var t1$22539;var t2$22540;var t3$22541;var t4$22542;var t5$22543;var it$22581;var construct$22582;var defn$22534;var env$22535;var body$22536;(t0$22538=$22527$22532);if(((t0$22538 instanceof Array)&&(((t1$22539=t0$22538.length)),((t1$22539===3)&&((t0$22538[0]==="data")&&(((t2$22540=t0$22538[1])),((defn$22534=t2$22540),(___hasprop(t2$22540,"env")&&((env$22535=t2$22540.env),(((t3$22541=getProjector(Body$17797)(t0$22538[2]))),(t3$22541[0]&&(((t4$22542=t3$22541[1])),(((t5$22543=t4$22542.length)),(t5$22543>=0)))))))))))))){(body$22536=Array.prototype.slice.call(t4$22542,0));}else{___match_error($22527$22532);}(it$22581=__amp__(["symbol","@"],({"env":env$22535})));(construct$22582=(function($22589$22592){var x$22626;var rest$22627;var x$22616;var $22597$22612;var $22598$22613;var t0$22610;var $22594$22605;var ph$22599;(ph$22599=$22589$22592);($22594$22605=ph$22599);if((($22597$22612=($22594$22605 instanceof Array))&&(((t0$22610=$22594$22605.length)),(t0$22610===1)))){(x$22616=$22594$22605[0]);return x$22616;}else{if(($22597$22612&&(t0$22610>=1))){(x$22626=$22594$22605[0]);(rest$22627=Array.prototype.slice.call($22594$22605,1));return ["send",["symbol","let"],["data",["send",["symbol","="],["data",it$22581,x$22626]],construct$22582(rest$22627)]];}else{___match_error($22594$22605);}}}));return construct$22582([defn$22534].concat(body$22536));})))),(function(){if(t0$22521[0]){(accum$22519["chain"]=t0$22521[1]);return accum$22519;}else{return ___match_error((function(scope$22639,form$22640,$22636$22641){var t0$22647;var t1$22648;var t2$22649;var t3$22650;var t4$22651;var t5$22652;var it$22690;var construct$22691;var defn$22643;var env$22644;var body$22645;(t0$22647=$22636$22641);if(((t0$22647 instanceof Array)&&(((t1$22648=t0$22647.length)),((t1$22648===3)&&((t0$22647[0]==="data")&&(((t2$22649=t0$22647[1])),((defn$22643=t2$22649),(___hasprop(t2$22649,"env")&&((env$22644=t2$22649.env),(((t3$22650=getProjector(Body$17797)(t0$22647[2]))),(t3$22650[0]&&(((t4$22651=t3$22650[1])),(((t5$22652=t4$22651.length)),(t5$22652>=0)))))))))))))){(body$22645=Array.prototype.slice.call(t4$22651,0));}else{___match_error($22636$22641);}(it$22690=__amp__(["symbol","@"],({"env":env$22644})));(construct$22691=(function($22698$22701){var x$22735;var rest$22736;var x$22725;var $22706$22721;var $22707$22722;var t0$22719;var $22703$22714;var ph$22708;(ph$22708=$22698$22701);($22703$22714=ph$22708);if((($22706$22721=($22703$22714 instanceof Array))&&(((t0$22719=$22703$22714.length)),(t0$22719===1)))){(x$22725=$22703$22714[0]);return x$22725;}else{if(($22706$22721&&(t0$22719>=1))){(x$22735=$22703$22714[0]);(rest$22736=Array.prototype.slice.call($22703$22714,1));return ["send",["symbol","let"],["data",["send",["symbol","="],["data",it$22690,x$22735]],construct$22691(rest$22736)]];}else{___match_error($22703$22714);}}}));return construct$22691([defn$22643].concat(body$22645));}));}})())),__amp____colon__(((accum$22743=({})),(((t0$22745=getProjector(expr_mac$17822)((function(scope$22754,form$22755,$22751$22756){var t0$22762;var t1$22763;var t2$22764;var it$22785;var defn$22758;var env$22759;var body$22760;(t0$22762=$22751$22756);if(((t0$22762 instanceof Array)&&(((t1$22763=t0$22762.length)),((t1$22763===3)&&((t0$22762[0]==="data")&&(((t2$22764=t0$22762[1])),((defn$22758=t2$22764),___hasprop(t2$22764,"env")))))))){(env$22759=t2$22764.env);(body$22760=t0$22762[2]);}else{___match_error($22751$22756);}(it$22785=__amp__(["symbol","@"],({"env":env$22759})));return ["send",["symbol","let"],["data",["send",["symbol","="],["data",it$22785,defn$22758]],body$22760]];})))),(function(){if(t0$22745[0]){(accum$22743["using"]=t0$22745[1]);return accum$22743;}else{return ___match_error((function(scope$22795,form$22796,$22792$22797){var t0$22803;var t1$22804;var t2$22805;var it$22826;var defn$22799;var env$22800;var body$22801;(t0$22803=$22792$22797);if(((t0$22803 instanceof Array)&&(((t1$22804=t0$22803.length)),((t1$22804===3)&&((t0$22803[0]==="data")&&(((t2$22805=t0$22803[1])),((defn$22799=t2$22805),___hasprop(t2$22805,"env")))))))){(env$22800=t2$22805.env);(body$22801=t0$22803[2]);}else{___match_error($22792$22797);}(it$22826=__amp__(["symbol","@"],({"env":env$22800})));return ["send",["symbol","let"],["data",["send",["symbol","="],["data",it$22826,defn$22799]],body$22801]];}));}})())),__amp____colon__(((accum$22831=({})),(((t0$22833=getProjector(overridable$17823)((function($22839$22844,scope$22845,form$22846,$22841$22847){var t0$22859;var t1$22860;var x$22886;var x$22896;var t0$22905;var t1$22906;var t2$22907;var stmts$22903;var x$22930;var $22849$22875;var ph$22853;var body$22854;(ph$22853=$22839$22844);(t0$22859=$22841$22847);if(((t0$22859 instanceof Array)&&(((t1$22860=t0$22859.length)),((t1$22860===2)&&(t0$22859[0]==="data"))))){(body$22854=t0$22859[1]);}else{___match_error($22841$22847);}($22849$22875=ph$22853);if((((x$22886=$22849$22875)),((x$22886 instanceof Array)&&(x$22886[0]==="clause")))){return ["block",body$22854];}else{if((((x$22896=$22849$22875)),((x$22896 instanceof Array)&&(x$22896[0]==="test")))){(t0$22905=getProjector(Body$17797)(body$22854));if((t0$22905[0]&&(((t1$22906=t0$22905[1])),(((t2$22907=t1$22906.length)),(t2$22907>=0))))){(stmts$22903=Array.prototype.slice.call(t1$22906,0));}else{___match_error(body$22854,"/home/olivier/git/eg/src/stdenv.eg",24284,24288);}return ["do",["splice"].concat(stmts$22903)];}else{if((((x$22930=$22849$22875)),((x$22930 instanceof Array)&&(x$22930[0]==="expr")))){return ["multi",body$22854];}else{___match_error($22849$22875);}}}})))),(function(){if(t0$22833[0]){(accum$22831["do"]=t0$22833[1]);return accum$22831;}else{return ___match_error((function($22940$22945,scope$22946,form$22947,$22942$22948){var t0$22960;var t1$22961;var x$22987;var x$22997;var t0$23006;var t1$23007;var t2$23008;var stmts$23004;var x$23031;var $22950$22976;var ph$22954;var body$22955;(ph$22954=$22940$22945);(t0$22960=$22942$22948);if(((t0$22960 instanceof Array)&&(((t1$22961=t0$22960.length)),((t1$22961===2)&&(t0$22960[0]==="data"))))){(body$22955=t0$22960[1]);}else{___match_error($22942$22948);}($22950$22976=ph$22954);if((((x$22987=$22950$22976)),((x$22987 instanceof Array)&&(x$22987[0]==="clause")))){return ["block",body$22955];}else{if((((x$22997=$22950$22976)),((x$22997 instanceof Array)&&(x$22997[0]==="test")))){(t0$23006=getProjector(Body$17797)(body$22955));if((t0$23006[0]&&(((t1$23007=t0$23006[1])),(((t2$23008=t1$23007.length)),(t2$23008>=0))))){(stmts$23004=Array.prototype.slice.call(t1$23007,0));}else{___match_error(body$22955,"/home/olivier/git/eg/src/stdenv.eg",24284,24288);}return ["do",["splice"].concat(stmts$23004)];}else{if((((x$23031=$22950$22976)),((x$23031 instanceof Array)&&(x$23031[0]==="expr")))){return ["multi",body$22955];}else{___match_error($22950$22976);}}}}));}})())),__amp____colon__(((accum$23039=({})),((accum$23039["if"]=(function(ctx$23046,scope$23047,form$23048,$23043$23049){var t0$23391;var $23290$23386;var piece_together$23293;var conditions$23294;var body$23285;var s1$23248;var b$23249;var a$23181;var b$23182;var a$23137;var $23059$23132;var $23060$23133;var $23061$23134;var t0$23117;var t1$23118;var t2$23119;var t3$23120;var t4$23121;var t5$23122;var t6$23123;var t7$23124;var t8$23125;var t9$23126;var t10$23127;var t11$23128;var t12$23129;var t13$23130;var test$23096;var $23054$23097;var test$23084;var a$23085;var b$23086;var $23062$23080;var $23063$23081;var t0$23075;var t1$23076;var t2$23077;var t3$23078;var $23051$23070;var ph$23064;(ph$23064=$23043$23049);($23051$23070=ph$23064);if((($23062$23080=($23051$23070 instanceof Array))&&(((t0$23075=$23051$23070.length)),((t0$23075===4)&&($23051$23070[0]==="data"))))){(test$23084=$23051$23070[1]);(a$23085=$23051$23070[2]);(b$23086=$23051$23070[3]);return ["if",test$23084,a$23085,b$23086];}else{if(($23062$23080&&((t0$23075===3)&&(($23051$23070[0]==="data")&&((test$23096=$23051$23070[1]),(((t1$23076=getProjector(["multi"])($23051$23070[2]))),(t1$23076[0]&&(((t2$23077=t1$23076[1])),(((t3$23078=t2$23077.length)),((t3$23078>=1)&&(t2$23077[0]==="multi"))))))))))){($23054$23097=Array.prototype.slice.call(t2$23077,1));(t0$23117=$23054$23097);if((($23060$23133=(t0$23117 instanceof Array))&&(((t1$23118=t0$23117.length)),((t1$23118===1)&&(((t2$23119=t0$23117[0])),((t2$23119 instanceof Array)&&(((t3$23120=t2$23119.length)),((t3$23120===3)&&((t2$23119[0]==="send")&&(((t4$23121=t2$23119[1])),((t4$23121 instanceof Array)&&(((t5$23122=t4$23121.length)),((t5$23122===2)&&((t4$23121[0]==="symbol")&&((t4$23121[1]==="then")&&(((t6$23123=t2$23119[2])),((t6$23123 instanceof Array)&&(((t7$23124=t6$23123.length)),((t7$23124===2)&&(t6$23123[0]==="data")))))))))))))))))))){(a$23137=t6$23123[1]);return ["if",test$23096,a$23137,["value",(void 0)]];}else{if(($23060$23133&&((t1$23118===2)&&(((t2$23119=t0$23117[0])),((t2$23119 instanceof Array)&&(((t3$23120=t2$23119.length)),((t3$23120===3)&&((t2$23119[0]==="send")&&(((t4$23121=t2$23119[1])),((t4$23121 instanceof Array)&&(((t5$23122=t4$23121.length)),((t5$23122===2)&&((t4$23121[0]==="symbol")&&((t4$23121[1]==="then")&&(((t6$23123=t2$23119[2])),((t6$23123 instanceof Array)&&(((t7$23124=t6$23123.length)),((t7$23124===2)&&((t6$23123[0]==="data")&&((a$23181=t6$23123[1]),(((t8$23125=t0$23117[1])),((t8$23125 instanceof Array)&&(((t9$23126=t8$23125.length)),((t9$23126===3)&&((t8$23125[0]==="send")&&(((t10$23127=t8$23125[1])),((t10$23127 instanceof Array)&&(((t11$23128=t10$23127.length)),((t11$23128===2)&&((t10$23127[0]==="symbol")&&((t10$23127[1]==="else")&&(((t12$23129=t8$23125[2])),((t12$23129 instanceof Array)&&(((t13$23130=t12$23129.length)),((t13$23130===2)&&(t12$23129[0]==="data")))))))))))))))))))))))))))))))))))){(b$23182=t12$23129[1]);return ["if",test$23096,a$23181,b$23182];}else{if(($23060$23133&&((t1$23118>=1)&&((s1$23248=Array.prototype.slice.call(t0$23117,0,-1)),(((t2$23119=t0$23117[(t1$23118-1)])),((t2$23119 instanceof Array)&&(((t3$23120=t2$23119.length)),((t3$23120===3)&&((t2$23119[0]==="send")&&(((t4$23121=t2$23119[1])),((t4$23121 instanceof Array)&&(((t5$23122=t4$23121.length)),((t5$23122===2)&&((t4$23121[0]==="symbol")&&((t4$23121[1]==="else")&&(((t6$23123=t2$23119[2])),((t6$23123 instanceof Array)&&(((t7$23124=t6$23123.length)),((t7$23124===2)&&(t6$23123[0]==="data")))))))))))))))))))){(b$23249=t6$23123[1]);return ["if",test$23096,["multi"].concat(s1$23248),b$23249];}else{(body$23285=$23054$23097);(piece_together$23293=(function(conditions$23299){var $index$23328;var $length$23322;var temp$23316;var rval$23303;(rval$23303=["value",(void 0)]);(temp$23316=conditions$23299.reverse());($length$23322=temp$23316.length);($index$23328=0);$23304:for(;($index$23328<$length$23322);($index$23328++)){var test$23372;var bod$23347;var $23307$23348;var t0$23342;var t1$23343;var m$23337;(m$23337=temp$23316[$index$23328]);(t0$23342=m$23337);if(((t0$23342 instanceof Array)&&(((t1$23343=t0$23342.length)),(t1$23343===2)))){($23307$23348=t0$23342[0]);(bod$23347=t0$23342[1]);if(($23307$23348===null)){(rval$23303=bod$23347);}else{(test$23372=$23307$23348);(rval$23303=["if",test$23372,bod$23347,rval$23303]);}}else{___match_error(m$23337,"/home/olivier/git/eg/src/stdenv.eg",25605,25796);}}return rval$23303;}));(conditions$23294=[[test$23096,["multi"].concat(body$23285)]]);($23290$23386=ctx$23046);if((($23290$23386 instanceof Array)&&(((t0$23391=$23290$23386.length)),((t0$23391===2)&&(($23290$23386[0]==="expr")&&($23290$23386[1]==="multi")))))){return ["restmacro",(function(stmts$23404){$23407:while(stmts$23404.length){var x$23493;var body$23478;var cond$23447;var body$23448;var $23414$23436;var $23415$23437;var $23416$23438;var $23417$23439;var $23418$23440;var $23419$23441;var $23420$23442;var $23421$23443;var $23422$23444;var t0$23430;var t1$23431;var t2$23432;var t3$23433;var t4$23434;var $23410$23425;($23410$23425=stmts$23404.shift());if((($23414$23436=($23410$23425 instanceof Array))&&(((t0$23430=$23410$23425.length)),(($23416$23438=(t0$23430===3))&&(($23417$23439=($23410$23425[0]==="send"))&&(((t1$23431=$23410$23425[1])),(($23419$23441=(t1$23431 instanceof Array))&&(((t2$23432=t1$23431.length)),(($23421$23443=(t2$23432===2))&&(($23422$23444=(t1$23431[0]==="symbol"))&&((t1$23431[1]==="elif")&&(((t3$23433=$23410$23425[2])),((t3$23433 instanceof Array)&&(((t4$23434=t3$23433.length)),((t4$23434===3)&&(t3$23433[0]==="data")))))))))))))))){(cond$23447=t3$23433[1]);(body$23448=t3$23433[2]);conditions$23294.push([cond$23447,body$23448]);}else{if(($23422$23444&&((t1$23431[1]==="else")&&(((t3$23433=$23410$23425[2])),((t3$23433 instanceof Array)&&(((t4$23434=t3$23433.length)),((t4$23434===2)&&(t3$23433[0]==="data")))))))){(body$23478=t3$23433[1]);conditions$23294.push([null,body$23478]);}else{(x$23493=$23410$23425);stmts$23404.unshift(x$23493);break $23407;}}}return [piece_together$23293(conditions$23294)].concat(stmts$23404);})];}else{$23290$23386;return piece_together$23293(conditions$23294);}}}}}else{___match_error($23051$23070);}}})),accum$23039)),__amp____colon__(((accum$23502=({})),(((t0$23504=getProjector(expr_mac$17822)((function(scope$23513,form$23514,$23510$23515){var t0$23524;var t0$23551;var t1$23552;var t2$23553;var t3$23554;var t4$23555;var t5$23556;var t6$23557;var t7$23558;var t8$23559;var t0$23607;var test$23643;var body$23644;var label$23544;var bridge$23519$23539;var t0$23540;var $23517$23534;var ph$23521;var env$23522;(t0$23524=$23510$23515);if(___hasprop(t0$23524,"env")){(env$23522=t0$23524.env);(ph$23521=t0$23524);}else{___match_error($23510$23515);}($23517$23534=ph$23521);(bridge$23519$23539=$23517$23534);if((((bridge$23519$23539 instanceof Array)&&(((t0$23551=bridge$23519$23539.length)),((t0$23551===3)&&((bridge$23519$23539[0]==="send")&&(((t1$23552=bridge$23519$23539[1])),((t1$23552 instanceof Array)&&(((t2$23553=t1$23552.length)),((t2$23553===2)&&((t1$23552[0]==="symbol")&&((t1$23552[1]===".")&&(((t3$23554=bridge$23519$23539[2])),((t3$23554 instanceof Array)&&(((t4$23555=t3$23554.length)),((t4$23555===3)&&((t3$23554[0]==="data")&&(((t5$23556=t3$23554[1])),((t5$23556 instanceof Array)&&(((t6$23557=t5$23556.length)),((t6$23557===1)&&((t5$23556[0]==="void")&&(((t7$23558=t3$23554[2])),((t7$23558 instanceof Array)&&(((t8$23559=t7$23558.length)),((t8$23559===2)&&((t7$23558[0]==="symbol")&&((label$23544=t7$23558[1]),true))))))))))))))))))))))))))||((bridge$23519$23539 instanceof Array)&&(((t0$23607=bridge$23519$23539.length)),((t0$23607===2)&&((bridge$23519$23539[0]==="value")&&((label$23544=bridge$23519$23539[1]),true))))))){return ["macro",(function(context$23619,scope$23620,form$23621,$23616$23622){var t0$23627;var t1$23628;var test$23624;var body$23625;(t0$23627=$23616$23622);if(((t0$23627 instanceof Array)&&(((t1$23628=t0$23627.length)),((t1$23628===3)&&(t0$23627[0]==="data"))))){(test$23624=t0$23627[1]);(body$23625=t0$23627[2]);}else{___match_error($23616$23622);}return setup_label$17825(label$23544,env$23522,["js_while",test$23624,body$23625]);})];}else{if((($23517$23534 instanceof Array)&&(((t0$23540=$23517$23534.length)),((t0$23540===3)&&($23517$23534[0]==="data"))))){(test$23643=$23517$23534[1]);(body$23644=$23517$23534[2]);return setup_label$17825(scope$23513.gensym(),env$23522,["js_while",test$23643,body$23644]);}else{___match_error($23517$23534);}}})))),(function(){if(t0$23504[0]){(accum$23502["while"]=t0$23504[1]);return accum$23502;}else{return ___match_error((function(scope$23660,form$23661,$23657$23662){var t0$23671;var t0$23698;var t1$23699;var t2$23700;var t3$23701;var t4$23702;var t5$23703;var t6$23704;var t7$23705;var t8$23706;var t0$23754;var test$23790;var body$23791;var label$23691;var bridge$23666$23686;var t0$23687;var $23664$23681;var ph$23668;var env$23669;(t0$23671=$23657$23662);if(___hasprop(t0$23671,"env")){(env$23669=t0$23671.env);(ph$23668=t0$23671);}else{___match_error($23657$23662);}($23664$23681=ph$23668);(bridge$23666$23686=$23664$23681);if((((bridge$23666$23686 instanceof Array)&&(((t0$23698=bridge$23666$23686.length)),((t0$23698===3)&&((bridge$23666$23686[0]==="send")&&(((t1$23699=bridge$23666$23686[1])),((t1$23699 instanceof Array)&&(((t2$23700=t1$23699.length)),((t2$23700===2)&&((t1$23699[0]==="symbol")&&((t1$23699[1]===".")&&(((t3$23701=bridge$23666$23686[2])),((t3$23701 instanceof Array)&&(((t4$23702=t3$23701.length)),((t4$23702===3)&&((t3$23701[0]==="data")&&(((t5$23703=t3$23701[1])),((t5$23703 instanceof Array)&&(((t6$23704=t5$23703.length)),((t6$23704===1)&&((t5$23703[0]==="void")&&(((t7$23705=t3$23701[2])),((t7$23705 instanceof Array)&&(((t8$23706=t7$23705.length)),((t8$23706===2)&&((t7$23705[0]==="symbol")&&((label$23691=t7$23705[1]),true))))))))))))))))))))))))))||((bridge$23666$23686 instanceof Array)&&(((t0$23754=bridge$23666$23686.length)),((t0$23754===2)&&((bridge$23666$23686[0]==="value")&&((label$23691=bridge$23666$23686[1]),true))))))){return ["macro",(function(context$23766,scope$23767,form$23768,$23763$23769){var t0$23774;var t1$23775;var test$23771;var body$23772;(t0$23774=$23763$23769);if(((t0$23774 instanceof Array)&&(((t1$23775=t0$23774.length)),((t1$23775===3)&&(t0$23774[0]==="data"))))){(test$23771=t0$23774[1]);(body$23772=t0$23774[2]);}else{___match_error($23763$23769);}return setup_label$17825(label$23691,env$23669,["js_while",test$23771,body$23772]);})];}else{if((($23664$23681 instanceof Array)&&(((t0$23687=$23664$23681.length)),((t0$23687===3)&&($23664$23681[0]==="data"))))){(test$23790=$23664$23681[1]);(body$23791=$23664$23681[2]);return setup_label$17825(scope$23660.gensym(),env$23669,["js_while",test$23790,body$23791]);}else{___match_error($23664$23681);}}}));}})())),__amp____colon__(((accum$23802=({})),((accum$23802["for"]=(function(context$23809,scope$23810,form$23811,$23806$23812){var t0$23821;var t0$23926;var t1$23927;var t2$23928;var t3$23929;var t4$23930;var t5$23931;var t6$23932;var t7$23933;var t8$23934;var t0$23982;var spec$24018;var body$24019;var label$23919;var setup_for$23840;var bridge$23816$23835;var t0$23836;var $23814$23830;var ph$23818;var expr$23819;(t0$23821=$23806$23812);(expr$23819=t0$23821);(ph$23818=t0$23821);($23814$23830=ph$23818);(setup_for$23840=(function(label$23847,env$23848,$23844$23849,body$23850){var a$23890;var b$23891;var a$23878;var b$23879;var c$23880;var $23855$23874;var $23856$23875;var t0$23868;var t1$23869;var t2$23870;var t3$23871;var t4$23872;var $23852$23863;var ph$23857;(ph$23857=$23844$23849);($23852$23863=ph$23857);if((($23855$23874=($23852$23863 instanceof Array))&&(((t0$23868=$23852$23863.length)),((t0$23868===4)&&($23852$23863[0]==="multi"))))){(a$23878=$23852$23863[1]);(b$23879=$23852$23863[2]);(c$23880=$23852$23863[3]);return ["multi",a$23878,setup_label$17825(label$23847,env$23848,["js_for",["multi"],b$23879,c$23880,body$23850])];}else{if(($23855$23874&&((t0$23868===3)&&(($23852$23863[0]==="send")&&(((t1$23869=$23852$23863[1])),((t1$23869 instanceof Array)&&(((t2$23870=t1$23869.length)),((t2$23870===2)&&((t1$23869[0]==="symbol")&&((t1$23869[1]==="in")&&(((t3$23871=$23852$23863[2])),((t3$23871 instanceof Array)&&(((t4$23872=t3$23871.length)),((t4$23872===3)&&(t3$23871[0]==="data"))))))))))))))){(a$23890=t3$23871[1]);(b$23891=t3$23871[2]);return ["multi",["declare",a$23890,["value",null]],setup_label$17825(label$23847,env$23848,["js_for_in",a$23890,b$23891,body$23850])];}else{___match_error($23852$23863);}}}));(bridge$23816$23835=$23814$23830);if((((bridge$23816$23835 instanceof Array)&&(((t0$23926=bridge$23816$23835.length)),((t0$23926===3)&&((bridge$23816$23835[0]==="send")&&(((t1$23927=bridge$23816$23835[1])),((t1$23927 instanceof Array)&&(((t2$23928=t1$23927.length)),((t2$23928===2)&&((t1$23927[0]==="symbol")&&((t1$23927[1]===".")&&(((t3$23929=bridge$23816$23835[2])),((t3$23929 instanceof Array)&&(((t4$23930=t3$23929.length)),((t4$23930===3)&&((t3$23929[0]==="data")&&(((t5$23931=t3$23929[1])),((t5$23931 instanceof Array)&&(((t6$23932=t5$23931.length)),((t6$23932===1)&&((t5$23931[0]==="void")&&(((t7$23933=t3$23929[2])),((t7$23933 instanceof Array)&&(((t8$23934=t7$23933.length)),((t8$23934===2)&&((t7$23933[0]==="symbol")&&((label$23919=t7$23933[1]),true))))))))))))))))))))))))))||((bridge$23816$23835 instanceof Array)&&(((t0$23982=bridge$23816$23835.length)),((t0$23982===2)&&((bridge$23816$23835[0]==="value")&&((label$23919=bridge$23816$23835[1]),true))))))){return ["macro",(function(context$23994,scope$23995,form$23996,$23991$23997){var t0$24002;var t1$24003;var spec$23999;var body$24000;(t0$24002=$23991$23997);if(((t0$24002 instanceof Array)&&(((t1$24003=t0$24002.length)),((t1$24003===3)&&(t0$24002[0]==="data"))))){(spec$23999=t0$24002[1]);(body$24000=t0$24002[2]);}else{___match_error($23991$23997);}return setup_for$23840(label$23919,expr$23819.env,spec$23999,body$24000);})];}else{if((($23814$23830 instanceof Array)&&(((t0$23836=$23814$23830.length)),((t0$23836===3)&&($23814$23830[0]==="data"))))){(spec$24018=$23814$23830[1]);(body$24019=$23814$23830[2]);return setup_for$23840(scope$23810.gensym(),form$23811.env,spec$24018,body$24019);}else{___match_error($23814$23830);}}})),accum$23802)),__amp____colon__(((accum$24030=({})),((accum$24030["var"]=(function($24034$24037,scope$24038,form$24039,argument$24040){var x$24046;if((((x$24046=$24034$24037)),((x$24046 instanceof Array)&&(x$24046[0]==="pattern")))){}else{___match_error($24034$24037);}return ["mode","var",argument$24040];})),accum$24030)),__amp____colon__(((accum$24053=({})),((accum$24053["set"]=(function($24057$24060,scope$24061,form$24062,argument$24063){var x$24069;if((((x$24069=$24057$24060)),((x$24069 instanceof Array)&&(x$24069[0]==="pattern")))){}else{___match_error($24057$24060);}return ["mode","set",argument$24063];})),accum$24053)),__amp____colon__(((accum$24076=({})),((accum$24076["let"]=(function($24080$24083,scope$24084,form$24085,argument$24086){var x$24108;var construct$24159;var bindings$24133;var body$24134;var t0$24126;var t1$24127;var t2$24128;var t3$24129;var $24117$24121;var other$24115;var $24088$24097;var ph$24091;(ph$24091=$24080$24083);($24088$24097=ph$24091);if((((x$24108=$24088$24097)),((x$24108 instanceof Array)&&(x$24108[0]==="pattern")))){return ["mode","let",argument$24086];}else{(other$24115=$24088$24097);($24117$24121=argument$24086);if((($24117$24121 instanceof Array)&&(((t0$24126=$24117$24121.length)),((t0$24126===3)&&(($24117$24121[0]==="data")&&(((t1$24127=getProjector(Body$17797)($24117$24121[1]))),(t1$24127[0]&&(((t2$24128=t1$24127[1])),(((t3$24129=t2$24128.length)),(t3$24129>=0)))))))))){(bindings$24133=Array.prototype.slice.call(t2$24128,0));(body$24134=$24117$24121[2]);(construct$24159=(function($24163$24166){var bind$24205;var val$24206;var xs$24207;var $24171$24192;var $24172$24193;var t0$24184;var t1$24185;var t2$24186;var t3$24187;var t4$24188;var t5$24189;var t6$24190;var $24168$24179;var ph$24173;(ph$24173=$24163$24166);($24168$24179=ph$24173);if((($24171$24192=($24168$24179 instanceof Array))&&(((t0$24184=$24168$24179.length)),(t0$24184===0)))){return body$24134;}else{if(($24171$24192&&((t0$24184>=1)&&(((t1$24185=$24168$24179[0])),((t1$24185 instanceof Array)&&(((t2$24186=t1$24185.length)),((t2$24186===3)&&((t1$24185[0]==="send")&&(((t3$24187=t1$24185[1])),((t3$24187 instanceof Array)&&(((t4$24188=t3$24187.length)),((t4$24188===2)&&((t3$24187[0]==="symbol")&&((t3$24187[1]==="=")&&(((t5$24189=t1$24185[2])),((t5$24189 instanceof Array)&&(((t6$24190=t5$24189.length)),((t6$24190===3)&&(t5$24189[0]==="data"))))))))))))))))))){(bind$24205=t5$24189[1]);(val$24206=t5$24189[2]);(xs$24207=Array.prototype.slice.call($24168$24179,1));return __amp__(["multi",["send",["symbol","="],["data",["send",["symbol","let"],bind$24205],val$24206]],construct$24159(xs$24207)],({"nonrecursive":true}));}else{___match_error($24168$24179);}}}));return construct$24159(bindings$24133);}else{___match_error($24117$24121);}}})),accum$24076)),__amp____colon__(((accum$24246=({})),(((t0$24248=getProjector(expr_mac$17822)((function(scope$24257,form$24258,$24254$24259){var t0$24264;var t1$24265;var t2$24266;var t3$24267;var t4$24268;var $index$24324;var $length$24318;var temp$24312;var acc$24306;var let_bindings$24298;var bindings$24261;var body$24262;(t0$24264=$24254$24259);if(((t0$24264 instanceof Array)&&(((t1$24265=t0$24264.length)),((t1$24265===3)&&((t0$24264[0]==="data")&&(((t2$24266=getProjector(Body$17797)(t0$24264[1]))),(t2$24266[0]&&(((t3$24267=t2$24266[1])),(((t4$24268=t3$24267.length)),(t4$24268>=0)))))))))){(bindings$24261=Array.prototype.slice.call(t3$24267,0));(body$24262=t0$24264[2]);}else{___match_error($24254$24259);}(let_bindings$24298=(((acc$24306=[])),(((temp$24312=bindings$24261)),((($length$24318=temp$24312.length)),((($index$24324=0)),(function(){$24301:for(;($index$24324<$length$24318);($index$24324++)){var b$24347;var v$24348;var t0$24338;var t1$24339;var t2$24340;var t3$24341;var t4$24342;var t5$24343;var m$24333;(m$24333=temp$24312[$index$24324]);(t0$24338=m$24333);if(((t0$24338 instanceof Array)&&(((t1$24339=t0$24338.length)),((t1$24339===3)&&((t0$24338[0]==="send")&&(((t2$24340=t0$24338[1])),((t2$24340 instanceof Array)&&(((t3$24341=t2$24340.length)),((t3$24341===2)&&((t2$24340[0]==="symbol")&&((t2$24340[1]==="=")&&(((t4$24342=t0$24338[2])),((t4$24342 instanceof Array)&&(((t5$24343=t4$24342.length)),((t5$24343===3)&&(t4$24342[0]==="data")))))))))))))))){(b$24347=t4$24342[1]);(v$24348=t4$24342[2]);acc$24306.push(["send",["symbol","="],["data",["send",["symbol","let"],b$24347],v$24348]]);}else{___match_error(m$24333,"/home/olivier/git/eg/src/stdenv.eg",28356,28398);}}})()))),acc$24306));return ["multi"].concat(let_bindings$24298).concat([body$24262]);})))),(function(){if(t0$24248[0]){(accum$24246["letrec"]=t0$24248[1]);return accum$24246;}else{return ___match_error((function(scope$24390,form$24391,$24387$24392){var t0$24397;var t1$24398;var t2$24399;var t3$24400;var t4$24401;var $index$24457;var $length$24451;var temp$24445;var acc$24439;var let_bindings$24431;var bindings$24394;var body$24395;(t0$24397=$24387$24392);if(((t0$24397 instanceof Array)&&(((t1$24398=t0$24397.length)),((t1$24398===3)&&((t0$24397[0]==="data")&&(((t2$24399=getProjector(Body$17797)(t0$24397[1]))),(t2$24399[0]&&(((t3$24400=t2$24399[1])),(((t4$24401=t3$24400.length)),(t4$24401>=0)))))))))){(bindings$24394=Array.prototype.slice.call(t3$24400,0));(body$24395=t0$24397[2]);}else{___match_error($24387$24392);}(let_bindings$24431=(((acc$24439=[])),(((temp$24445=bindings$24394)),((($length$24451=temp$24445.length)),((($index$24457=0)),(function(){$24434:for(;($index$24457<$length$24451);($index$24457++)){var b$24480;var v$24481;var t0$24471;var t1$24472;var t2$24473;var t3$24474;var t4$24475;var t5$24476;var m$24466;(m$24466=temp$24445[$index$24457]);(t0$24471=m$24466);if(((t0$24471 instanceof Array)&&(((t1$24472=t0$24471.length)),((t1$24472===3)&&((t0$24471[0]==="send")&&(((t2$24473=t0$24471[1])),((t2$24473 instanceof Array)&&(((t3$24474=t2$24473.length)),((t3$24474===2)&&((t2$24473[0]==="symbol")&&((t2$24473[1]==="=")&&(((t4$24475=t0$24471[2])),((t4$24475 instanceof Array)&&(((t5$24476=t4$24475.length)),((t5$24476===3)&&(t4$24475[0]==="data")))))))))))))))){(b$24480=t4$24475[1]);(v$24481=t4$24475[2]);acc$24439.push(["send",["symbol","="],["data",["send",["symbol","let"],b$24480],v$24481]]);}else{___match_error(m$24466,"/home/olivier/git/eg/src/stdenv.eg",28356,28398);}}})()))),acc$24439));return ["multi"].concat(let_bindings$24431).concat([body$24395]);}));}})())),__amp____colon__(((accum$24518=({})),((accum$24518["where"]=(function(context$24525,scope$24526,form$24527,$24522$24528){var t0$24533;var t1$24534;var body$24530;var bindings$24531;(t0$24533=$24522$24528);if(((t0$24533 instanceof Array)&&(((t1$24534=t0$24533.length)),((t1$24534===3)&&(t0$24533[0]==="data"))))){(body$24530=t0$24533[1]);(bindings$24531=t0$24533[2]);}else{___match_error($24522$24528);}return ["send",["symbol","letrec"],["data",bindings$24531,body$24530]];})),accum$24518)),__amp____colon__(({"break":break_mac$17826(null),"continue":continue_mac$17827(null)}),__amp____colon__(((accum$24548=({})),(((t0$24550=getProjector(expr_mac$17822)((function(scope$24557,form$24558,arg$24559){return ["js_throw",arg$24559];})))),(function(){if(t0$24550[0]){(accum$24548["throw"]=t0$24550[1]);return accum$24548;}else{return ___match_error((function(scope$24565,form$24566,arg$24567){return ["js_throw",arg$24567];}));}})())),__amp____colon__(((accum$24570=({})),(((t0$24572=getProjector(expr_mac$17822)((function(scope$24579,form$24580,arg$24581){return ["js_return",arg$24581];})))),(function(){if(t0$24572[0]){(accum$24570["return"]=t0$24572[1]);return accum$24570;}else{return ___match_error((function(scope$24587,form$24588,arg$24589){return ["js_return",arg$24589];}));}})())),__amp____colon__(((accum$24592=({})),(((t0$24594=getProjector(expr_mac$17822)((function(scope$24601,form$24602,arg$24603){return ["js_new",arg$24603];})))),(function(){if(t0$24594[0]){(accum$24592["new"]=t0$24594[1]);return accum$24592;}else{return ___match_error((function(scope$24609,form$24610,arg$24611){return ["js_new",arg$24611];}));}})())),__amp____colon__(((accum$24614=({})),((accum$24614["delete"]=(function(context$24621,scope$24622,form$24623,$24618$24624){var t0$24632;var other$24660;var s$24650;var t0$24646;var $24626$24641;var ph$24629;var arg$24630;(t0$24632=$24618$24624);(arg$24630=t0$24632);(ph$24629=t0$24632);($24626$24641=ph$24629);if((($24626$24641 instanceof Array)&&(((t0$24646=$24626$24641.length)),((t0$24646===2)&&($24626$24641[0]==="symbol"))))){(s$24650=$24626$24641[1]);return ["undeclare",arg$24630];}else{(other$24660=$24626$24641);return ["js_delete",other$24660];}})),accum$24614)),__amp____colon__(((accum$24663=({})),((accum$24663["splice"]=(function(context$24670,scope$24671,form$24672,$24667$24673){var t0$24677;var t1$24678;var t2$24679;var t3$24680;var t4$24681;var stmts$24675;(t0$24677=$24667$24673);if(((t0$24677 instanceof Array)&&(((t1$24678=t0$24677.length)),((t1$24678===2)&&((t0$24677[0]==="data")&&(((t2$24679=getProjector(Body$17797)(t0$24677[1]))),(t2$24679[0]&&(((t3$24680=t2$24679[1])),(((t4$24681=t3$24680.length)),(t4$24681>=0)))))))))){(stmts$24675=Array.prototype.slice.call(t3$24680,0));}else{___match_error($24667$24673);}return ["splice"].concat(stmts$24675);})),accum$24663)),__amp____colon__(((accum$24710=({})),((accum$24710["?"]=(function(context$24717,scope$24718,form$24719,$24714$24720){var other$24830;var $24782$24795;var $24783$24796;var $24784$24797;var $24785$24798;var t0$24793;var $24774$24788;var checker$24771;var other$24966;var $24918$24931;var $24919$24932;var $24920$24933;var $24921$24934;var t0$24929;var $24910$24924;var x$24982;var other$25010;var t0$24997;var $24987$24992;var other$25014;var $24904$24971;var checker$24907;var chk$24898;var target$24899;var expr$24750;var $24725$24744;var $24726$24745;var $24727$24746;var $24728$24747;var t0$24740;var t1$24741;var t2$24742;var $24722$24735;var ph$24729;(ph$24729=$24714$24720);($24722$24735=ph$24729);if((($24725$24744=($24722$24735 instanceof Array))&&(((t0$24740=$24722$24735.length)),(($24727$24746=(t0$24740===3))&&(($24728$24747=($24722$24735[0]==="data"))&&((expr$24750=$24722$24735[1]),(((t1$24741=$24722$24735[2])),((t1$24741 instanceof Array)&&(((t2$24742=t1$24741.length)),((t2$24742===1)&&(t1$24741[0]==="void"))))))))))){(checker$24771=((($24774$24788=expr$24750)),(function(){if((($24782$24795=($24774$24788 instanceof Array))&&(((t0$24793=$24774$24788.length)),(($24784$24797=(t0$24793===2))&&(($24785$24798=($24774$24788[0]==="symbol"))&&($24774$24788[1]==="String")))))){return checker_db$17809.String;}else{if(($24785$24798&&($24774$24788[1]==="Number"))){return checker_db$17809.Number;}else{if(($24785$24798&&($24774$24788[1]==="true"))){return checker_db$17809.true;}else{if(($24785$24798&&($24774$24788[1]==="false"))){return checker_db$17809.false;}else{if(($24785$24798&&($24774$24788[1]==="null"))){return checker_db$17809.null;}else{if(($24785$24798&&($24774$24788[1]==="undefined"))){return checker_db$17809.undefined;}else{(other$24830=$24774$24788);return ["send",["symbol","getChecker"],["data",expr$24750]];}}}}}}})()));return ["macro",(function($24834$24837,env$24838,form$24839,expr$24840){var x$24862;var other$24890;var t0$24877;var $24867$24872;var other$24894;var $24842$24851;var ph$24845;(ph$24845=$24834$24837);($24842$24851=ph$24845);if((((x$24862=$24842$24851)),((x$24862 instanceof Array)&&(x$24862[0]==="pattern")))){($24867$24872=expr$24840);if((($24867$24872 instanceof Array)&&(((t0$24877=$24867$24872.length)),((t0$24877===1)&&($24867$24872[0]==="void"))))){return ["check",checker$24771,["ignore"]];}else{(other$24890=$24867$24872);return ["check",checker$24771,expr$24840];}}else{(other$24894=$24842$24851);return ["send",checker$24771,["data",expr$24840]];}})];}else{if($24728$24747){(chk$24898=$24722$24735[1]);(target$24899=$24722$24735[2]);(checker$24907=((($24910$24924=chk$24898)),(function(){if((($24918$24931=($24910$24924 instanceof Array))&&(((t0$24929=$24910$24924.length)),(($24920$24933=(t0$24929===2))&&(($24921$24934=($24910$24924[0]==="symbol"))&&($24910$24924[1]==="String")))))){return checker_db$17809.String;}else{if(($24921$24934&&($24910$24924[1]==="Number"))){return checker_db$17809.Number;}else{if(($24921$24934&&($24910$24924[1]==="true"))){return checker_db$17809.true;}else{if(($24921$24934&&($24910$24924[1]==="false"))){return checker_db$17809.false;}else{if(($24921$24934&&($24910$24924[1]==="null"))){return checker_db$17809.null;}else{if(($24921$24934&&($24910$24924[1]==="undefined"))){return checker_db$17809.undefined;}else{(other$24966=$24910$24924);return ["send",["symbol","getChecker"],["data",chk$24898]];}}}}}}})()));($24904$24971=context$24717);if((((x$24982=$24904$24971)),((x$24982 instanceof Array)&&(x$24982[0]==="pattern")))){($24987$24992=target$24899);if((($24987$24992 instanceof Array)&&(((t0$24997=$24987$24992.length)),((t0$24997===1)&&($24987$24992[0]==="void"))))){return ["check",checker$24907,["ignore"]];}else{(other$25010=$24987$24992);return ["check",checker$24907,target$24899];}}else{(other$25014=$24904$24971);return ["send",checker$24907,["data",target$24899]];}}else{___match_error($24722$24735);}}})),accum$24710)),__amp____colon__(((accum$25019=({})),((accum$25019["!"]=(function(context$25026,scope$25027,form$25028,$25023$25029){var other$25127;var $25087$25100;var $25088$25101;var $25089$25102;var $25090$25103;var t0$25098;var $25083$25093;var projector$25080;var other$25251;var $25211$25224;var $25212$25225;var $25213$25226;var $25214$25227;var t0$25222;var $25207$25217;var x$25267;var other$25295;var t0$25282;var $25272$25277;var other$25299;var $25201$25256;var projector$25204;var prj$25195;var target$25196;var expr$25059;var $25034$25053;var $25035$25054;var $25036$25055;var $25037$25056;var t0$25049;var t1$25050;var t2$25051;var $25031$25044;var ph$25038;(ph$25038=$25023$25029);($25031$25044=ph$25038);if((($25034$25053=($25031$25044 instanceof Array))&&(((t0$25049=$25031$25044.length)),(($25036$25055=(t0$25049===3))&&(($25037$25056=($25031$25044[0]==="data"))&&((expr$25059=$25031$25044[1]),(((t1$25050=$25031$25044[2])),((t1$25050 instanceof Array)&&(((t2$25051=t1$25050.length)),((t2$25051===1)&&(t1$25050[0]==="void"))))))))))){(projector$25080=((($25083$25093=expr$25059)),(function(){if((($25087$25100=($25083$25093 instanceof Array))&&(((t0$25098=$25083$25093.length)),(($25089$25102=(t0$25098===2))&&(($25090$25103=($25083$25093[0]==="symbol"))&&($25083$25093[1]==="String")))))){return mac1$17808((function(x$25115){return ["data",["symbol","true"],["send",["symbol","String"],["data",x$25115]]];}));}else{if(($25090$25103&&($25083$25093[1]==="Number"))){return mac1$17808((function(x$25123){return ["data",["symbol","true"],["send",["symbol","parseFloat"],["data",x$25123]]];}));}else{(other$25127=$25083$25093);return ["send",["symbol","getProjector"],["data",expr$25059]];}}})()));return ["macro",(function($25131$25134,env$25135,form$25136,expr$25137){var x$25159;var other$25187;var t0$25174;var $25164$25169;var other$25191;var $25139$25148;var ph$25142;(ph$25142=$25131$25134);($25139$25148=ph$25142);if((((x$25159=$25139$25148)),((x$25159 instanceof Array)&&(x$25159[0]==="pattern")))){($25164$25169=expr$25137);if((($25164$25169 instanceof Array)&&(((t0$25174=$25164$25169.length)),((t0$25174===1)&&($25164$25169[0]==="void"))))){return ["project",projector$25080,["ignore"]];}else{(other$25187=$25164$25169);return ["project",projector$25080,expr$25137];}}else{(other$25191=$25139$25148);return ["send",["send",projector$25080,["data",expr$25137]],["value",1]];}})];}else{if($25037$25056){(prj$25195=$25031$25044[1]);(target$25196=$25031$25044[2]);(projector$25204=((($25207$25217=prj$25195)),(function(){if((($25211$25224=($25207$25217 instanceof Array))&&(((t0$25222=$25207$25217.length)),(($25213$25226=(t0$25222===2))&&(($25214$25227=($25207$25217[0]==="symbol"))&&($25207$25217[1]==="String")))))){return mac1$17808((function(x$25239){return ["data",["symbol","true"],["send",["symbol","String"],["data",x$25239]]];}));}else{if(($25214$25227&&($25207$25217[1]==="Number"))){return mac1$17808((function(x$25247){return ["data",["symbol","true"],["send",["symbol","parseFloat"],["data",x$25247]]];}));}else{(other$25251=$25207$25217);return ["send",["symbol","getProjector"],["data",prj$25195]];}}})()));($25201$25256=context$25026);if((((x$25267=$25201$25256)),((x$25267 instanceof Array)&&(x$25267[0]==="pattern")))){($25272$25277=target$25196);if((($25272$25277 instanceof Array)&&(((t0$25282=$25272$25277.length)),((t0$25282===1)&&($25272$25277[0]==="void"))))){return ["project",projector$25204,["ignore"]];}else{(other$25295=$25272$25277);return ["project",projector$25204,target$25196];}}else{(other$25299=$25201$25256);return ["send",["send",projector$25204,["data",target$25196]],["value",1]];}}else{___match_error($25031$25044);}}})),accum$25019)),__amp____colon__(((accum$25304=({})),((accum$25304["#"]=(function(context$25311,scope$25312,form$25313,$25308$25314){var t0$25318;var t1$25319;var t2$25320;var t3$25321;var t4$25322;var t5$25323;var f$25363;var tag$25316;(t0$25318=$25308$25314);if(((t0$25318 instanceof Array)&&(((t1$25319=t0$25318.length)),((t1$25319===3)&&((t0$25318[0]==="data")&&(((t2$25320=t0$25318[1])),((t2$25320 instanceof Array)&&(((t3$25321=t2$25320.length)),((t3$25321===1)&&((t2$25320[0]==="void")&&(((t4$25322=t0$25318[2])),((t4$25322 instanceof Array)&&(((t5$25323=t4$25322.length)),((t5$25323===2)&&(t4$25322[0]==="symbol"))))))))))))))){(tag$25316=t4$25322[1]);}else{___match_error($25308$25314);}(tag$25316=["value",tag$25316]);(f$25363=(function($25367$25370,scope$25371,form$25372,expr$25373){var x$25395;var other$25464;var subp$25450;var $25406$25446;var $25407$25447;var t0$25444;var $25402$25439;var checker_mac$25408;var other$25502;var args$25497;var $25473$25484;var $25474$25485;var t0$25482;var $25469$25477;var $25375$25384;var ph$25378;(ph$25378=$25367$25370);($25375$25384=ph$25378);if((((x$25395=$25375$25384)),((x$25395 instanceof Array)&&(x$25395[0]==="pattern")))){(checker_mac$25408=["macro",(function(context$25415,scope$25416,form$25417,$25412$25418){var t0$25422;var t1$25423;var expr$25420;(t0$25422=$25412$25418);if(((t0$25422 instanceof Array)&&(((t1$25423=t0$25422.length)),((t1$25423===2)&&(t0$25422[0]==="data"))))){(expr$25420=t0$25422[1]);}else{___match_error($25412$25418);}return ["send",["symbol","let"],["data",["send",["symbol","="],["data",["symbol","x"],expr$25420]],["send",["symbol","and"],["data",["send",["symbol","instanceof"],["data",["symbol","x"],["symbol","Array"]]],["send",["symbol","==="],["data",["send",["symbol","x"],["value",0]],tag$25316]]]]]];})]);($25402$25439=expr$25373);if((($25406$25446=($25402$25439 instanceof Array))&&(((t0$25444=$25402$25439.length)),((t0$25444>=1)&&($25402$25439[0]==="data"))))){(subp$25450=Array.prototype.slice.call($25402$25439,1));return ["data",tag$25316].concat(subp$25450);}else{if(($25406$25446&&((t0$25444===1)&&($25402$25439[0]==="void")))){return ["check",checker_mac$25408,["ignore"]];}else{(other$25464=$25402$25439);return ["check",checker_mac$25408,expr$25373];}}}else{$25375$25384;($25469$25477=expr$25373);if((($25473$25484=($25469$25477 instanceof Array))&&(((t0$25482=$25469$25477.length)),((t0$25482===1)&&($25469$25477[0]==="void"))))){return ["data",tag$25316];}else{if(($25473$25484&&((t0$25482>=1)&&($25469$25477[0]==="data")))){(args$25497=Array.prototype.slice.call($25469$25477,1));return ["data",tag$25316].concat(args$25497);}else{(other$25502=$25469$25477);return ["send",["data",tag$25316],other$25502];}}}}));return ["macro",f$25363];})),accum$25304)),__amp____colon__(((accum$25506=({})),((accum$25506["require"]=(function(context$25513,scope$25514,form$25515,$25510$25516){var req$25554;var stmts$25555;var topfetch$25556;var produce$25557;var arg$25820;var expr$25541;var $25522$25537;var $25523$25538;var t0$25535;var $25518$25530;var ph$25524;(ph$25524=$25510$25516);($25518$25530=ph$25524);if((($25522$25537=($25518$25530 instanceof Array))&&(((t0$25535=$25518$25530.length)),((t0$25535===2)&&($25518$25530[0]==="data"))))){(expr$25541=$25518$25530[1]);(req$25554=["variable","require"]);(stmts$25555=[]);(topfetch$25556=(function(pkg$25568,v$25569){stmts$25555.push(["send",["symbol","="],["data",v$25569,["send",req$25554,["data",pkg$25568]]]]);return v$25569;}));(produce$25557=(function($25576$25579,fetch$25580){var t0$25602;var t0$25663;var t0$25671;var $index$25698;var $length$25692;var temp$25686;var pkgv$25801;var pkg$25785;var subp$25786;var pkg$25759;var s$25760;var name$25719;var subp$25656;var s$25646;var s$25636;var $25590$25625;var $25591$25626;var $25592$25627;var $25593$25628;var $25594$25629;var $25595$25630;var $25596$25631;var $25597$25632;var $25598$25633;var t0$25616;var t1$25617;var bridge$25586$25618;var t2$25619;var t3$25620;var t4$25621;var t5$25622;var t6$25623;var $25582$25611;var ph$25599;var expr$25600;(t0$25602=$25576$25579);(expr$25600=t0$25602);(ph$25599=t0$25602);($25582$25611=ph$25599);if((($25590$25625=($25582$25611 instanceof Array))&&(((t0$25616=$25582$25611.length)),(($25592$25627=(t0$25616===2))&&($25582$25611[0]==="symbol"))))){(s$25636=$25582$25611[1]);return fetch$25580(["value",s$25636],expr$25600);}else{if(($25592$25627&&(($25582$25611[0]==="value")&&(((t1$25617=$25582$25611[1])),(typeof(t1$25617)==="string"))))){(s$25646=t1$25617);return fetch$25580(expr$25600,["symbol",scope$25514.gensym()]);}else{(bridge$25586$25618=$25582$25611);if((((bridge$25586$25618 instanceof Array)&&(((t0$25663=bridge$25586$25618.length)),((t0$25663>=1)&&((bridge$25586$25618[0]==="multi")&&((subp$25656=Array.prototype.slice.call(bridge$25586$25618,1)),true)))))||((bridge$25586$25618 instanceof Array)&&(((t0$25671=bridge$25586$25618.length)),((t0$25671>=1)&&((bridge$25586$25618[0]==="data")&&((subp$25656=Array.prototype.slice.call(bridge$25586$25618,1)),true))))))){(temp$25686=subp$25656);($length$25692=temp$25686.length);($index$25698=0);$25680:for(;($index$25698<$length$25692);($index$25698++)){var p$25715;var m$25707;(m$25707=temp$25686[$index$25698]);(p$25715=m$25707);produce$25557(p$25715,fetch$25580);}return null;}else{if((($25590$25625=($25582$25611 instanceof Array))&&(((t0$25616=$25582$25611.length)),(($25592$25627=(t0$25616===3))&&(($25593$25628=($25582$25611[0]==="send"))&&(((t1$25617=$25582$25611[1])),(($25595$25630=(t1$25617 instanceof Array))&&(((t2$25619=t1$25617.length)),(($25597$25632=(t2$25619===2))&&(($25598$25633=(t1$25617[0]==="symbol"))&&((t1$25617[1]==="^")&&(((t3$25620=$25582$25611[2])),((t3$25620 instanceof Array)&&(((t4$25621=t3$25620.length)),((t4$25621===3)&&((t3$25620[0]==="data")&&(((t5$25622=t3$25620[1])),((t5$25622 instanceof Array)&&(((t6$25623=t5$25622.length)),((t6$25623===1)&&(t5$25622[0]==="void"))))))))))))))))))))){(name$25719=t3$25620[2]);return fetch$25580(name$25719,["symbol",scope$25514.gensym()]);}else{if(($25598$25633&&((t1$25617[1]==="as")&&(((t3$25620=$25582$25611[2])),((t3$25620 instanceof Array)&&(((t4$25621=t3$25620.length)),((t4$25621===3)&&(t3$25620[0]==="data")))))))){(pkg$25759=t3$25620[1]);(s$25760=t3$25620[2]);return produce$25557(pkg$25759,(function(the_pkg$25777,$25774$25778){$25774$25778;return fetch$25580(the_pkg$25777,s$25760);}));}else{if(($25598$25633&&((t1$25617[1]==="->")&&(((t3$25620=$25582$25611[2])),((t3$25620 instanceof Array)&&(((t4$25621=t3$25620.length)),((t4$25621===3)&&(t3$25620[0]==="data")))))))){(pkg$25785=t3$25620[1]);(subp$25786=t3$25620[2]);(pkgv$25801=produce$25557(pkg$25785,fetch$25580));return produce$25557(subp$25786,(function(pkg$25807,v$25808){stmts$25555.push(["send",["symbol","="],["data",v$25808,["send",pkgv$25801,pkg$25807]]]);return v$25808;}));}else{___match_error($25582$25611);}}}}}}}));produce$25557(expr$25541,topfetch$25556);return ["splice"].concat(stmts$25555);}else{if(($25522$25537&&((t0$25535===1)&&($25518$25530[0]==="void")))){return ["variable","require"];}else{(arg$25820=$25518$25530);return ["send",["variable","require"],arg$25820];}}})),accum$25506)),__amp____colon__(((accum$25823=({})),((accum$25823["provide"]=(function(context$25830,scope$25831,form$25832,$25827$25833){var t0$25837;var t1$25838;var t2$25839;var t3$25840;var t4$25841;var $index$25902;var $length$25896;var temp$25890;var acc$25884;var exp$25871;var expr$25835;(t0$25837=$25827$25833);if(((t0$25837 instanceof Array)&&(((t1$25838=t0$25837.length)),((t1$25838===2)&&((t0$25837[0]==="data")&&(((t2$25839=getProjector(Body$17797)(t0$25837[1]))),(t2$25839[0]&&(((t3$25840=t2$25839[1])),(((t4$25841=t3$25840.length)),(t4$25841>=0)))))))))){(expr$25835=Array.prototype.slice.call(t3$25840,0));}else{___match_error($25827$25833);}(exp$25871=form$25832.env.mark(["symbol","exports"]));return ["sink",["multi"].concat((((acc$25884=[])),(((temp$25890=expr$25835)),((($length$25896=temp$25890.length)),((($index$25902=0)),(function(){$25875:for(;($index$25902<$length$25896);($index$25902++)){var t0$25978;var t0$25986;var other$25997;var s$25943;var name$25944;var s$25927;var name$25928;var $25881$25924;var t0$25916;var t1$25917;var t2$25918;var t3$25919;var t4$25920;var t5$25921;var bridge$25879$25922;var m$25911;(m$25911=temp$25890[$index$25902]);(t0$25916=m$25911);(s$25927=t0$25916);if(((t0$25916 instanceof Array)&&(((t1$25917=t0$25916.length)),((t1$25917===2)&&(t0$25916[0]==="symbol"))))){(name$25928=t0$25916[1]);acc$25884.push(["send",["symbol","="],["data",["send",exp$25871,["value",name$25928]],s$25927]]);}else{if(((t0$25916 instanceof Array)&&(((t1$25917=t0$25916.length)),((t1$25917===3)&&((t0$25916[0]==="send")&&(((t2$25918=t0$25916[1])),((t2$25918 instanceof Array)&&(((t3$25919=t2$25918.length)),((t3$25919===2)&&((t2$25918[0]==="symbol")&&((t2$25918[1]==="as")&&(((t4$25920=t0$25916[2])),((t4$25920 instanceof Array)&&(((t5$25921=t4$25920.length)),((t5$25921===3)&&((t4$25920[0]==="data")&&((s$25943=t4$25920[1]),(((bridge$25879$25922=t4$25920[2])),(((bridge$25879$25922 instanceof Array)&&(((t0$25978=bridge$25879$25922.length)),((t0$25978===2)&&((bridge$25879$25922[0]==="symbol")&&((name$25944=bridge$25879$25922[1]),true)))))||((bridge$25879$25922 instanceof Array)&&(((t0$25986=bridge$25879$25922.length)),((t0$25986===2)&&((bridge$25879$25922[0]==="value")&&((name$25944=bridge$25879$25922[1]),true)))))))))))))))))))))))){acc$25884.push(["send",["symbol","="],["data",["send",exp$25871,["value",name$25944]],s$25943]]);}else{(other$25997=m$25911);acc$25884.push(function(){throw ErrorFactory(["syntax","provide"]).create("Each clause of provide must be 'sym' or 'sym as name'");}());}}}})()))),acc$25884))];})),accum$25823)),__amp____colon__(((accum$26001=({})),((accum$26001["inject"]=(function(context$26008,scope$26009,form$26010,$26005$26011){var t0$26015;var t1$26016;var t2$26017;var t3$26018;var t4$26019;var expr$26013;(t0$26015=$26005$26011);if(((t0$26015 instanceof Array)&&(((t1$26016=t0$26015.length)),((t1$26016===2)&&((t0$26015[0]==="data")&&(((t2$26017=getProjector(Body$17797)(t0$26015[1]))),(t2$26017[0]&&(((t3$26018=t2$26017[1])),(((t4$26019=t3$26018.length)),(t4$26019>=0)))))))))){(expr$26013=Array.prototype.slice.call(t3$26018,0));}else{___match_error($26005$26011);}return ["restmacro",(function(stmts$26049){var exp$26053;(exp$26053=form$26010.env.mark(["symbol","exports"]));return [["multi",["send",["symbol","globals"],["data",["symbol","module"]]],["send",["symbol","="],["data",["send",["send",["symbol","module"],["send",["symbol","."],["data",["void"],["symbol","exports"]]]],["data"].concat(expr$26013)],["multi",["send",["symbol","="],["data",["send",["symbol","var"],exp$26053],["data",["symbol","="]]]],["multi"].concat(stmts$26049),exp$26053]]]]];})];})),accum$26001)),__amp____colon__(((accum$26058=({})),((accum$26058["class"]=(function(context$26065,scope$26066,$26062$26067,expr$26068){var t0$26072;var t0$26749;var t1$26750;var t2$26751;var t0$26769;var name$26742;var name$26716;var super$26717;var t0$26708;var t1$26709;var t2$26710;var t3$26711;var bridge$26087$26712;var stmts$26782;var stmts$26682;var $26084$26683;var $26089$26678;var $26090$26679;var t0$26673;var t1$26674;var t2$26675;var t3$26676;var $26082$26668;var helper$26091;var env$26070;(t0$26072=$26062$26067);if(___hasprop(t0$26072,"env")){(env$26070=t0$26072.env);}else{___match_error($26062$26067);}(helper$26091=(function(name$26096,super$26097,stmts$26098){var $index$26155;var $length$26149;var temp$26143;var acc$26137;var t0$26579;var t1$26580;var t0$26603;var env2$26599;var it$26600;var cls$26601;var name_str$26629;var t0$26625;var $26106$26620;var other$26663;var t0$26650;var $26110$26645;var statics$26113;var ctor$26114;var new_stmts$26115;var ctor_args$26116;var ctor_body$26117;var ctor_expr$26118;var node$26119;(statics$26113=["data",["symbol","="]]);(ctor$26114=[["data"],__amp__(["multi"],({"env":env$26070}))]);(new_stmts$26115=(((acc$26137=[])),(((temp$26143=stmts$26098)),((($length$26149=temp$26143.length)),((($index$26155=0)),(function(){$26128:for(;($index$26155<$length$26149);($index$26155++)){var t0$26240;var t1$26241;var t2$26242;var t3$26243;var t4$26244;var t5$26245;var t6$26246;var t7$26247;var t8$26248;var t0$26297;var t1$26298;var t2$26299;var t3$26300;var t4$26301;var t5$26302;var t6$26303;var t7$26304;var t8$26305;var t9$26306;var t10$26307;var t11$26308;var t12$26309;var accum$26425;var accum$26463;var accum$26471;var accum$26558;var lhs$26386;var rhs$26387;var args$26232;var body$26233;var methods$26182;var t0$26169;var t1$26170;var t2$26171;var t3$26172;var t4$26173;var t5$26174;var t6$26175;var t7$26176;var t8$26177;var bridge$26132$26178;var m$26164;(m$26164=temp$26143[$index$26155]);(t0$26169=m$26164);if(((t0$26169 instanceof Array)&&(((t1$26170=t0$26169.length)),((t1$26170===3)&&((t0$26169[0]==="send")&&(((t2$26171=t0$26169[1])),((t2$26171 instanceof Array)&&(((t3$26172=t2$26171.length)),((t3$26172===2)&&((t2$26171[0]==="symbol")&&((t2$26171[1]==="static")&&(((t4$26173=t0$26169[2])),((t4$26173 instanceof Array)&&(((t5$26174=t4$26173.length)),((t5$26174===2)&&((t4$26173[0]==="data")&&(((t6$26175=getProjector(Body$17797)(t4$26173[1]))),(t6$26175[0]&&(((t7$26176=t6$26175[1])),(((t8$26177=t7$26176.length)),(t8$26177>=0))))))))))))))))))))){(methods$26182=Array.prototype.slice.call(t7$26176,0));acc$26137.push((statics$26113=statics$26113.concat(methods$26182)));}else{(bridge$26132$26178=m$26164);if((((bridge$26132$26178 instanceof Array)&&(((t0$26240=bridge$26132$26178.length)),((t0$26240===3)&&((bridge$26132$26178[0]==="send")&&(((t1$26241=bridge$26132$26178[1])),((t1$26241 instanceof Array)&&(((t2$26242=t1$26241.length)),((t2$26242===2)&&((t1$26241[0]==="symbol")&&((t1$26241[1]==="=")&&(((t3$26243=bridge$26132$26178[2])),((t3$26243 instanceof Array)&&(((t4$26244=t3$26243.length)),((t4$26244===3)&&((t3$26243[0]==="data")&&(((t5$26245=t3$26243[1])),((t5$26245 instanceof Array)&&(((t6$26246=t5$26245.length)),((t6$26246===3)&&((t5$26245[0]==="send")&&(((t7$26247=t5$26245[1])),((t7$26247 instanceof Array)&&(((t8$26248=t7$26247.length)),((t8$26248===2)&&((t7$26247[0]==="symbol")&&((t7$26247[1]==="constructor")&&((args$26232=t5$26245[2]),((body$26233=t3$26243[2]),true))))))))))))))))))))))))))))||((bridge$26132$26178 instanceof Array)&&(((t0$26297=bridge$26132$26178.length)),((t0$26297===3)&&((bridge$26132$26178[0]==="send")&&(((t1$26298=bridge$26132$26178[1])),((t1$26298 instanceof Array)&&(((t2$26299=t1$26298.length)),((t2$26299===2)&&((t1$26298[0]==="symbol")&&((t1$26298[1]==="=")&&(((t3$26300=bridge$26132$26178[2])),((t3$26300 instanceof Array)&&(((t4$26301=t3$26300.length)),((t4$26301===3)&&((t3$26300[0]==="data")&&(((t5$26302=t3$26300[1])),((t5$26302 instanceof Array)&&(((t6$26303=t5$26302.length)),((t6$26303===2)&&((t5$26302[0]==="symbol")&&((t5$26302[1]==="constructor")&&(((t7$26304=t3$26300[2])),((t7$26304 instanceof Array)&&(((t8$26305=t7$26304.length)),((t8$26305===3)&&((t7$26304[0]==="send")&&(((t9$26306=t7$26304[1])),((t9$26306 instanceof Array)&&(((t10$26307=t9$26306.length)),((t10$26307===2)&&((t9$26306[0]==="symbol")&&((t9$26306[1]==="->")&&(((t11$26308=t7$26304[2])),((t11$26308 instanceof Array)&&(((t12$26309=t11$26308.length)),((t12$26309===3)&&((t11$26308[0]==="data")&&((args$26232=t11$26308[1]),((body$26233=t11$26308[2]),true))))))))))))))))))))))))))))))))))))))))){acc$26137.push((((ctor$26114=[args$26232,body$26233])),["splice"]));}else{(t0$26169=m$26164);if(((t0$26169 instanceof Array)&&(((t1$26170=t0$26169.length)),((t1$26170===3)&&((t0$26169[0]==="send")&&(((t2$26171=t0$26169[1])),((t2$26171 instanceof Array)&&(((t3$26172=t2$26171.length)),((t3$26172===2)&&((t2$26171[0]==="symbol")&&((t2$26171[1]==="=")&&(((t4$26173=t0$26169[2])),((t4$26173 instanceof Array)&&(((t5$26174=t4$26173.length)),((t5$26174===3)&&(t4$26173[0]==="data")))))))))))))))){(lhs$26386=t4$26173[1]);(rhs$26387=t4$26173[2]);acc$26137.push(parse_pattern$17801(scope$26066,lhs$26386,rhs$26387,__amp__(pattern_handlers$17832.build_object,__amp____colon__(({"allow_nested":false}),__amp____colon__(((accum$26425=({})),((accum$26425["assign"]=(function($26429$26433,value$26434){var t0$26445;var t0$26453;var bridge$26431$26438;var v$26436;(bridge$26431$26438=$26429$26433);if((((bridge$26431$26438 instanceof Array)&&(((t0$26445=bridge$26431$26438.length)),((t0$26445===2)&&((bridge$26431$26438[0]==="symbol")&&((v$26436=bridge$26431$26438[1]),true)))))||((bridge$26431$26438 instanceof Array)&&(((t0$26453=bridge$26431$26438.length)),((t0$26453===2)&&((bridge$26431$26438[0]==="value")&&((v$26436=bridge$26431$26438[1]),true))))))){}else{___match_error($26429$26433);}return ["do",__lt____lt____colon__$17793(["assign",["send",["send",name$26096,["send",["symbol","."],["data",["void"],["symbol","prototype"]]]],["value",v$26436]],value$26434],v$26436)];})),accum$26425)),__amp____colon__(((accum$26463=({})),((accum$26463["declare"]=(function(vars$26468){return [];})),accum$26463)),__amp____colon__(((accum$26471=({})),((accum$26471["wrap_target"]=(function($26475$26478){var t0$26539;var other_env$26535;var it$26536;var it2$26537;var other$26555;var args$26502;var body$26503;var t0$26494;var t1$26495;var t2$26496;var t3$26497;var t4$26498;var $26480$26489;var ph$26483;(ph$26483=$26475$26478);($26480$26489=ph$26483);if((($26480$26489 instanceof Array)&&(((t0$26494=$26480$26489.length)),((t0$26494===3)&&(($26480$26489[0]==="send")&&(((t1$26495=$26480$26489[1])),((t1$26495 instanceof Array)&&(((t2$26496=t1$26495.length)),((t2$26496===2)&&((t1$26495[0]==="symbol")&&((t1$26495[1]==="->")&&(((t3$26497=$26480$26489[2])),((t3$26497 instanceof Array)&&(((t4$26498=t3$26497.length)),((t4$26498===3)&&(t3$26497[0]==="data")))))))))))))))){(args$26502=t3$26497[1]);(body$26503=t3$26497[2]);(t0$26539=body$26503);if(___hasprop(t0$26539,"env")){(other_env$26535=t0$26539.env);}else{___match_error(body$26503,"/home/olivier/git/eg/src/stdenv.eg",35095,35099);}(it$26536=__amp__(["symbol","@"],({"env":other_env$26535})));(it2$26537=__amp__(["symbol","self"],({"env":other_env$26535})));return ["send",["symbol","_lambda"],["data",args$26502,["send",["symbol","splice"],["data",["multi",["send",["symbol","="],["data",["send",["symbol","let"],it$26536],["symbol","this"]]],["send",["symbol","="],["data",["send",["symbol","let"],it2$26537],["symbol","this"]]]]]],body$26503,["value",null]]];}else{(other$26555=$26480$26489);return other$26555;}})),accum$26471)),((accum$26558=({})),((accum$26558["success"]=(function($26562$26565){$26562$26565;return ["splice"];})),accum$26558)))))))));}else{m$26164;if(false){acc$26137.push(undefined);}else{false;}}}}}})()))),acc$26137));(t0$26579=ctor$26114);if(((t0$26579 instanceof Array)&&(((t1$26580=t0$26579.length)),(t1$26580===2)))){(ctor_args$26116=t0$26579[0]);(ctor_body$26117=t0$26579[1]);}else{___match_error(ctor$26114,"/home/olivier/git/eg/src/stdenv.eg",35663,35667);}(ctor_expr$26118=((((t0$26603=ctor_body$26117)),(function(){if(___hasprop(t0$26603,"env")){(env2$26599=t0$26603.env);}else{return ___match_error(ctor_body$26117,"/home/olivier/git/eg/src/stdenv.eg",35717,35726);}})()),((it$26600=__amp__(["symbol","@"],({"env":env2$26599})))),((cls$26601=["send",["symbol","_lambda"],["data",ctor_args$26116,["send",["symbol","="],["data",it$26600,["send",["symbol","if"],["data",["send",["symbol","not"],["data",["void"],["send",["symbol","?"],["data",name$26096,["symbol","this"]]]]],["send",["send",["symbol","Object"],["send",["symbol","."],["data",["void"],["symbol","create"]]]],["data",["send",name$26096,["send",["symbol","."],["data",["void"],["symbol","prototype"]]]]]],["symbol","this"]]]]],ctor_body$26117,it$26600]])),(function(){if(super$26097){return ["send",["symbol","___extend"],["data",cls$26601,super$26097]];}else{return cls$26601;}})()));($26106$26620=name$26096);if((($26106$26620 instanceof Array)&&(((t0$26625=$26106$26620.length)),((t0$26625===2)&&($26106$26620[0]==="symbol"))))){(name_str$26629=$26106$26620[1]);statics$26113.push(["send",["symbol","="],["data",["value","::name"],["value",name_str$26629]]]);}else{$26106$26620;undefined;}statics$26113.push(["send",["symbol","="],["data",["value","::egclass"],["symbol","true"]]]);(node$26119=["splice",["send",["symbol","="],["data",["send",["symbol","let"],name$26096],ctor_expr$26118]]].concat(new_stmts$26115).concat([["send",["symbol","&:"],["data",name$26096,statics$26113]],name$26096]));($26110$26645=context$26065);if((($26110$26645 instanceof Array)&&(((t0$26650=$26110$26645.length)),((t0$26650===2)&&(($26110$26645[0]==="expr")&&($26110$26645[1]==="multi")))))){return node$26119;}else{(other$26663=$26110$26645);return ["multi",node$26119];}}));($26082$26668=expr$26068);if((($26089$26678=($26082$26668 instanceof Array))&&(((t0$26673=$26082$26668.length)),((t0$26673===3)&&(($26082$26668[0]==="data")&&(($26084$26683=$26082$26668[1]),(((t1$26674=getProjector(Body$17797)($26082$26668[2]))),(t1$26674[0]&&(((t2$26675=t1$26674[1])),(((t3$26676=t2$26675.length)),(t3$26676>=0))))))))))){(stmts$26682=Array.prototype.slice.call(t2$26675,0));(t0$26708=$26084$26683);if(((t0$26708 instanceof Array)&&(((t1$26709=t0$26708.length)),((t1$26709===3)&&((t0$26708[0]==="send")&&((name$26716=t0$26708[1]),(((t2$26710=t0$26708[2])),((t2$26710 instanceof Array)&&(((t3$26711=t2$26710.length)),((t3$26711===2)&&(t2$26710[0]==="data"))))))))))){(super$26717=t2$26710[1]);return helper$26091(name$26716,super$26717,stmts$26682);}else{(bridge$26087$26712=$26084$26683);if((((bridge$26087$26712 instanceof Array)&&(((t0$26749=bridge$26087$26712.length)),((t0$26749===3)&&((bridge$26087$26712[0]==="send")&&((name$26742=bridge$26087$26712[1]),(((t1$26750=bridge$26087$26712[2])),((t1$26750 instanceof Array)&&(((t2$26751=t1$26750.length)),((t2$26751===1)&&(t1$26750[0]==="data"))))))))))||((bridge$26087$26712 instanceof Array)&&(((t0$26769=bridge$26087$26712.length)),((t0$26769===2)&&((bridge$26087$26712[0]==="symbol")&&(bridge$26087$26712[1],((name$26742=bridge$26087$26712),true)))))))){return helper$26091(name$26742,null,stmts$26682);}else{___match_error($26084$26683,"/home/olivier/git/eg/src/stdenv.eg",37085,37090);}}}else{if(($26089$26678&&((t0$26673===2)&&(($26082$26668[0]==="data")&&(((t1$26674=getProjector(Body$17797)($26082$26668[1]))),(t1$26674[0]&&(((t2$26675=t1$26674[1])),(((t3$26676=t2$26675.length)),(t3$26676>=0))))))))){(stmts$26782=Array.prototype.slice.call(t2$26675,0));return helper$26091(["symbol",scope$26066.gensym()],null,stmts$26782);}else{___match_error($26082$26668);}}})),accum$26058)),__amp____colon__(((accum$26803=({})),((accum$26803["%"]=(function(context$26812,scope$26813,$26807$26814,$26809$26815){var t0$26821;var t0$26830;var t1$26831;var $index$27187;var $length$27181;var temp$27175;var xs$27162;var x$27326;var pair$27293;var k$27294;var v$27295;var args$27157;var $27129$27144;var $27130$27145;var t0$27138;var t1$27139;var t2$27140;var t3$27141;var t4$27142;var $27124$27133;var tags$26848;var kv$26849;var parse$26850;var env$26817;var descr$26818;var contents$26819;(t0$26821=$26807$26814);if(___hasprop(t0$26821,"env")){(env$26817=t0$26821.env);}else{___match_error($26807$26814);}(t0$26830=$26809$26815);if(((t0$26830 instanceof Array)&&(((t1$26831=t0$26830.length)),((t1$26831===3)&&(t0$26830[0]==="data"))))){(descr$26818=t0$26830[1]);(contents$26819=t0$26830[2]);}else{___match_error($26809$26815);}(tags$26848=["data"]);(kv$26849=["data",["symbol","="]]);(parse$26850=(function($26860$26863){var t0$26888;var t0$26985;var t0$26993;var t1$26994;var t0$27062;var t0$27070;var $index$27101;var $length$27095;var temp$27089;var acc$27083;var args$27055;var expr$27048;var rest$27049;var expr$27009;var x$26947;var x$26937;var s$26932;var $26876$26912;var $26877$26913;var $26878$26914;var $26879$26915;var $26880$26916;var $26881$26917;var $26882$26918;var $26883$26919;var $26884$26920;var t0$26902;var t1$26903;var t2$26904;var t3$26905;var t4$26906;var t5$26907;var t6$26908;var bridge$26870$26909;var bridge$26875$26910;var $26865$26897;var ph$26885;var whole$26886;(t0$26888=$26860$26863);(whole$26886=t0$26888);(ph$26885=t0$26888);($26865$26897=ph$26885);if((($26876$26912=($26865$26897 instanceof Array))&&(((t0$26902=$26865$26897.length)),((t0$26902===1)&&($26865$26897[0]==="void"))))){return null;}else{if(($26876$26912&&(($26878$26914=(t0$26902===2))&&($26865$26897[0]==="symbol")))){(s$26932=$26865$26897[1]);return tags$26848.push(["value",s$26932]);}else{if(($26878$26914&&(($26865$26897[0]==="value")&&(((t1$26903=[true,String($26865$26897[1])])),t1$26903[0])))){(x$26937=t1$26903[1]);return tags$26848.push(["value",x$26937]);}else{if(($26876$26912&&(($26878$26914=(t0$26902===3))&&(($26879$26915=($26865$26897[0]==="send"))&&(((t1$26903=$26865$26897[1])),(($26881$26917=(t1$26903 instanceof Array))&&(((t2$26904=t1$26903.length)),(($26883$26919=(t2$26904===2))&&(($26884$26920=(t1$26903[0]==="symbol"))&&((t1$26903[1]===".")&&(((t3$26905=$26865$26897[2])),((t3$26905 instanceof Array)&&(((t4$26906=t3$26905.length)),((t4$26906===3)&&((t3$26905[0]==="data")&&(((t5$26907=t3$26905[1])),((t5$26907 instanceof Array)&&(((t6$26908=t5$26907.length)),((t6$26908===1)&&((t5$26907[0]==="void")&&(((bridge$26870$26909=t3$26905[2])),(((bridge$26870$26909 instanceof Array)&&(((t0$26985=bridge$26870$26909.length)),((t0$26985===2)&&((bridge$26870$26909[0]==="symbol")&&((x$26947=bridge$26870$26909[1]),true)))))||((bridge$26870$26909 instanceof Array)&&(((t0$26993=bridge$26870$26909.length)),((t0$26993===2)&&((bridge$26870$26909[0]==="value")&&(((t1$26994=[true,String(bridge$26870$26909[1])])),(t1$26994[0]&&((x$26947=t1$26994[1]),true))))))))))))))))))))))))))))){return tags$26848.push(["value",("."+x$26947)]);}else{if(($26884$26920&&((t1$26903[1]==="^")&&(((t3$26905=$26865$26897[2])),((t3$26905 instanceof Array)&&(((t4$26906=t3$26905.length)),((t4$26906===3)&&((t3$26905[0]==="data")&&(((t5$26907=t3$26905[1])),((t5$26907 instanceof Array)&&(((t6$26908=t5$26907.length)),((t6$26908===1)&&(t5$26907[0]==="void"))))))))))))){(expr$27009=t3$26905[2]);return tags$26848.push(expr$27009);}else{if(($26884$26920&&((t1$26903[1]==="=")&&(((t3$26905=$26865$26897[2])),((t3$26905 instanceof Array)&&(((t4$26906=t3$26905.length)),((t4$26906===3)&&(t3$26905[0]==="data")))))))){t3$26905[1];t3$26905[2];return kv$26849.push(whole$26886);}else{if($26879$26915){(expr$27048=$26865$26897[1]);(rest$27049=$26865$26897[2]);parse$26850(expr$27048);return parse$26850(rest$27049);}else{(bridge$26875$26910=$26865$26897);if((((bridge$26875$26910 instanceof Array)&&(((t0$27062=bridge$26875$26910.length)),((t0$27062>=1)&&((bridge$26875$26910[0]==="multi")&&((args$27055=Array.prototype.slice.call(bridge$26875$26910,1)),true)))))||((bridge$26875$26910 instanceof Array)&&(((t0$27070=bridge$26875$26910.length)),((t0$27070>=1)&&((bridge$26875$26910[0]==="data")&&((args$27055=Array.prototype.slice.call(bridge$26875$26910,1)),true))))))){(acc$27083=[]);(temp$27089=args$27055);($length$27095=temp$27089.length);($index$27101=0);$27078:for(;($index$27101<$length$27095);($index$27101++)){var arg$27118;var m$27110;(m$27110=temp$27089[$index$27101]);(arg$27118=m$27110);acc$27083.push(parse$26850(arg$27118));}return acc$27083;}else{___match_error($26865$26897);}}}}}}}}}));parse$26850(descr$26818);(contents$26819=((($27124$27133=contents$26819)),(function(){if((($27129$27144=($27124$27133 instanceof Array))&&(((t0$27138=$27124$27133.length)),((t0$27138===1)&&($27124$27133[0]==="void"))))){return ["array"];}else{if(($27129$27144&&((t0$27138>=1)&&($27124$27133[0]==="multi")))){(args$27157=Array.prototype.slice.call($27124$27133,1));(xs$27162=[]);(temp$27175=args$27157);($length$27181=temp$27175.length);($index$27187=0);$27163:for(;($index$27187<$length$27181);($index$27187++)){var other$27289;var spl$27249;var pair$27213;var k$27214;var v$27215;var $27168$27210;var t0$27201;var t1$27202;var t2$27203;var t3$27204;var t4$27205;var t5$27206;var t6$27207;var t7$27208;var m$27196;(m$27196=temp$27175[$index$27187]);(t0$27201=m$27196);(pair$27213=t0$27201);if(((t0$27201 instanceof Array)&&(((t1$27202=t0$27201.length)),((t1$27202===3)&&((t0$27201[0]==="send")&&(((t2$27203=t0$27201[1])),((t2$27203 instanceof Array)&&(((t3$27204=t2$27203.length)),((t3$27204===2)&&((t2$27203[0]==="symbol")&&((t2$27203[1]==="=")&&(((t4$27205=t0$27201[2])),((t4$27205 instanceof Array)&&(((t5$27206=t4$27205.length)),((t5$27206===3)&&(t4$27205[0]==="data")))))))))))))))){(k$27214=t4$27205[1]);(v$27215=t4$27205[2]);kv$26849.push(pair$27213);}else{(spl$27249=t0$27201);if(((t0$27201 instanceof Array)&&(((t1$27202=t0$27201.length)),((t1$27202===3)&&((t0$27201[0]==="send")&&(((t2$27203=t0$27201[1])),((t2$27203 instanceof Array)&&(((t3$27204=t2$27203.length)),((t3$27204===2)&&((t2$27203[0]==="symbol")&&((t2$27203[1]==="**")&&(((t4$27205=t0$27201[2])),((t4$27205 instanceof Array)&&(((t5$27206=t4$27205.length)),((t5$27206===3)&&((t4$27205[0]==="data")&&(((t6$27207=t4$27205[1])),((t6$27207 instanceof Array)&&(((t7$27208=t6$27207.length)),((t7$27208===1)&&(t6$27207[0]==="void"))))))))))))))))))))){t4$27205[2];kv$26849.push(spl$27249);}else{(other$27289=m$27196);xs$27162.push(other$27289);}}}return ["array"].concat(xs$27162);}else{(pair$27293=$27124$27133);if((($27124$27133 instanceof Array)&&(((t0$27138=$27124$27133.length)),((t0$27138===3)&&(($27124$27133[0]==="send")&&(((t1$27139=$27124$27133[1])),((t1$27139 instanceof Array)&&(((t2$27140=t1$27139.length)),((t2$27140===2)&&((t1$27139[0]==="symbol")&&((t1$27139[1]==="=")&&(((t3$27141=$27124$27133[2])),((t3$27141 instanceof Array)&&(((t4$27142=t3$27141.length)),((t4$27142===3)&&(t3$27141[0]==="data")))))))))))))))){(k$27294=t3$27141[1]);(v$27295=t3$27141[2]);kv$26849.push(pair$27293);return ["array"];}else{(x$27326=$27124$27133);return x$27326;}}}})()));return ["send",["symbol","Node"],["data",tags$26848,kv$26849,contents$26819]];})),accum$26803)),__amp____colon__(((accum$27329=({})),((accum$27329["globals"]=(function(context$27336,scope$27337,form$27338,$27333$27339){var t0$27343;var t1$27344;var t2$27345;var t3$27346;var t4$27347;var $index$27399;var $length$27393;var temp$27387;var acc$27381;var vars$27341;(t0$27343=$27333$27339);if(((t0$27343 instanceof Array)&&(((t1$27344=t0$27343.length)),((t1$27344===2)&&((t0$27343[0]==="data")&&(((t2$27345=getProjector(Body$17797)(t0$27343[1]))),(t2$27345[0]&&(((t3$27346=t2$27345[1])),(((t4$27347=t3$27346.length)),(t4$27347>=0)))))))))){(vars$27341=Array.prototype.slice.call(t3$27346,0));}else{___match_error($27333$27339);}return ["splice"].concat((((acc$27381=[])),(((temp$27387=vars$27341)),((($length$27393=temp$27387.length)),((($index$27399=0)),(function(){$27376:for(;($index$27399<$length$27393);($index$27399++)){var variable$27418;var s$27419;var t0$27413;var t1$27414;var m$27408;(m$27408=temp$27387[$index$27399]);(t0$27413=m$27408);(variable$27418=t0$27413);if(((t0$27413 instanceof Array)&&(((t1$27414=t0$27413.length)),((t1$27414===2)&&(t0$27413[0]==="symbol"))))){(s$27419=t0$27413[1]);acc$27381.push(["declare_raw",variable$27418,["variable",s$27419]]);}else{___match_error(m$27408,"/home/olivier/git/eg/src/stdenv.eg",39680,39759);}}})()))),acc$27381));})),accum$27329)),((accum$27435=({})),((accum$27435["S"]=(function(context$27440,scope$27441,form$27442,arg$27443){var text$27463;var text$27458;var $27445$27450;return ["value",((($27445$27450=arg$27443.location.text())),(function(){if(getChecker(RegExp("^\\[(.|\\n)*\\]$",""))($27445$27450)){(text$27458=$27445$27450);return text$27458.substring(1,(text$27458.length-1));}else{(text$27463=$27445$27450);return text$27463;}})())];})),accum$27435))))))))))))))))))))))))))))))))))))))))))))))))))))))));($length$27468=temp$19388.length);($index$27474=0);$17846:for(;($index$27474<$length$27468);($index$27474++)){var k$27493;var v$27494;var t0$27488;var t1$27489;var m$27483;(m$27483=temp$19388[$index$27474]);(t0$27488=m$27483);if(((t0$27488 instanceof Array)&&(((t1$27489=t0$27488.length)),(t1$27489===2)))){(k$27493=t0$27488[0]);(v$27494=t0$27488[1]);stdenv$17813.bind(topscope$17817,k$27493,["macro",v$27494]);}else{___match_error(m$27483,"/home/olivier/git/eg/src/stdenv.eg",8771,8836);}}(blocktest_wrap$17836=(function(expr$27512){return ["multi",["send",["symbol","="],["data",["symbol","value"],["send",["symbol","!!"],["data",["multi",["send",["symbol","match"],["data",expr$27512,["multi",["send",["symbol","->"],["data",["send",["symbol","?"],["data",["symbol","true"],["symbol","x"]]],["send",["send",["symbol","#"],["data",["void"],["symbol","success"]]],["data",["symbol","x"]]]]],["send",["symbol","->"],["data",["send",["symbol","?"],["data",["symbol","false"],["symbol","x"]]],["send",["send",["symbol","#"],["data",["void"],["symbol","failure"]]],["data",["symbol","x"]]]]]]]]],["send",["symbol","->"],["data",["symbol","e"],["send",["send",["symbol","#"],["data",["void"],["symbol","error"]]],["data",["symbol","e"]]]]]]]]],["send",["send",["symbol","acc"],["send",["symbol","."],["data",["void"],["symbol","push"]]]],["data",["send",["send",["symbol","#"],["data",["void"],["symbol","test_result"]]],["data",["symbol","label"],["symbol","value"]]]]]];}));(blocktest_mac$17837=(function(scope$27519,tests$27520){var $index$27567;var $length$27561;var temp$27555;var acc$27549;var exptests$27526;var n$27527;var stmts$27528;(exptests$27526=enumerate(scope$27519.step_all(["test"],tests$27520)));(n$27527=exptests$27526.length);(stmts$27528=(((acc$27549=[])),(((temp$27555=exptests$27526)),((($length$27561=temp$27555.length)),((($index$27567=0)),(function(){$27537:for(;($index$27567<$length$27561);($index$27567++)){var wrap$27661;var fall$27662;var lbl$27687;var i$27680;var expr$27681;var i$27638;var elements$27639;var clauses$27640;var env$27641;var i$27619;var more_labels$27620;var more_tests$27621;var i$27592;var stmt$27593;var $27543$27586;var $27544$27587;var $27545$27588;var $27546$27589;var t0$27581;var t1$27582;var t2$27583;var t3$27584;var m$27576;(m$27576=temp$27555[$index$27567]);(t0$27581=m$27576);if((($27544$27587=(t0$27581 instanceof Array))&&(((t1$27582=t0$27581.length)),(($27546$27589=(t1$27582===2))&&((i$27592=t0$27581[0]),(((t2$27583=t0$27581[1])),((t2$27583 instanceof Array)&&(((t3$27584=t2$27583.length)),((t3$27584===2)&&(t2$27583[0]==="do")))))))))){(stmt$27593=t2$27583[1]);acc$27549.push(stmt$27593);}else{if(($27546$27589&&((i$27619=t0$27581[0]),(((t2$27583=t0$27581[1])),((t2$27583 instanceof Array)&&(((t3$27584=t2$27583.length)),((t3$27584===3)&&(t2$27583[0]==="blocktest")))))))){(more_labels$27620=t2$27583[1]);(more_tests$27621=t2$27583[2]);acc$27549.push(["send",["symbol","let"],["data",["send",["symbol","="],["data",["symbol","label"],["send",["send",["symbol","label"],["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",["send",["symbol","!"],["data",["symbol","Array"],more_labels$27620]]]]]],["send",["symbol","="],["data",["send",["symbol","set"],["symbol","acc"]],["send",["send",["symbol","acc"],["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",blocktest_mac$17837(scope$27519,more_tests$27621)]]]]]]);}else{if(($27546$27589&&((i$27638=t0$27581[0]),(((t2$27583=t0$27581[1])),((t2$27583 instanceof Array)&&(((t3$27584=t2$27583.length)),((t3$27584===3)&&((t2$27583[0]==="test_factory")&&((elements$27639=t2$27583[1]),((clauses$27640=t2$27583[2]),___hasprop(t2$27583,"env"))))))))))){(env$27641=t2$27583.env);acc$27549.push((((wrap$27661=(function(expr$27667,index$27668){return ["send",["symbol","let"],["data",["send",["symbol","="],["data",["symbol","label"],["send",["send",["symbol","label"],["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",["data",index$27668]]]]],blocktest_wrap$17836(expr$27667)]];}))),((fall$27662=(function(target$27675){return match_error$17820(target$27675);}))),build_loop$17833(scope$27519,env$27641,["void"],elements$27639,clauses$27640,wrap$27661,["splice"],["splice"],({"fallback":fall$27662}))));}else{if($27546$27589){(i$27680=t0$27581[0]);(expr$27681=t0$27581[1]);acc$27549.push((((lbl$27687=(function(){if((n$27527===1)){return ["data"];}else{return ["data",["value",i$27680]];}})())),["send",["symbol","let"],["data",["send",["symbol","="],["data",["symbol","label"],["send",["send",["symbol","label"],["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",lbl$27687]]]],blocktest_wrap$17836(expr$27681)]]));}else{___match_error(m$27576,"/home/olivier/git/eg/src/stdenv.eg",40283,41092);}}}}}})()))),acc$27549));return ["send",["symbol","let"],["data",["send",["symbol","="],["data",["send",["symbol","var"],["symbol","acc"]],["data"]]],["send",["symbol","!!"],["data",["multi"].concat(stmts$27528).concat([["symbol","acc"]]),["send",["symbol","->"],["data",["symbol","e"],["send",["send",["symbol","acc"],["send",["symbol","."],["data",["void"],["symbol","concat"]]]],["data",["data",["send",["send",["symbol","#"],["data",["void"],["symbol","error"]]],["data",["symbol","label"],["symbol","e"]]]]]]]]]]]];}));stdenv$17813.bind(topscope$17817,"blocktest",["macro",(function(context$27699,scope$27700,form$27701,$27696$27702){var t0$27711;var t1$27712;var labels$27766;var tests$27767;var tests$27741;var $27707$27737;var $27708$27738;var t0$27732;var t1$27733;var t2$27734;var t3$27735;var $27704$27727;var args$27709;(t0$27711=$27696$27702);if(((t0$27711 instanceof Array)&&(((t1$27712=t0$27711.length)),((t1$27712>=1)&&(t0$27711[0]==="data"))))){(args$27709=Array.prototype.slice.call(t0$27711,1));}else{___match_error($27696$27702);}($27704$27727=args$27709);if((($27707$27737=($27704$27727 instanceof Array))&&(((t0$27732=$27704$27727.length)),((t0$27732===1)&&(((t1$27733=getProjector(Body$17797)($27704$27727[0]))),(t1$27733[0]&&(((t2$27734=t1$27733[1])),(((t3$27735=t2$27734.length)),(t3$27735>=0))))))))){(tests$27741=Array.prototype.slice.call(t2$27734,0));return ["multi",["send",["symbol","="],["data",["symbol","label"],["data"]]],blocktest_mac$17837(scope$27700,tests$27741)];}else{if(($27707$27737&&((t0$27732===2)&&((labels$27766=$27704$27727[0]),(((t1$27733=getProjector(Body$17797)($27704$27727[1]))),(t1$27733[0]&&(((t2$27734=t1$27733[1])),(((t3$27735=t2$27734.length)),(t3$27735>=0))))))))){(tests$27767=Array.prototype.slice.call(t2$27734,0));return ["multi",["send",["symbol","="],["data",["symbol","label"],["send",["symbol","!"],["data",["symbol","Array"],labels$27766]]]],blocktest_mac$17837(scope$27700,tests$27767)];}else{___match_error($27704$27727);}}})]);(qqstruct$17838=(function(name$27792,args$27793){return ["data",["value",name$27792]].concat(args$27793);}));(qq$17839=(function($27799$27802){var t0$27826;var $index$27995;var $length$27989;var temp$27983;var acc$27977;var $index$28038;var $length$28032;var temp$28026;var acc$28020;var $index$28087;var $length$28081;var temp$28075;var acc$28069;var name$28060;var args$28061;var ops$27968;var args$27969;var insert$27943;var insert$27918;var insert$27883;var v$27878;var s$27869;var s$27859;var $27814$27848;var $27815$27849;var $27816$27850;var $27817$27851;var $27818$27852;var $27819$27853;var $27820$27854;var $27821$27855;var $27822$27856;var t0$27840;var t1$27841;var t2$27842;var t3$27843;var t4$27844;var t5$27845;var t6$27846;var $27804$27835;var ph$27823;var expr$27824;(t0$27826=$27799$27802);(expr$27824=t0$27826);(ph$27823=t0$27826);($27804$27835=ph$27823);if((($27814$27848=($27804$27835 instanceof Array))&&(((t0$27840=$27804$27835.length)),(($27816$27850=(t0$27840===2))&&($27804$27835[0]==="symbol"))))){(s$27859=$27804$27835[1]);return qqstruct$17838("symbol",[["value",s$27859]]);}else{if(($27816$27850&&($27804$27835[0]==="char"))){(s$27869=$27804$27835[1]);return qqstruct$17838("char",[["value",s$27869]]);}else{if(($27814$27848&&((t0$27840===1)&&($27804$27835[0]==="void")))){return qqstruct$17838("void",[]);}else{if(($27814$27848&&((t0$27840===2)&&($27804$27835[0]==="value")))){(v$27878=$27804$27835[1]);return qqstruct$17838("value",[expr$27824]);}else{if(($27814$27848&&(($27816$27850=(t0$27840===3))&&(($27817$27851=($27804$27835[0]==="send"))&&(((t1$27841=$27804$27835[1])),(($27819$27853=(t1$27841 instanceof Array))&&(((t2$27842=t1$27841.length)),(($27821$27855=(t2$27842===2))&&(($27822$27856=(t1$27841[0]==="symbol"))&&((t1$27841[1]==="^")&&(((t3$27843=$27804$27835[2])),((t3$27843 instanceof Array)&&(((t4$27844=t3$27843.length)),((t4$27844===3)&&((t3$27843[0]==="data")&&(((t5$27845=t3$27843[1])),((t5$27845 instanceof Array)&&(((t6$27846=t5$27845.length)),((t6$27846===1)&&(t5$27845[0]==="void")))))))))))))))))))){(insert$27883=t3$27843[2]);return insert$27883;}else{if(($27822$27856&&((t1$27841[1]==="^=")&&(((t3$27843=$27804$27835[2])),((t3$27843 instanceof Array)&&(((t4$27844=t3$27843.length)),((t4$27844===3)&&((t3$27843[0]==="data")&&(((t5$27845=t3$27843[1])),((t5$27845 instanceof Array)&&(((t6$27846=t5$27845.length)),((t6$27846===1)&&(t5$27845[0]==="void"))))))))))))){(insert$27918=t3$27843[2]);return qqstruct$17838("value",[insert$27918]);}else{if(($27822$27856&&((t1$27841[1]==="^*")&&(((t3$27843=$27804$27835[2])),((t3$27843 instanceof Array)&&(((t4$27844=t3$27843.length)),((t4$27844===3)&&((t3$27843[0]==="data")&&(((t5$27845=t3$27843[1])),((t5$27845 instanceof Array)&&(((t6$27846=t5$27845.length)),((t6$27846===1)&&(t5$27845[0]==="void"))))))))))))){(insert$27943=t3$27843[2]);return ["send",["symbol","*"],["data",["void"],insert$27943]];}else{if(($27814$27848&&((t0$27840>=2)&&($27804$27835[0]==="mismix")))){(ops$27968=$27804$27835[1]);(args$27969=Array.prototype.slice.call($27804$27835,2));return qqstruct$17838("mismix",[["data"].concat((((acc$27977=[])),(((temp$27983=ops$27968)),((($length$27989=temp$27983.length)),((($index$27995=0)),(function(){$27972:for(;($index$27995<$length$27989);($index$27995++)){var op$28012;var m$28004;(m$28004=temp$27983[$index$27995]);(op$28012=m$28004);acc$27977.push(qq$17839(op$28012));}})()))),acc$27977))].concat((((acc$28020=[])),(((temp$28026=args$27969)),((($length$28032=temp$28026.length)),((($index$28038=0)),(function(){$28015:for(;($index$28038<$length$28032);($index$28038++)){var arg$28055;var m$28047;(m$28047=temp$28026[$index$28038]);(arg$28055=m$28047);acc$28020.push(qq$17839(arg$28055));}})()))),acc$28020)));}else{if(($27814$27848&&(t0$27840>=1))){(name$28060=$27804$27835[0]);(args$28061=Array.prototype.slice.call($27804$27835,1));return qqstruct$17838(name$28060,(((acc$28069=[])),(((temp$28075=args$28061)),((($length$28081=temp$28075.length)),((($index$28087=0)),(function(){$28064:for(;($index$28087<$length$28081);($index$28087++)){var arg$28104;var m$28096;(m$28096=temp$28075[$index$28087]);(arg$28104=m$28096);acc$28069.push(qq$17839(arg$28104));}})()))),acc$28069));}else{___match_error($27804$27835);}}}}}}}}}}));stdenv$17813.bind(topscope$17817,"'",["macro",(function(context$28114,scope$28115,form$28116,$28111$28117){var t0$28121;var t1$28122;var t2$28123;var t3$28124;var expr$28119;(t0$28121=$28111$28117);if(((t0$28121 instanceof Array)&&(((t1$28122=t0$28121.length)),((t1$28122===3)&&((t0$28121[0]==="data")&&(((t2$28123=t0$28121[1])),((t2$28123 instanceof Array)&&(((t3$28124=t2$28123.length)),((t3$28124===1)&&(t2$28123[0]==="void")))))))))){(expr$28119=t0$28121[2]);}else{___match_error($28111$28117);}return qq$17839(expr$28119);})]);(RegexBuilder$17840=(function(){var it$0$28153;(it$0$28153=(function(){if((!getChecker(RegexBuilder$17840)(this))){return Object.create(RegexBuilder$17840.prototype);}else{return this;}})());return it$0$28153;}));(RegexBuilder$17840.prototype["wrap"]=(function(x$28165){var it$0$28169;var self$28170;(it$0$28169=this);(self$28170=this);return (("(?:"+x$28165)+")");}));(RegexBuilder$17840.prototype["quote"]=(function(x$28182){var it$0$28186;var self$28187;(it$0$28186=this);(self$28187=this);return x$28182.replace(RegExp("([.?*+\\^$\\[\\]\\(\\)\\{\\}|\\\\])","g"),"\\$1");}));(RegexBuilder$17840.prototype["quote_charset"]=(function(x$28199){var it$0$28203;var self$28204;(it$0$28203=this);(self$28204=this);return x$28199.replace(RegExp("([\\[\\]\\(\\)\\{\\}\\^])","g"),"\\$1");}));(RegexBuilder$17840.prototype["build"]=(function(expr$28216){var t0$28421;var t1$28422;var t0$28442;var t1$28443;var t0$28463;var t1$28464;var t0$28486;var t1$28487;var t0$28501;var t1$28502;var x$28517;var v$28484;var t0$28530;var t1$28531;var t0$28545;var t1$28546;var t2$28547;var t3$28548;var t4$28549;var t5$28550;var t6$28551;var t7$28552;var t8$28553;var t9$28554;var x$28609;var v$28528;var $index$28655;var $length$28649;var temp$28643;var acc$28637;var $index$28715;var $length$28709;var temp$28703;var acc$28697;var other$28737;var args$28677;var args$28617;var a$28388;var b$28389;var $28248$28390;var s$28363;var x$28358;var $28231$28292;var $28259$28281;var $28260$28282;var $28261$28283;var $28262$28284;var $28263$28285;var $28264$28286;var $28265$28287;var $28266$28288;var $28267$28289;var t0$28275;var t1$28276;var t2$28277;var t3$28278;var t4$28279;var $28229$28270;var it$0$28220;var self$28221;(it$0$28220=this);(self$28221=this);($28229$28270=expr$28216);if((($28259$28281=($28229$28270 instanceof Array))&&(((t0$28275=$28229$28270.length)),(($28261$28283=(t0$28275===2))&&($28229$28270[0]==="symbol"))))){($28231$28292=$28229$28270[1]);if(($28231$28292==="any")){return ".";}else{if(($28231$28292==="start")){return "^";}else{if(($28231$28292==="end")){return "$";}else{if(($28231$28292==="alpha")){return "\\a";}else{if(($28231$28292==="digit")){return "\\d";}else{if(($28231$28292==="word")){return "\\w";}else{if(($28231$28292==="space")){return "\\s";}else{if(($28231$28292==="boundary")){return "\\b";}else{if(($28231$28292==="a")){return "\\a";}else{if(($28231$28292==="d")){return "\\d";}else{if(($28231$28292==="w")){return "\\w";}else{if(($28231$28292==="s")){return "\\s";}else{if(($28231$28292==="b")){return "\\b";}else{___match_error($28231$28292,"/home/olivier/git/eg/src/stdenv.eg",42573,42578);}}}}}}}}}}}}}}else{if(($28261$28283&&($28229$28270[0]==="value"))){(x$28358=$28229$28270[1]);return it$0$28220.quote(x$28358);}else{if(($28259$28281&&(($28261$28283=(t0$28275===3))&&(($28262$28284=($28229$28270[0]==="send"))&&(((t1$28276=$28229$28270[1])),(($28264$28286=(t1$28276 instanceof Array))&&(((t2$28277=t1$28276.length)),(($28266$28288=(t2$28277===2))&&(($28267$28289=(t1$28276[0]==="symbol"))&&((t1$28276[1]==="raw")&&(((t3$28278=$28229$28270[2])),((t3$28278 instanceof Array)&&(((t4$28279=t3$28278.length)),((t4$28279===2)&&(t3$28278[0]==="value"))))))))))))))){(s$28363=t3$28278[1]);return s$28363;}else{if(($28267$28289&&(($28248$28390=t1$28276[1]),(((t3$28278=$28229$28270[2])),((t3$28278 instanceof Array)&&(((t4$28279=t3$28278.length)),((t4$28279===3)&&(t3$28278[0]==="data")))))))){(a$28388=t3$28278[1]);(b$28389=t3$28278[2]);if(($28248$28390==="||")){return it$0$28220.wrap(((it$0$28220.build(a$28388)+"|")+it$0$28220.build(b$28389)));}else{if(($28248$28390==="or")){return it$0$28220.wrap(((it$0$28220.build(a$28388)+"|")+it$0$28220.build(b$28389)));}else{if(($28248$28390==="*")){(t0$28421=a$28388);if(((t0$28421 instanceof Array)&&(((t1$28422=t0$28421.length)),((t1$28422===1)&&(t0$28421[0]==="void"))))){}else{___match_error(a$28388,"/home/olivier/git/eg/src/stdenv.eg",43245,43246);}return it$0$28220.wrap((it$0$28220.build(b$28389)+"*"));}else{if(($28248$28390==="+")){(t0$28442=a$28388);if(((t0$28442 instanceof Array)&&(((t1$28443=t0$28442.length)),((t1$28443===1)&&(t0$28442[0]==="void"))))){}else{___match_error(a$28388,"/home/olivier/git/eg/src/stdenv.eg",43329,43330);}return it$0$28220.wrap((it$0$28220.build(b$28389)+"+"));}else{if(($28248$28390==="?")){(t0$28463=a$28388);if(((t0$28463 instanceof Array)&&(((t1$28464=t0$28463.length)),((t1$28464===1)&&(t0$28463[0]==="void"))))){}else{___match_error(a$28388,"/home/olivier/git/eg/src/stdenv.eg",43413,43414);}return it$0$28220.wrap((it$0$28220.build(b$28389)+"?"));}else{if(($28248$28390==="in")){(t0$28486=a$28388);if(((t0$28486 instanceof Array)&&(((t1$28487=t0$28486.length)),((t1$28487===1)&&(t0$28486[0]==="void"))))){}else{___match_error(a$28388,"/home/olivier/git/eg/src/stdenv.eg",43498,43499);}(t0$28501=b$28389);if(((t0$28501 instanceof Array)&&(((t1$28502=t0$28501.length)),((t1$28502===2)&&(t0$28501[0]==="value"))))){(v$28484=t0$28501[1]);}else{___match_error(b$28389,"/home/olivier/git/eg/src/stdenv.eg",43527,43528);}(x$28517=it$0$28220.quote_charset(v$28484));return (("["+x$28517)+"]");}else{if(($28248$28390==="not")){(t0$28530=a$28388);if(((t0$28530 instanceof Array)&&(((t1$28531=t0$28530.length)),((t1$28531===1)&&(t0$28530[0]==="void"))))){}else{___match_error(a$28388,"/home/olivier/git/eg/src/stdenv.eg",43652,43653);}(t0$28545=b$28389);if(((t0$28545 instanceof Array)&&(((t1$28546=t0$28545.length)),((t1$28546===3)&&((t0$28545[0]==="send")&&(((t2$28547=t0$28545[1])),((t2$28547 instanceof Array)&&(((t3$28548=t2$28547.length)),((t3$28548===2)&&((t2$28547[0]==="symbol")&&((t2$28547[1]==="in")&&(((t4$28549=t0$28545[2])),((t4$28549 instanceof Array)&&(((t5$28550=t4$28549.length)),((t5$28550===3)&&((t4$28549[0]==="data")&&(((t6$28551=t4$28549[1])),((t6$28551 instanceof Array)&&(((t7$28552=t6$28551.length)),((t7$28552===1)&&((t6$28551[0]==="void")&&(((t8$28553=t4$28549[2])),((t8$28553 instanceof Array)&&(((t9$28554=t8$28553.length)),((t9$28554===2)&&(t8$28553[0]==="value")))))))))))))))))))))))))){(v$28528=t8$28553[1]);}else{___match_error(b$28389,"/home/olivier/git/eg/src/stdenv.eg",43719,43720);}(x$28609=it$0$28220.quote_charset(v$28528));return (("[^"+x$28609)+"]");}else{___match_error($28248$28390,"/home/olivier/git/eg/src/stdenv.eg",43037,43042);}}}}}}}}else{if(($28259$28281&&(($28261$28283=(t0$28275>=1))&&($28229$28270[0]==="data")))){(args$28617=Array.prototype.slice.call($28229$28270,1));return (("("+(((acc$28637=[])),(((temp$28643=args$28617)),((($length$28649=temp$28643.length)),((($index$28655=0)),(function(){$28632:for(;($index$28655<$length$28649);($index$28655++)){var arg$28672;var m$28664;(m$28664=temp$28643[$index$28655]);(arg$28672=m$28664);acc$28637.push(it$0$28220.build(arg$28672));}})()))),acc$28637).join(""))+")");}else{if(($28261$28283&&($28229$28270[0]==="multi"))){(args$28677=Array.prototype.slice.call($28229$28270,1));return (("(?:"+(((acc$28697=[])),(((temp$28703=args$28677)),((($length$28709=temp$28703.length)),((($index$28715=0)),(function(){$28692:for(;($index$28715<$length$28709);($index$28715++)){var arg$28732;var m$28724;(m$28724=temp$28703[$index$28715]);(arg$28732=m$28724);acc$28697.push(it$0$28220.build(arg$28732));}})()))),acc$28697).join(""))+")");}else{(other$28737=$28229$28270);return ErrorFactory(["syntax","regexp"]).create("Illegal regular expression",({"expr":expr$28216}));}}}}}}}));__amp____colon__(RegexBuilder$17840,__amp____colon__(((accum$28742=({})),((accum$28742["::name"]="RegexBuilder"),accum$28742)),((accum$28746=({})),((accum$28746["::egclass"]=true),accum$28746))));RegexBuilder$17840;(build_regexp$17841=(function(x$28753){return RegexBuilder$17840().build(x$28753);}));(mac$28758=(function(context$28765,scope$28766,form$28767,$28762$28768,flags$28769){var t0$28779;var text$28841;var text$28836;var $28823$28828;var text$28820;var arg$28846;var v$28805;var $28774$28801;var $28775$28802;var t0$28793;var t1$28794;var t2$28795;var t3$28796;var t4$28797;var t5$28798;var t6$28799;var $28771$28788;var ph$28776;var arg$28777;(t0$28779=$28762$28768);(arg$28777=t0$28779);(ph$28776=t0$28779);($28771$28788=ph$28776);if((($28774$28801=($28771$28788 instanceof Array))&&(((t0$28793=$28771$28788.length)),((t0$28793===2)&&(($28771$28788[0]==="value")&&(((t1$28794=$28771$28788[1])),(typeof(t1$28794)==="string"))))))){(v$28805=t1$28794);(text$28820=((($28823$28828=arg$28777.location.text())),(function(){if(getChecker(RegExp("^\\\".*\\\"$",""))($28823$28828)){(text$28836=$28823$28828);return text$28836.substring(1,(text$28836.length-1));}else{(text$28841=$28823$28828);return text$28841;}})()));return ["send",["symbol","RegExp"],["data",["value",text$28820],["value",flags$28769.join("")]]];}else{if(($28774$28801&&((t0$28793===3)&&(($28771$28788[0]==="send")&&(((t1$28794=$28771$28788[1])),((t1$28794 instanceof Array)&&(((t2$28795=t1$28794.length)),((t2$28795===2)&&((t1$28794[0]==="symbol")&&((t1$28794[1]==="'")&&(((t3$28796=$28771$28788[2])),((t3$28796 instanceof Array)&&(((t4$28797=t3$28796.length)),((t4$28797===3)&&((t3$28796[0]==="data")&&(((t5$28798=t3$28796[1])),((t5$28798 instanceof Array)&&(((t6$28799=t5$28798.length)),((t6$28799===1)&&(t5$28798[0]==="void")))))))))))))))))))){(arg$28846=t3$28796[2]);return ["send",["symbol","RegExp"],["data",["value",build_regexp$17841(arg$28846)],["value",flags$28769.join("")]]];}else{___match_error($28771$28788);}}}));stdenv$17813.bind(topscope$17817,"R",["macro",accum_flags$17829(mac$28758,false)]);(errf_macro$17842=(function(tags$28886){return (function(context$28892,scope$28893,form$28894,$28889$28895){var other$28934;var args$28929;var $28901$28916;var $28902$28917;var t0$28914;var $28897$28909;var ph$28903;(ph$28903=$28889$28895);($28897$28909=ph$28903);if((($28901$28916=($28897$28909 instanceof Array))&&(((t0$28914=$28897$28909.length)),((t0$28914===1)&&($28897$28909[0]==="void"))))){return ["send",["symbol","ErrorFactory"],["data",["data"].concat(tags$28886)]];}else{if(($28901$28916&&((t0$28914>=1)&&($28897$28909[0]==="data")))){(args$28929=Array.prototype.slice.call($28897$28909,1));return ["send",["send",["send",["symbol","ErrorFactory"],["data",["data"].concat(tags$28886)]],["send",["symbol","."],["data",["void"],["symbol","create"]]]],["data"].concat(args$28929)];}else{(other$28934=$28897$28909);return ["macro",errf_macro$17842(tags$28886.concat([other$28934]))];}}});}));stdenv$17813.bind(topscope$17817,"E",["macro",errf_macro$17842([])]);(temp$28940=items([]));($length$28946=temp$28940.length);($index$28952=0);$17849:for(;($index$28952<$length$28946);($index$28952++)){var k$28971;var v$28972;var t0$28966;var t1$28967;var m$28961;(m$28961=temp$28940[$index$28952]);(t0$28966=m$28961);if(((t0$28966 instanceof Array)&&(((t1$28967=t0$28966.length)),(t1$28967===2)))){(k$28971=t0$28966[0]);(v$28972=t0$28966[1]);stdenv$17813.bind(topscope$17817,k$28971,["value",v$28972]);}else{___match_error(m$28961,"/home/olivier/git/eg/src/stdenv.eg",44872,44937);}}(expander$17815["utils"]=({"var_operator":var_operator$17828}));(exports["topscope"]=topscope$17817);(exports["stdenv"]=stdenv$17813);(exports["expander"]=expander$17815);(exports["expand"]=expand$17816);
