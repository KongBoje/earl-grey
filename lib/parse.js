var $8014=function(type$8016){var f$8019;(f$8019=type$8016["::check"]);;if((f$8019===(void 0))){return function(value$8024){return (value$8024 instanceof type$8016);};}else{return function(value$8027){return f$8019.call(type$8016,value$8027);};}};
var $8029=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $8030=function($8031$8033){var ph$8037;(ph$8037=$8031$8033);;var $8035$8042;($8035$8042=ph$8037);;var bridge$8036$8047;var x$8051;(bridge$8036$8047=$8035$8042);if((((typeof(bridge$8036$8047)==="string")&&((x$8051=bridge$8036$8047),true))||((typeof(bridge$8036$8047)==="number")&&((x$8051=bridge$8036$8047),true)))){return ["value",x$8051];}else{var other$8058;(other$8058=$8035$8042);return other$8058["::serialize_ast"]();}};
var send$7854;(send$7854=function(obj$7859,$7857$7860){var ph$7864;var msg$7865;var t0$7867;(t0$7867=$7857$7860);(msg$7865=t0$7867);(ph$7864=t0$7867);;var $7862$7871;($7862$7871=ph$7864);;var bridge$7863$7876;(bridge$7863$7876=$7862$7871);if(((typeof(bridge$7863$7876)==="string")||(typeof(bridge$7863$7876)==="number"))){return obj$7859[msg$7865];}else{var other$7884;(other$7884=$7862$7871);return obj$7859["::send"](msg$7865);}});;(Array[":::project"]=function($7887$7889){var ph$7892;var value$7893;var t0$7895;(t0$7895=$7887$7889);(value$7893=t0$7895);(ph$7892=t0$7895);;var $7891$7899;($7891$7899=ph$7892);;if($8014(Array)($7891$7899)){return [true,value$7893];}else{$7891$7899;return [true,[value$7893]];}});(Array.prototype["::check"]=function(value$7913){if((value$7913 instanceof Array)){var i$7918;(i$7918=0);;$7916:for(;(i$7918<this.length);(i$7918++)){if(($8029(this,i$7918)!==$8029(value$7913,i$7918))){return false;}}return true;}else{return false;}});(Array.prototype["::clone"]=function(){return this.slice(0);});(Array.prototype[":::project"]=function(value$7929){if((value$7929 instanceof Array)){var i$7934;(i$7934=0);;$7932:for(;(i$7934<this.length);(i$7934++)){if(($8029(this,i$7934)!==$8029(value$7929,i$7934))){return [true,[value$7929]];}}return [true,value$7929.slice(this.length)];}else{return [true,[value$7929]];}});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($8030));});(RegExp.prototype["::check"]=function($7944$7946){var ph$7949;(ph$7949=$7944$7946);;var $7948$7954;($7948$7954=ph$7949);;var value$7962;if((typeof($7948$7954)==="string")){(value$7962=$7948$7954);if(value$7962.match(this)){return true;}else{return false;}}else{var other$7967;(other$7967=$7948$7954);return false;}});(RegExp.prototype[":::project"]=function($7969$7971){var ph$7974;(ph$7974=$7969$7971);;var $7973$7979;($7973$7979=ph$7974);;var value$7987;if((typeof($7973$7979)==="string")){(value$7987=$7973$7979);var $7990$7992;($7990$7992=value$7987.match(this));;var m$8000;if(($7990$7992===null)){(m$8000=$7990$7992);return [false,null];}else{var m$8005;(m$8005=$7990$7992);return [true,m$8005];}}else{var other$8009;(other$8009=$7973$7979);return [false,null];}});(Function.prototype["::send"]=function(args$8012){return this.apply(this,args$8012);});
var $10064=function(arr$10066){var results$10070;var l$10071;(results$10070=[]);;(l$10071=arr$10066.length);;var i$10079;(i$10079=0);;$10069:for(;(i$10079<l$10071);(i$10079++)){results$10070.push([i$10079,$8029(arr$10066,i$10079)]);}return results$10070;};
var $10086=function(dest$10088,values$10089){var k$10094;(k$10094=null);$10092:for(k$10094 in values$10089){if(values$10089.hasOwnProperty(k$10094)){(dest$10088[k$10094]=values$10089[k$10094]);}}return dest$10088;};
var $9895=function(){var $9896$9898;($9896$9898=function(tags$9902){var it$0$9905;(it$0$9905=function(){if((!$8014($9896$9898)(this))){return Object.create($9896$9898.prototype);}else{return this;}}());;(it$0$9905["tags"]=tags$9902);return it$0$9905;});;($9896$9898.prototype["create"]=function(){var $9914$9916;($9914$9916=arguments);;var t0$9921;var message$9925;var args$9926;(t0$9921=$9914$9916.length);if((t0$9921>=0)){(message$9925=function(){if((0>=t0$9921)){return "";}else{return $9914$9916[0];}}());(args$9926=Array.prototype.slice.call($9914$9916,1));var it$0$9930;(it$0$9930=this);;var self$9935;(self$9935=this);;var e$9940;(e$9940=Error(message$9925));;(e$9940["::tags"]=it$0$9930.tags);(e$9940["args"]=args$9926);var temp$9948;(temp$9948=$10064(args$9926));;var $length$9953;($length$9953=temp$9948.length);;var $index$9958;($index$9958=0);;$9941:for(;($index$9958<$length$9953);($index$9958++)){var m$9966;(m$9966=temp$9948[$index$9958]);;var t0$9971;var t1$9972;var i$9976;var arg$9977;(t0$9971=m$9966);if(((t0$9971 instanceof Array)&&((t1$9972=t0$9971.length),(t1$9972===2)))){(i$9976=t0$9971[0]);(arg$9977=t0$9971[1]);(e$9940[i$9976]=arg$9977);}else{$9882(m$9966);;}}(e$9940["length"]=args$9926.length);(e$9940["name"]=["E"].concat(it$0$9930.tags).join("."));return e$9940;}else{$9882($9914$9916);}});($9896$9898.prototype["::check"]=function(e$9988){var it$0$9991;(it$0$9991=this);;var self$9996;(self$9996=this);;var tags$10001;if(((!e$9988)||(!$8014(Error)(e$9988)))){return false;}(tags$10001=(e$9988["::tags"]||[]));;var temp$10010;(temp$10010=it$0$9991.tags);;var $length$10015;($length$10015=temp$10010.length);;var $index$10020;($index$10020=0);;$10002:for(;($index$10020<$length$10015);($index$10020++)){var m$10028;(m$10028=temp$10010[$index$10020]);;var tag$10036;(tag$10036=m$10028);if((tags$10001.indexOf(tag$10036)===-1)){return false;}else{false;;}}return true;});($9896$9898.prototype["::deconstruct"]=function(e$10044){var it$0$10047;(it$0$10047=this);;var self$10052;(self$10052=this);;return e$10044.args;});$10086($9896$9898,$10086(function(){var accum$10057;(accum$10057=({}));(accum$10057["::name"]="$9896");return accum$10057;}(),function(){var accum$10061;(accum$10061=({}));(accum$10061["::egclass"]=true);return accum$10061;}()));return $9896$9898;}();
var $9882=function(value$9884,url$9885,start$9886,end$9887){var err$9890;(err$9890=$9895(["match"]).create("Could not find a match for value",({"value":value$9884})));;if(url$9885){(err$9890["location"]=["location",url$9885,start$9886,end$9887]);}throw err$9890;};
var $10098=function(obj$10100){var results$10104;(results$10104=[]);;var k$10109;(k$10109=null);$10103:for(k$10109 in obj$10100){if(Object.prototype.hasOwnProperty.call(obj$10100,k$10109)){results$10104.push([k$10109,$8029(obj$10100,k$10109)]);}}return results$10104;};
var $10113=function(arrays$10115){var results$10118;(results$10118=[]);;var temp$10126;(temp$10126=arrays$10115);;var $length$10131;($length$10131=temp$10126.length);;var $index$10136;($index$10136=0);;$10119:for(;($index$10136<$length$10131);($index$10136++)){var m$10144;(m$10144=temp$10126[$index$10136]);;var a$10152;(a$10152=m$10144);(results$10118=results$10118.concat(a$10152));}return results$10118;};
var $10154=function(type$10156){return function(value$10159){var f$10162;(f$10162=type$10156[":::project"]);;if((f$10162===(void 0))){var f$10167;(f$10167=type$10156["::project"]);;if((f$10167===(void 0))){return [true,type$10156(value$10159)];}else{var rval$10172;(rval$10172=false);;try{(rval$10172=[true,f$10167(value$10159)]);}catch(excv$10178){var e$10184;(e$10184=excv$10178);(rval$10172=[false,null]);}return rval$10172;}}else{return f$10162.call(type$10156,value$10159);}};};var accum$8477;var accum$8481;var accum$8663;var accum$9010;var accum$9014;var accum$9178;var accum$9182;var accum$9186;var accum$9190;var accum$9194;var accum$9201;var accum$9205;var accum$9209;var accum$9213;var accum$9217;var eg_groups$9023;var eg_prio$9024;var $8061$8062;var __lt____lt____colon__$8063;var __plus____plus____colon__$8064;var transform$8065;var OperatorGroups$8066;var parse_op_description$8067;var eg_groups$8068;var SimplePriority$8069;var MAX$8070;var eg_order$8071;var DONE$8072;var NONE$8073;var LEFT$8074;var RIGHT$8075;var BOTH$8076;var oparse$8077;var finalize$8078;var parse$8079;($8061$8062=require("./location"));;(__lt____lt____colon__$8063=$8061$8062["<<:"]);;(__plus____plus____colon__$8064=$8061$8062["++:"]);;(transform$8065=function(expr$8092,cb$8093){var rval$8107;var tr$8096;var result$8097;(tr$8096=function(x$8101){return transform$8065(x$8101,cb$8093);});;(result$8097=(((rval$8107=false)),(function(){try{(rval$8107=cb$8093.call(tr$8096,expr$8092));}catch(excv$8113){var name$8153;var args$8154;var v$8148;var s$8143;var $8122$8133;var $8123$8134;var $8124$8135;var t0$8131;var $8121$8126;var e$8119;(e$8119=excv$8113);(rval$8107=((($8121$8126=expr$8092)),function(){if((($8122$8133=($8121$8126 instanceof Array))&&((t0$8131=$8121$8126.length),((t0$8131===1)&&($8121$8126[0]==="void"))))){return ["void"];}else{if(($8122$8133&&(($8124$8135=(t0$8131===2))&&($8121$8126[0]==="symbol")))){(s$8143=$8121$8126[1]);return expr$8092;}else{if(($8124$8135&&($8121$8126[0]==="value"))){(v$8148=$8121$8126[1]);return expr$8092;}else{if(($8122$8133&&(t0$8131>=1))){(name$8153=$8121$8126[0]);(args$8154=Array.prototype.slice.call($8121$8126,1));return [name$8153].concat(args$8154.map(tr$8096));}else{$9882($8121$8126);}}}}}()));}}(),rval$8107)));;return __lt____lt____colon__$8063(result$8097,expr$8092);});;(OperatorGroups$8066=function(groups$8164){var $index$8197;var $length$8192;var temp$8187;var acc$8182;var $index$8239;var $length$8234;var temp$8229;var acc$8224;var $index$8316;var $length$8311;var temp$8306;var acc$8301;var itg$8173;var it$0$8167;(it$0$8167=function(){if((!$8014(OperatorGroups$8066)(this))){return Object.create(OperatorGroups$8066.prototype);}else{return this;}}());;(itg$8173=$10098(groups$8164));;(it$0$8167["gnames"]=(((acc$8182=[])),(((temp$8187=itg$8173)),((($length$8192=temp$8187.length)),((($index$8197=0)),function(){$8179:for(;($index$8197<$length$8192);($index$8197++)){var name$8215;var t0$8210;var t1$8211;var m$8205;(m$8205=temp$8187[$index$8197]);;(t0$8210=m$8205);if(((t0$8210 instanceof Array)&&((t1$8211=t0$8210.length),(t1$8211===2)))){(name$8215=t0$8210[0]);t0$8210[1];acc$8182.push(name$8215);}else{$9882(m$8205,"/home/olivier/git/earl-grey/src/parse.eg",504,530);;}}}()))),acc$8182));(it$0$8167["groups"]=(((acc$8224=[])),(((temp$8229=itg$8173)),((($length$8234=temp$8229.length)),((($index$8239=0)),function(){$8221:for(;($index$8239<$length$8234);($index$8239++)){var $index$8280;var $length$8275;var temp$8270;var acc$8265;var name$8257;var descrs$8258;var t0$8252;var t1$8253;var m$8247;(m$8247=temp$8229[$index$8239]);;(t0$8252=m$8247);if(((t0$8252 instanceof Array)&&((t1$8253=t0$8252.length),(t1$8253===2)))){(name$8257=t0$8252[0]);(descrs$8258=t0$8252[1]);acc$8224.push($10113((((acc$8265=[])),(((temp$8270=descrs$8258)),((($length$8275=temp$8270.length)),((($index$8280=0)),function(){$8262:for(;($index$8280<$length$8275);($index$8280++)){var descr$8296;var m$8288;(m$8288=temp$8270[$index$8280]);;(descr$8296=m$8288);acc$8265.push(parse_op_description$8067(descr$8296));}}()))),acc$8265)));}else{$9882(m$8247,"/home/olivier/git/earl-grey/src/parse.eg",548,645);;}}}()))),acc$8224));(it$0$8167["fns"]=[]);(it$0$8167["to_gid"]=({"IFX":({"wide":({}),"short":({})}),"PFX":({"wide":({}),"short":({})}),"SFX":({"wide":({}),"short":({})})}));(acc$8301=[]);;(temp$8306=$10064(it$0$8167.groups));;($length$8311=temp$8306.length);;($index$8316=0);;$8174:for(;($index$8316<$length$8311);($index$8316++)){var $index$8357;var $length$8352;var temp$8347;var acc$8342;var i$8334;var group$8335;var t0$8329;var t1$8330;var m$8324;(m$8324=temp$8306[$index$8316]);;(t0$8329=m$8324);if(((t0$8329 instanceof Array)&&((t1$8330=t0$8329.length),(t1$8330===2)))){(i$8334=t0$8329[0]);(group$8335=t0$8329[1]);acc$8301.push((((acc$8342=[])),(((temp$8347=group$8335)),((($length$8352=temp$8347.length)),((($index$8357=0)),function(){$8339:for(;($index$8357<$length$8352);($index$8357++)){var f$8383;var fixity$8375;var width$8376;var name$8377;var t0$8370;var t1$8371;var m$8365;(m$8365=temp$8347[$index$8357]);;(t0$8370=m$8365);if(((t0$8370 instanceof Array)&&((t1$8371=t0$8370.length),(t1$8371===3)))){(fixity$8375=t0$8370[0]);(width$8376=t0$8370[1]);(name$8377=t0$8370[2]);acc$8342.push(($8029($8029(it$0$8167.to_gid,fixity$8375),width$8376)[name$8377]=i$8334));}else{(f$8383=m$8365);acc$8342.push(it$0$8167.fns.push([f$8383,i$8334]));}}}()))),acc$8342));}else{$9882(m$8324,"/home/olivier/git/earl-grey/src/parse.eg",812,1014);;}}acc$8301;return it$0$8167;});;(OperatorGroups$8066.prototype["get_name"]=function(o$8391){var self$8399;var it$0$8394;(it$0$8394=this);;(self$8399=this);;return $8029(it$0$8394.gnames,it$0$8394.get(o$8391));});(OperatorGroups$8066.prototype["get"]=function($8405$8407){var t0$8414;var t1$8415;var $index$8450;var $length$8445;var temp$8440;var attempt$8431;var self$8426;var it$0$8421;var o$8409;var fixity$8410;var width$8411;var name$8412;(t0$8414=$8405$8407);(o$8409=t0$8414);if(((t0$8414 instanceof Array)&&((t1$8415=t0$8414.length),(t1$8415===3)))){(fixity$8410=t0$8414[0]);(width$8411=t0$8414[1]);(name$8412=t0$8414[2]);;}else{$9882($8405$8407);}(it$0$8421=this);;(self$8426=this);;(attempt$8431=$8029($8029($8029(it$0$8421.to_gid,fixity$8410),width$8411),name$8412));;if((attempt$8431===(void 0))){(temp$8440=it$0$8421.fns);;($length$8445=temp$8440.length);;($index$8450=0);;$8436:for(;($index$8450<$length$8445);($index$8450++)){var f$8468;var i$8469;var t0$8463;var t1$8464;var m$8458;(m$8458=temp$8440[$index$8450]);;(t0$8463=m$8458);if(((t0$8463 instanceof Array)&&((t1$8464=t0$8463.length),(t1$8464===2)))){(f$8468=t0$8463[0]);(i$8469=t0$8463[1]);if(f$8468(o$8409)){return i$8469;}}else{$9882(m$8458,"/home/olivier/git/earl-grey/src/parse.eg",1193,1276);;}}throw $9895(["syntax","unknown_operator"]).create(("Unknown operator: "+[true,String(o$8409)][1]),({"operator":o$8409}));}else{return attempt$8431;}});$10086(OperatorGroups$8066,$10086(((accum$8477=({})),((accum$8477["::name"]="OperatorGroups"),accum$8477)),((accum$8481=({})),((accum$8481["::egclass"]=true),accum$8481))));OperatorGroups$8066;(parse_op_description$8067=function($8486$8488){var otherwise$8553;var $8534$8542;var $8533$8536;var otherwise$8578;var $8559$8567;var $8558$8561;var t0$8530;var t1$8531;var fixity$8527;var short$8528;var other$8582;var x$8517;var w1$8518;var op$8519;var w2$8520;var y$8521;var f$8512;var rx$8506;var t0$8501;var t1$8502;var t2$8503;var $8490$8496;var ph$8491;(ph$8491=$8486$8488);;($8490$8496=ph$8491);;(rx$8506=RegExp("(?:^((?:X?))((?:[ _]?))((?:[^ _Y]*))((?:[ _]?))((?:Y?))$)",""));;if($8014(Function)($8490$8496)){(f$8512=$8490$8496);return f$8512;}else{(t0$8501=$10154(rx$8506)($8490$8496));if((t0$8501[0]&&((t1$8502=t0$8501[1]),((t2$8503=t1$8502.length),(t2$8503===6))))){t1$8502[0];(x$8517=t1$8502[1]);(w1$8518=t1$8502[2]);(op$8519=t1$8502[3]);(w2$8520=t1$8502[4]);(y$8521=t1$8502[5]);(t0$8530=((($8533$8536=null)),($8533$8536,function(){if((x$8517==="")){return ["PFX",(w2$8520==="")];}else{if((y$8521==="")){return ["SFX",(w1$8518==="")];}else{(otherwise$8553=$8533$8536);return ["IFX",((w1$8518==="")||(w2$8520===""))];}}}())));if(((t0$8530 instanceof Array)&&((t1$8531=t0$8530.length),(t1$8531===2)))){(fixity$8527=t0$8530[0]);(short$8528=t0$8530[1]);;}else{$9882(((($8558$8561=null)),($8558$8561,function(){if((x$8517==="")){return ["PFX",(w2$8520==="")];}else{if((y$8521==="")){return ["SFX",(w1$8518==="")];}else{(otherwise$8578=$8558$8561);return ["IFX",((w1$8518==="")||(w2$8520===""))];}}}())),"/home/olivier/git/earl-grey/src/parse.eg",1647,1865);}if(((w1$8518==="_")||(w2$8520==="_"))){return [[fixity$8527,"short",op$8519],[fixity$8527,"wide",op$8519]];}else{return [[fixity$8527,function(){if(short$8528){return "short";}else{return "wide";}}(),op$8519]];}}else{(other$8582=$8490$8496);throw $9895(["invalid_op_description"]).create(("Invalid operator description: "+other$8582));}}});;(eg_groups$8068=OperatorGroups$8066($10086(({"tokenpfx":[".Y","#Y","@Y"],"sjuxt":["XWHITEY"],"ifx":[function($8587$8589){var t0$8602;var $8591$8597;var ph$8592;(ph$8592=$8587$8589);;($8591$8597=ph$8592);;if((($8591$8597 instanceof Array)&&((t0$8602=$8591$8597.length),((t0$8602===3)&&(($8591$8597[0]==="IFX")&&($8591$8597[1]==="short")))))){$8591$8597[2];return true;}else{$8591$8597;return false;}}],"pfx":[function($8612$8614){var t0$8627;var $8616$8622;var ph$8617;(ph$8617=$8612$8614);;($8616$8622=ph$8617);;if((($8616$8622 instanceof Array)&&((t0$8627=$8616$8622.length),((t0$8627===3)&&(($8616$8622[0]==="PFX")&&($8616$8622[1]==="short")))))){$8616$8622[2];return true;}else{$8616$8622;return false;}}],"sfx":[function($8637$8639){var t0$8652;var $8641$8647;var ph$8642;(ph$8642=$8637$8639);;($8641$8647=ph$8642);;if((($8641$8647 instanceof Array)&&((t0$8652=$8641$8647.length),((t0$8652===3)&&(($8641$8647[0]==="SFX")&&($8641$8647[1]==="short")))))){$8641$8647[2];return true;}else{$8641$8647;return false;}}],"pow":["X ** Y"],"mul":["X * Y","X / Y","X // Y","X mod Y","+ Y","- Y"],"add":["X + Y","X - Y"],"cmp":["X < Y","X <= Y","X == Y","X > Y","X >= Y","X != Y"],"cat":["X ++ Y"],"union":["X & Y"],"range":["X .. Y","X ..",".. Y"],"in":["X in Y"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"and":"X and Y","or":"X or Y","not":"not Y"}),$10086(((accum$8663=({})),((accum$8663["with"]=["X with Y"]),accum$8663)),({"decl":["X -> Y","X = Y","X := Y","X => Y","X where Y","X when Y","X each Y"],"brack":["X_,_Y","(_Y","[_Y","{_Y","X_)","X_]","X_}"],"custom":[function(x$8667){return true;}]})))));;(SimplePriority$8069=function(groups$8673,priorities$8674){var $index$8709;var $length$8704;var temp$8699;var acc$8694;var _i$8683;var tracks$8684;var it$0$8677;(it$0$8677=function(){if((!$8014(SimplePriority$8069)(this))){return Object.create(SimplePriority$8069.prototype);}else{return this;}}());;(it$0$8677["groups"]=groups$8673);(_i$8683=0);;(tracks$8684=({}));;(it$0$8677["prio"]=(((acc$8694=[])),(((temp$8699=groups$8673.gnames)),((($length$8704=temp$8699.length)),((($index$8709=0)),function(){$8691:for(;($index$8709<$length$8704);($index$8709++)){var t0$8735;var t1$8736;var t2$8737;var t3$8738;var t4$8739;var t5$8740;var t6$8741;var t7$8742;var $index$8777;var $length$8772;var temp$8767;var acc$8762;var $index$8863;var $length$8858;var temp$8853;var acc$8848;var t0$8756;var t1$8757;var ltracks$8728;var lp$8729;var rtracks$8730;var rp$8731;var lt$8732;var rt$8733;var name$8725;var m$8717;(m$8717=temp$8699[$index$8709]);;(name$8725=m$8717);acc$8694.push((((t0$8735=$8029(priorities$8674,name$8725)),function(){if(((t0$8735 instanceof Array)&&((t1$8736=t0$8735.length),((t1$8736===2)&&((t2$8737=t0$8735[0]),((t2$8737 instanceof Array)&&((t3$8738=t2$8737.length),((t3$8738===2)&&((t4$8739=$10154(Array)(t2$8737[0])),(t4$8739[0]&&((ltracks$8728=t4$8739[1]),((lp$8729=t2$8737[1]),((t5$8740=t0$8735[1]),((t5$8740 instanceof Array)&&((t6$8741=t5$8740.length),((t6$8741===2)&&((t7$8742=$10154(Array)(t5$8740[0])),t7$8742[0]))))))))))))))))){(rtracks$8730=t7$8742[1]);(rp$8731=t5$8740[1]);}else{return $9882($8029(priorities$8674,name$8725),"/home/olivier/git/earl-grey/src/parse.eg",3552,3578);}}()),((t0$8756=(((acc$8762=[])),(((temp$8767=[ltracks$8728,rtracks$8730])),((($length$8772=temp$8767.length)),((($index$8777=0)),function(){$8759:for(;($index$8777<$length$8772);($index$8777++)){var $index$8814;var $length$8809;var temp$8804;var rval$8796;var tr$8793;var m$8785;(m$8785=temp$8767[$index$8777]);;(tr$8793=m$8785);acc$8762.push((((rval$8796=0)),(((temp$8804=tr$8793)),((($length$8809=temp$8804.length)),((($index$8814=0)),function(){$8797:for(;($index$8814<$length$8809);($index$8814++)){var t$8840;var t$8834;var m$8822;(m$8822=temp$8804[$index$8814]);;if((m$8822==="all")){(rval$8796=(Math.pow(2,31)-1));}else{(t$8834=m$8822);if((!$8029(tracks$8684,t$8834))){(rval$8796=(rval$8796|Math.pow(2,_i$8683)));(tracks$8684[t$8834]=(_i$8683++));}else{(t$8840=m$8822);(rval$8796=(rval$8796|Math.pow(2,$8029(tracks$8684,t$8840))));}}}}()))),rval$8796));}}()))),acc$8762)),function(){if(((t0$8756 instanceof Array)&&((t1$8757=t0$8756.length),(t1$8757===2)))){(lt$8732=t0$8756[0]);(rt$8733=t0$8756[1]);}else{return $9882((((acc$8848=[])),(((temp$8853=[ltracks$8728,rtracks$8730])),((($length$8858=temp$8853.length)),((($index$8863=0)),function(){$8845:for(;($index$8863<$length$8858);($index$8863++)){var $index$8900;var $length$8895;var temp$8890;var rval$8882;var tr$8879;var m$8871;(m$8871=temp$8853[$index$8863]);;(tr$8879=m$8871);acc$8848.push((((rval$8882=0)),(((temp$8890=tr$8879)),((($length$8895=temp$8890.length)),((($index$8900=0)),function(){$8883:for(;($index$8900<$length$8895);($index$8900++)){var t$8926;var t$8920;var m$8908;(m$8908=temp$8890[$index$8900]);;if((m$8908==="all")){(rval$8882=(Math.pow(2,31)-1));}else{(t$8920=m$8908);if((!$8029(tracks$8684,t$8920))){(rval$8882=(rval$8882|Math.pow(2,_i$8683)));(tracks$8684[t$8920]=(_i$8683++));}else{(t$8926=m$8908);(rval$8882=(rval$8882|Math.pow(2,$8029(tracks$8684,t$8926))));}}}}()))),rval$8882));}}()))),acc$8848),"/home/olivier/git/earl-grey/src/parse.eg",3588,3909);}}()),[[lt$8732,lp$8729],[rt$8733,rp$8731]]));}}()))),acc$8694));return it$0$8677;});;(SimplePriority$8069.prototype["compare"]=function(op1$8932,op2$8933){var t0$8961;var t1$8962;var t2$8963;var t3$8964;var t0$8973;var t1$8974;var t2$8975;var t3$8976;var $8947$8990;var $8946$8984;var i1$8948;var i2$8949;var code1$8950;var ord1$8951;var code2$8952;var ord2$8953;var self$8941;var it$0$8936;(it$0$8936=this);;(self$8941=this);;(i1$8948=it$0$8936.groups.get(op1$8932));;(i2$8949=it$0$8936.groups.get(op2$8933));;(t0$8961=$8029(it$0$8936.prio,i1$8948));if(((t0$8961 instanceof Array)&&((t1$8962=t0$8961.length),((t1$8962===2)&&(t0$8961[0],((t2$8963=t0$8961[1]),((t2$8963 instanceof Array)&&((t3$8964=t2$8963.length),(t3$8964===2))))))))){(code1$8950=t2$8963[0]);(ord1$8951=t2$8963[1]);;}else{$9882($8029(it$0$8936.prio,i1$8948),"/home/olivier/git/earl-grey/src/parse.eg",4036,4053);}(t0$8973=$8029(it$0$8936.prio,i2$8949));if(((t0$8973 instanceof Array)&&((t1$8974=t0$8973.length),((t1$8974===2)&&((t2$8975=t0$8973[0]),((t2$8975 instanceof Array)&&((t3$8976=t2$8975.length),(t3$8976===2)))))))){(code2$8952=t2$8975[0]);(ord2$8953=t2$8975[1]);t0$8973[1];;}else{$9882($8029(it$0$8936.prio,i2$8949),"/home/olivier/git/earl-grey/src/parse.eg",4073,4090);}($8946$8984=null);;$8946$8984;if(((code1$8950&code2$8952)===0)){throw $9895(["syntax","order"]).create("Cannot mix operators in the given order",({"left":op1$8932,"right":op2$8933}));}else{if((ord1$8951>ord2$8953)){return LEFT$8074;}else{if((ord1$8951<ord2$8953)){return RIGHT$8075;}else{if((ord1$8951===ord2$8953)){return BOTH$8076;}else{$9882($8946$8984);}}}}});$10086(SimplePriority$8069,$10086(((accum$9010=({})),((accum$9010["::name"]="SimplePriority"),accum$9010)),((accum$9014=({})),((accum$9014["::egclass"]=true),accum$9014))));SimplePriority$8069;(MAX$8070=(1/0));;(eg_order$8071=(((eg_groups$9023=OperatorGroups$8066($10086(({"sh_ifx":[function($9027$9029){var t0$9042;var $9031$9037;var ph$9032;(ph$9032=$9027$9029);;($9031$9037=ph$9032);;if((($9031$9037 instanceof Array)&&((t0$9042=$9031$9037.length),((t0$9042===3)&&(($9031$9037[0]==="IFX")&&($9031$9037[1]==="short")))))){$9031$9037[2];return true;}else{$9031$9037;return false;}}],"sh_pfx":[function($9052$9054){var t0$9067;var $9056$9062;var ph$9057;(ph$9057=$9052$9054);;($9056$9062=ph$9057);;if((($9056$9062 instanceof Array)&&((t0$9067=$9056$9062.length),((t0$9067===3)&&(($9056$9062[0]==="PFX")&&($9056$9062[1]==="short")))))){$9056$9062[2];return true;}else{$9056$9062;return false;}}],"sh_sfx":[function($9077$9079){var t0$9092;var $9081$9087;var ph$9082;(ph$9082=$9077$9079);;($9081$9087=ph$9082);;if((($9081$9087 instanceof Array)&&((t0$9092=$9081$9087.length),((t0$9092===3)&&(($9081$9087[0]==="SFX")&&($9081$9087[1]==="short")))))){$9081$9087[2];return true;}else{$9081$9087;return false;}}],"wi_ifx":[function($9102$9104){var t0$9117;var $9106$9112;var ph$9107;(ph$9107=$9102$9104);;($9106$9112=ph$9107);;if((($9106$9112 instanceof Array)&&((t0$9117=$9106$9112.length),((t0$9117===3)&&(($9106$9112[0]==="IFX")&&($9106$9112[1]==="wide")))))){$9106$9112[2];return true;}else{$9106$9112;return false;}}],"wi_pfx":[function($9127$9129){var t0$9142;var $9131$9137;var ph$9132;(ph$9132=$9127$9129);;($9131$9137=ph$9132);;if((($9131$9137 instanceof Array)&&((t0$9142=$9131$9137.length),((t0$9142===3)&&(($9131$9137[0]==="PFX")&&($9131$9137[1]==="wide")))))){$9131$9137[2];return true;}else{$9131$9137;return false;}}],"wi_sfx":[function($9152$9154){var t0$9167;var $9156$9162;var ph$9157;(ph$9157=$9152$9154);;($9156$9162=ph$9157);;if((($9156$9162 instanceof Array)&&((t0$9167=$9156$9162.length),((t0$9167===3)&&(($9156$9162[0]==="SFX")&&($9156$9162[1]==="wide")))))){$9156$9162[2];return true;}else{$9156$9162;return false;}}],"comma":["X_,_Y"],"obrack":["(_Y","[_Y","{_Y"],"cbrack":["X_)","X_]","X_}"]}),$10086(((accum$9178=({})),((accum$9178["with"]=["X with Y"]),accum$9178)),$10086(({"lowprio":["X each Y","X each? Y","X where Y","X !! Y","X -> Y","X => Y","X = Y","X := Y","X += Y","X -= Y","X *= Y","X /= Y","X <<= Y","X >>= Y","X >>>= Y","X ++= Y","X ?= Y","X or= Y","X and= Y","X each= Y","X % Y"]}),$10086(((accum$9182=({})),((accum$9182["when"]=["X when Y"]),accum$9182)),$10086(((accum$9186=({})),((accum$9186["or"]=["X or Y"]),accum$9186)),$10086(((accum$9190=({})),((accum$9190["and"]=["X and Y"]),accum$9190)),$10086(((accum$9194=({})),((accum$9194["not"]=["not Y"]),accum$9194)),({"cmp":["X == Y","X != Y","X >= Y","X <= Y","X > Y","X < Y"],"binxor":["X ^. Y"],"binor":["X |. Y"],"binand":["X &. Y"],"shift":["X << Y","X >> Y","X >>> Y"],"add":["X + Y","X - Y"],"mul":["X * Y","X / Y","X // Y","X mod Y"],"exp":["X ** Y"],"sjuxt":["XWHITEY"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"pfx":["._Y","#_Y","@_Y"],"when2":["when Y"],"pp":["<> Y"],"pipe":["X |> Y"]}))))))))))),((eg_prio$9024=$10086(({"comma":[["all",1],["all",1]],"obrack":[["all",MAX$8070],["all",1]],"cbrack":[["all",1],["all",MAX$8070]]}),$10086(((accum$9201=({})),((accum$9201["with"]=[["all",1999],["all",10]]),accum$9201)),$10086(({"lowprio":[["all",11],["all",10]]}),$10086(((accum$9205=({})),((accum$9205["when"]=[["all",100],["all",101]]),accum$9205)),$10086(((accum$9209=({})),((accum$9209["or"]=[["all",110],["all",111]]),accum$9209)),$10086(((accum$9213=({})),((accum$9213["and"]=[["all",120],["all",121]]),accum$9213)),$10086(((accum$9217=({})),((accum$9217["not"]=[["all",MAX$8070],["all",131]]),accum$9217)),({"cmp":[["all",200],["all",201]],"binxor":[["all",400],["all",401]],"binor":[["all",410],["all",411]],"binand":[["all",420],["all",421]],"shift":[["arith",500],["arith",501]],"add":[["arith",550],["arith",551]],"mul":[["arith",560],["arith",561]],"exp":[["arith",571],["arith",570]],"wjuxt":[["all",13],["all",12]],"colon":[["all",12],["all",10]],"sjuxt":[["all",2000],["all",2001]],"pfx":[["all",MAX$8070],["all",3000]],"pp":[["all",MAX$8070],["all",5]],"when2":[["all",MAX$8070],["all",101]],"pipe":[["pipe",550],["pipe",551]],"sh_ifx":[["all",1800],["all",1801]],"sh_pfx":[["all",MAX$8070],["all",1901]],"sh_sfx":[["all",1900],["all",MAX$8070]],"wi_ifx":[["customl",900],["customr",901]],"wi_pfx":[["all",MAX$8070],["all",901]],"wi_sfx":[["all",900],["all",MAX$8070]]})))))))))),SimplePriority$8069(eg_groups$9023,eg_prio$9024)));;(DONE$8072=-1);;(NONE$8073=0);;(LEFT$8074=1);;(RIGHT$8075=2);;(BOTH$8076=3);;(oparse$8077=function(next$9240,order$9241,finalize$9242){var between$9245;var right_op$9246;var stack$9247;var left_op$9248;var current$9249;(between$9245=finalize$9242(next$9240()));;(right_op$9246=next$9240());;(stack$9247=[]);;(left_op$9248=null);;(current$9249=null);;$9250:while(true){var v$9290;var other$9306;var $9269$9275;var o$9270;(o$9270=function(){if(((!left_op$9248)&&(!right_op$9246))){return DONE$8072;}else{return ((((!left_op$9248)&&RIGHT$8075)||((!right_op$9246)&&LEFT$8074))||order$9241(left_op$9248,right_op$9246));}}());;($9269$9275=o$9270);;if(($9269$9275===DONE$8072)){return between$9245;}else{if(($9269$9275===LEFT$8074)){current$9249.push(between$9245);(between$9245=finalize$9242(current$9249));(v$9290=stack$9247.pop());;(left_op$9248=v$9290[0]);(current$9249=v$9290[1]);}else{if(($9269$9275===RIGHT$8075)){stack$9247.push([left_op$9248,current$9249]);(left_op$9248=right_op$9246);(current$9249=[[right_op$9246],between$9245]);(between$9245=finalize$9242(next$9240()));(right_op$9246=next$9240());}else{if(($9269$9275===BOTH$8076)){current$9249[0].push(right_op$9246);current$9249.push(between$9245);(left_op$9248=right_op$9246);(between$9245=finalize$9242(next$9240()));(right_op$9246=next$9240());}else{(other$9306=$9269$9275);throw $9895(["should_never_happen"]).create("undefined priority",({"left":left_op$9248,"right":right_op$9246}));}}}}}});;(finalize$8078=function($9311$9313){var t0$9322;var $index$9399;var $length$9394;var temp$9389;var $index$9429;var $length$9424;var temp$9419;var $index$9468;var $length$9463;var temp$9458;var acc$9453;var other$9696;var args$9691;var f$9679;var orig_args$9680;var args$9681;var $9654$9666;var $9655$9667;var t0$9662;var t1$9663;var t2$9664;var $9653$9657;var inserted$9549;var result$9550;var f$9707;var other$9766;var x$9759;var $9740$9750;var $9741$9751;var t0$9748;var $9739$9743;var result$9704;var f$9774;var oloc$9841;var abloc$9842;var oabloc$9843;var rval$9844;var a$9836;var b$9837;var $9366$9821;var $9367$9822;var $9368$9823;var $9369$9824;var t0$9814;var t1$9815;var t2$9816;var t3$9817;var t4$9818;var t5$9819;var other$9861;var $9365$9810;var target$9535;var _b$9536;var body$9537;var f$9527;var body$9528;var f$9515;var arg$9516;var body$9517;var $9370$9506;var $9371$9507;var $9372$9508;var $9373$9509;var $9374$9510;var $9375$9511;var $9376$9512;var t0$9495;var t1$9496;var t2$9497;var t3$9498;var t4$9499;var t5$9500;var t6$9501;var t7$9502;var t8$9503;var bridge$9364$9504;var $9363$9490;var sumloc$9377;var orig_ops$9378;var op$9379;var other$9865;var ops$9358;var args$9359;var value$9349;var value$9344;var value$9338;var $9316$9333;var $9317$9334;var $9318$9335;var t0$9331;var $9315$9326;var ph$9319;var token$9320;(t0$9322=$9311$9313);(token$9320=t0$9322);(ph$9319=t0$9322);;($9315$9326=ph$9319);;if((($9316$9333=($9315$9326 instanceof Array))&&((t0$9331=$9315$9326.length),(($9318$9335=(t0$9331===2))&&($9315$9326[0]==="ID"))))){(value$9338=$9315$9326[1]);return __lt____lt____colon__$8063(["symbol",value$9338],token$9320);}else{if(($9318$9335&&($9315$9326[0]==="NUM"))){(value$9344=$9315$9326[1]);return __lt____lt____colon__$8063(["value",value$9344],token$9320);}else{if(($9318$9335&&($9315$9326[0]==="STR"))){(value$9349=$9315$9326[1]);return __lt____lt____colon__$8063(["value",value$9349],token$9320);}else{if(($9316$9333&&((t0$9331===1)&&($9315$9326[0]==="VOID")))){return __lt____lt____colon__$8063(["void"],token$9320);}else{if(($9316$9333&&(t0$9331>=1))){(ops$9358=$9315$9326[0]);(args$9359=Array.prototype.slice.call($9315$9326,1));(sumloc$9377=ops$9358[0].location);;(temp$9389=ops$9358.slice(1));;($length$9394=temp$9389.length);;($index$9399=0);;$9380:for(;($index$9399<$length$9394);($index$9399++)){var op$9415;var m$9407;(m$9407=temp$9389[$index$9399]);;(op$9415=m$9407);(sumloc$9377=__plus____plus____colon__$8064(sumloc$9377,op$9415));}(temp$9419=args$9359);;($length$9424=temp$9419.length);;($index$9429=0);;$9382:for(;($index$9429<$length$9424);($index$9429++)){var arg$9445;var m$9437;(m$9437=temp$9419[$index$9429]);;(arg$9445=m$9437);(sumloc$9377=__plus____plus____colon__$8064(sumloc$9377,arg$9445));}(orig_ops$9378=ops$9358);;(ops$9358=(((acc$9453=[])),(((temp$9458=ops$9358)),((($length$9463=temp$9458.length)),((($index$9468=0)),function(){$9450:for(;($index$9468<$length$9463);($index$9468++)){var o$9484;var m$9476;(m$9476=temp$9458[$index$9468]);;(o$9484=m$9476);acc$9453.push(o$9484[2]);}}()))),acc$9453));(op$9379=ops$9358[0]);;($9363$9490=[ops$9358,args$9359]);;if((($9370$9506=($9363$9490 instanceof Array))&&((t0$9495=$9363$9490.length),(($9372$9508=(t0$9495===2))&&((t1$9496=$9363$9490[0]),(($9374$9510=(t1$9496 instanceof Array))&&((t2$9497=t1$9496.length),((t2$9497===2)&&((t1$9496[0]==="WHITE")&&((t1$9496[1]===":")&&((t3$9498=$9363$9490[1]),((t3$9498 instanceof Array)&&((t4$9499=t3$9498.length),(t4$9499===3)))))))))))))){(f$9515=t3$9498[0]);(arg$9516=t3$9498[1]);(body$9517=t3$9498[2]);return __lt____lt____colon__$8063(["send",f$9515,__lt____lt____colon__$8063(["data",arg$9516,body$9517],__plus____plus____colon__$8064(arg$9516,body$9517))],sumloc$9377);}else{if(($9374$9510&&(($9376$9512=(t2$9497===1))&&((t1$9496[0]===":")&&((t3$9498=$9363$9490[1]),((t3$9498 instanceof Array)&&((t4$9499=t3$9498.length),(t4$9499===2)))))))){(f$9527=t3$9498[0]);(body$9528=t3$9498[1]);return __lt____lt____colon__$8063(["send",f$9527,__lt____lt____colon__$8063(["data",body$9528],body$9528)],sumloc$9377);}else{if(($9376$9512&&((t1$9496[0]==="with")&&((t3$9498=$9363$9490[1]),((t3$9498 instanceof Array)&&((t4$9499=t3$9498.length),((t4$9499===2)&&((target$9535=t3$9498[0]),((t5$9500=t3$9498[1]),((_b$9536=t5$9500),((t6$9501=$10154(["multi"])(t5$9500)),(t6$9501[0]&&((t7$9502=t6$9501[1]),((t8$9503=t7$9502.length),(t8$9503>=0))))))))))))))){(body$9537=Array.prototype.slice.call(t7$9502,0));(inserted$9549=false);;(result$9550=transform$8065(target$9535,function($9556$9558){var t0$9564;var $index$9624;var $length$9619;var temp$9614;var tr$9602;var res$9603;var args$9597;var x$9585;var f$9586;var a$9587;var b$9588;var t0$9573;var t1$9574;var t2$9575;var $9560$9568;var ph$9561;var expr$9562;(t0$9564=$9556$9558);(expr$9562=t0$9564);(ph$9561=t0$9564);;($9560$9568=ph$9561);;if((($9560$9568 instanceof Array)&&((t0$9573=$9560$9568.length),((t0$9573===2)&&(($9560$9568[0]==="symbol")&&($9560$9568[1]==="...")))))){(inserted$9549=true);return __lt____lt____colon__$8063(["multi"].concat(body$9537),_b$9536);}else{(x$9585=$9560$9568);if((x$9585.fromop&&(($9560$9568 instanceof Array)&&((t0$9573=$9560$9568.length),((t0$9573===3)&&(($9560$9568[0]==="send")&&((f$9586=$9560$9568[1]),((t1$9574=$9560$9568[2]),((t1$9574 instanceof Array)&&((t2$9575=t1$9574.length),((t2$9575===3)&&(t1$9574[0]==="data")))))))))))){(a$9587=t1$9574[1]);(b$9588=t1$9574[2]);return ["send",this(f$9586),__lt____lt____colon__$8063(["data",this(a$9587),this(b$9588)],__plus____plus____colon__$8064(a$9587,b$9588))];}else{if((($9560$9568 instanceof Array)&&((t0$9573=$9560$9568.length),((t0$9573>=1)&&($9560$9568[0]==="data"))))){(args$9597=Array.prototype.slice.call($9560$9568,1));(tr$9602=this);;(res$9603=["data"]);;(temp$9614=args$9597);;($length$9619=temp$9614.length);;($index$9624=0);;$9604:for(;($index$9624<$length$9619);($index$9624++)){var other$9648;var t0$9637;var t1$9638;var m$9632;(m$9632=temp$9614[$index$9624]);;(t0$9637=m$9632);if(((t0$9637 instanceof Array)&&((t1$9638=t0$9637.length),((t1$9638===2)&&((t0$9637[0]==="symbol")&&(t0$9637[1]==="...")))))){(inserted$9549=true);(res$9603=res$9603.concat(body$9537));}else{(other$9648=m$9632);res$9603.push(__lt____lt____colon__$8063(tr$9602(other$9648),other$9648));}}return __lt____lt____colon__$8063(res$9603,expr$9562);}else{$9882($9560$9568);}}}}));;if((!inserted$9549)){($9653$9657=target$9535);;if((($9653$9657 instanceof Array)&&((t0$9662=$9653$9657.length),((t0$9662===1)&&($9653$9657[0]==="void"))))){return __lt____lt____colon__$8063(["data"].concat(body$9537),sumloc$9377);}else{$9653$9657;if(target$9535.fromop){return __lt____lt____colon__$8063(["send",target$9535,__lt____lt____colon__$8063(["data"].concat(body$9537),_b$9536)],sumloc$9377);}else{if((($9654$9666=($9653$9657 instanceof Array))&&((t0$9662=$9653$9657.length),((t0$9662===3)&&(($9653$9657[0]==="send")&&((f$9679=$9653$9657[1]),((t1$9663=$9653$9657[2]),((orig_args$9680=t1$9663),((t1$9663 instanceof Array)&&((t2$9664=t1$9663.length),((t2$9664>=1)&&(t1$9663[0]==="data")))))))))))){(args$9681=Array.prototype.slice.call(t1$9663,1));return __lt____lt____colon__$8063(["send",f$9679,__lt____lt____colon__$8063(["data"].concat(args$9681).concat(body$9537),__plus____plus____colon__$8064(orig_args$9680,_b$9536))],sumloc$9377);}else{if(($9654$9666&&((t0$9662>=1)&&($9653$9657[0]==="data")))){(args$9691=Array.prototype.slice.call($9653$9657,1));return __lt____lt____colon__$8063(target$9535.concat(body$9537),sumloc$9377);}else{(other$9696=$9653$9657);return __lt____lt____colon__$8063(["send",target$9535,__lt____lt____colon__$8063(["data"].concat(body$9537),_b$9536)],sumloc$9377);}}}}}else{return __lt____lt____colon__$8063(result$9550,sumloc$9377);}}else{if(($9374$9510&&(($9376$9512=(t2$9497>=1))&&((bridge$9364$9504=t1$9496[0]),((bridge$9364$9504==="[")||(bridge$9364$9504===",")))))){Array.prototype.slice.call(t1$9496,1);$9363$9490[1];if((op$9379==="[")){(args$9359=args$9359.slice(1,-1));}(args$9359=(((f$9707=function($9710$9712){var other$9734;var t0$9725;var $9714$9720;var ph$9715;(ph$9715=$9710$9712);;($9714$9720=ph$9715);;if((($9714$9720 instanceof Array)&&((t0$9725=$9714$9720.length),((t0$9725===1)&&($9714$9720[0]==="void"))))){return false;}else{(other$9734=$9714$9720);return true;}})),args$9359.filter(f$9707)));(result$9704=((($9739$9743=args$9359)),function(){if((($9740$9750=($9739$9743 instanceof Array))&&((t0$9748=$9739$9743.length),(t0$9748===0)))){return ["value",(void 0)];}else{if(($9740$9750&&(t0$9748===1))){(x$9759=$9739$9743[0]);if(((!isNaN(sumloc$9377.start))&&(!isNaN(sumloc$9377.end)))){(x$9759["location"]=sumloc$9377);}return x$9759;}else{(other$9766=$9739$9743);return ["multi"].concat(args$9359);}}}()));;return __lt____lt____colon__$8063(result$9704,sumloc$9377);}else{if(($9376$9512&&(t1$9496[0]==="{"))){Array.prototype.slice.call(t1$9496,1);$9363$9490[1];(f$9774=function($9777$9779){var other$9801;var t0$9792;var $9781$9787;var ph$9782;(ph$9782=$9777$9779);;($9781$9787=ph$9782);;if((($9781$9787 instanceof Array)&&((t0$9792=$9781$9787.length),((t0$9792===1)&&($9781$9787[0]==="void"))))){return false;}else{(other$9801=$9781$9787);return true;}});;return __lt____lt____colon__$8063(["data"].concat(args$9359.slice(1,-1).filter(f$9774)),sumloc$9377);}else{if(($9374$9510&&(($9376$9512=(t2$9497===1))&&(t1$9496[0]==="WHITE")))){$9363$9490[1];return __lt____lt____colon__$8063(["send"].concat(args$9359),sumloc$9377);}else{if($9376$9512){t1$9496[0];($9365$9810=$9363$9490[1]);(t0$9814=$9365$9810);if((($9367$9822=(t0$9814 instanceof Array))&&((t1$9815=t0$9814.length),(($9369$9824=(t1$9815===2))&&((t2$9816=t0$9814[0]),((t2$9816 instanceof Array)&&((t3$9817=t2$9816.length),((t3$9817===1)&&((t2$9816[0]==="void")&&((t4$9818=t0$9814[1]),((t4$9818 instanceof Array)&&((t5$9819=t4$9818.length),((t5$9819===1)&&(t4$9818[0]==="void")))))))))))))){return __lt____lt____colon__$8063(["symbol",op$9379],orig_ops$9378[0]);}else{if($9369$9824){(a$9836=t0$9814[0]);(b$9837=t0$9814[1]);(oloc$9841=orig_ops$9378[0].location);;(abloc$9842=__plus____plus____colon__$8064(a$9836,b$9837));;(oabloc$9843=__plus____plus____colon__$8064(orig_ops$9378[0],abloc$9842));;(rval$9844=__lt____lt____colon__$8063(["send",__lt____lt____colon__$8063(["symbol",op$9379],oloc$9841),__lt____lt____colon__$8063(["data",a$9836,b$9837],abloc$9842)],__plus____plus____colon__$8064(oloc$9841,abloc$9842)));;(rval$9844["fromop"]=true);return rval$9844;}else{$9882($9365$9810,"/home/olivier/git/earl-grey/src/parse.eg",17040,17045);}}}else{(other$9861=$9363$9490);throw $9895(["should_never_happen"]).create("unknown node",({"node":token$9320}));}}}}}}}}else{(other$9865=$9315$9326);throw $9895(["should_never_happen"]).create("unknown node (B)",({"node":token$9320}));}}}}}});;(parse$8079=function(tokens$9871){var next$9874;(next$9874=function(){return tokens$9871.shift();});;return oparse$8077(next$9874,eg_order$8071.compare.bind(eg_order$8071),finalize$8078);});;(exports["parse"]=parse$8079);(exports["oparse"]=oparse$8077);(exports["finalize"]=finalize$8078);(exports["DONE"]=DONE$8072);(exports["NONE"]=NONE$8073);(exports["LEFT"]=LEFT$8074);(exports["RIGHT"]=RIGHT$8075);(exports["BOTH"]=BOTH$8076);
