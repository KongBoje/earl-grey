var $9557=function(type$9559){var f$9562;(f$9562=type$9559["::check"]);if((f$9562===(void 0))){return function(value$9567){return (value$9567 instanceof type$9559);};}else{return function(value$9570){return f$9562.call(type$9559,value$9570);};}};
var $9572=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $9573=function(dest$9575,values$9576){var k$9581;(k$9581=null);$9579:for(k$9581 in values$9576){if(values$9576.hasOwnProperty(k$9581)){(dest$9575[k$9581]=values$9576[k$9581]);}}return dest$9575;};
var $9588=function($9589$9591){var ph$9595;(ph$9595=$9589$9591);var $9593$9600;($9593$9600=ph$9595);var bridge$9594$9605;var x$9609;(bridge$9594$9605=$9593$9600);if((((typeof(bridge$9594$9605)==="string")&&((x$9609=bridge$9594$9605),true))||((typeof(bridge$9594$9605)==="number")&&((x$9609=bridge$9594$9605),true)))){return ["value",x$9609];}else{var other$9619;(other$9619=$9593$9600);return other$9619["::serialize_ast"]();}};
var send$9364;(send$9364=function(obj$9369,$9367$9370){var ph$9374;var msg$9375;var t0$9377;(t0$9377=$9367$9370);(msg$9375=t0$9377);(ph$9374=t0$9377);var $9372$9384;($9372$9384=ph$9374);var bridge$9373$9389;(bridge$9373$9389=$9372$9384);if(((typeof(bridge$9373$9389)==="string")||(typeof(bridge$9373$9389)==="number"))){return obj$9369[msg$9375];}else{var other$9400;(other$9400=$9372$9384);return obj$9369["::send"](msg$9375);}});(Array[":::project"]=function($9405$9407){var ph$9410;var value$9411;var t0$9413;(t0$9413=$9405$9407);(value$9411=t0$9413);(ph$9410=t0$9413);var $9409$9420;($9409$9420=ph$9410);if($9557(Array)($9409$9420)){return [true,value$9411];}else{$9409$9420;return [true,[value$9411]];}});(Array.prototype["::check"]=function(value$9437){if((value$9437 instanceof Array)){var i$9442;(i$9442=0);$9440:for(;(i$9442<this.length);(i$9442++)){if(($9572(this,i$9442)!==$9572(value$9437,i$9442))){return false;}}return true;}else{return false;}});(Array.prototype["::clone"]=function(){return $9573(this.slice(0),this);});(Array.prototype[":::project"]=function(value$9459){if((value$9459 instanceof Array)){var i$9464;(i$9464=0);$9462:for(;(i$9464<this.length);(i$9464++)){if(($9572(this,i$9464)!==$9572(value$9459,i$9464))){return [true,[value$9459]];}}return [true,value$9459.slice(this.length)];}else{return [true,[value$9459]];}});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($9588));});(RegExp.prototype["::check"]=function($9480$9482){var ph$9485;(ph$9485=$9480$9482);var $9484$9490;($9484$9490=ph$9485);var value$9498;if((typeof($9484$9490)==="string")){(value$9498=$9484$9490);if(value$9498.match(this)){return true;}else{return false;}}else{var other$9503;(other$9503=$9484$9490);return false;}});(RegExp.prototype[":::project"]=function($9508$9510){var ph$9513;(ph$9513=$9508$9510);var $9512$9518;($9512$9518=ph$9513);var value$9526;if((typeof($9512$9518)==="string")){(value$9526=$9512$9518);var $9529$9531;($9529$9531=value$9526.match(this));var m$9539;if(($9529$9531===null)){(m$9539=$9529$9531);return [false,null];}else{var m$9544;(m$9544=$9529$9531);return [true,m$9544];}}else{var other$9548;(other$9548=$9512$9518);return [false,null];}});(Function.prototype["::send"]=function(args$9554){return this.apply(this,args$9554);});
var $12134=function(arr$12136){var results$12140;var l$12141;(results$12140=[]);(l$12141=arr$12136.length);var i$12149;(i$12149=0);$12139:for(;(i$12149<l$12141);(i$12149++)){results$12140.push([i$12149,$9572(arr$12136,i$12149)]);}return results$12140;};
var $11938=function(){var $11939$11941;($11939$11941=function(tags$11945){var it$0$11948;(it$0$11948=function(){if((!$9557($11939$11941)(this))){return Object.create($11939$11941.prototype);}else{return this;}}());(it$0$11948["tags"]=tags$11945);return it$0$11948;});($11939$11941.prototype["create"]=function(){var $11960$11962;($11960$11962=arguments);var t0$11967;var message$11971;var args$11972;(t0$11967=$11960$11962.length);if((t0$11967>=0)){(message$11971=function(){if((0>=t0$11967)){return "";}else{return $11960$11962[0];}}());(args$11972=Array.prototype.slice.call($11960$11962,1));var it$0$11979;(it$0$11979=this);var self$11984;(self$11984=this);var e$11989;(e$11989=Error(message$11971));(e$11989["::tags"]=it$0$11979.tags);(e$11989["args"]=args$11972);var temp$12003;(temp$12003=$12134(args$11972));var $length$12008;($length$12008=temp$12003.length);var $index$12013;($index$12013=0);$11990:for(;($index$12013<$length$12008);($index$12013++)){var m$12021;(m$12021=temp$12003[$index$12013]);var t0$12026;var t1$12027;var i$12031;var arg$12032;(t0$12026=m$12021);if(((t0$12026 instanceof Array)&&(((t1$12027=t0$12026.length)),(t1$12027===2)))){(i$12031=t0$12026[0]);(arg$12032=t0$12026[1]);(e$11989[i$12031]=arg$12032);}else{$11922(m$12021);}}(e$11989["length"]=args$11972.length);(e$11989["name"]=["E"].concat(it$0$11979.tags).join("."));return e$11989;}else{$11922($11960$11962);}});($11939$11941.prototype["::check"]=function(e$12058){var it$0$12061;(it$0$12061=this);var self$12066;(self$12066=this);var tags$12071;if(((!e$12058)||(!$9557(Error)(e$12058)))){return false;}(tags$12071=(e$12058["::tags"]||[]));var temp$12080;(temp$12080=it$0$12061.tags);var $length$12085;($length$12085=temp$12080.length);var $index$12090;($index$12090=0);$12072:for(;($index$12090<$length$12085);($index$12090++)){var m$12098;(m$12098=temp$12080[$index$12090]);var tag$12106;(tag$12106=m$12098);if((tags$12071.indexOf(tag$12106)===-1)){return false;}else{false;}}return true;});($11939$11941.prototype["::deconstruct"]=function(e$12114){var it$0$12117;(it$0$12117=this);var self$12122;(self$12122=this);return e$12114.args;});$9573($11939$11941,$9573(function(){var accum$12127;(accum$12127=({}));(accum$12127["::name"]="$11939");return accum$12127;}(),function(){var accum$12131;(accum$12131=({}));(accum$12131["::egclass"]=true);return accum$12131;}()));return $11939$11941;}();
var $11922=function(value$11924,url$11925,start$11926,end$11927){var err$11930;(err$11930=$11938(["match"]).create("Could not find a match for value",({"value":value$11924})));if(url$11925){(err$11930["location"]=["location",url$11925,start$11926,end$11927]);}throw err$11930;};
var $12156=function(obj$12158){var results$12162;(results$12162=[]);var k$12167;(k$12167=null);$12161:for(k$12167 in obj$12158){if(Object.prototype.hasOwnProperty.call(obj$12158,k$12167)){results$12162.push([k$12167,$9572(obj$12158,k$12167)]);}}return results$12162;};
var $12171=function(arrays$12173){var results$12176;(results$12176=[]);var temp$12184;(temp$12184=arrays$12173);var $length$12189;($length$12189=temp$12184.length);var $index$12194;($index$12194=0);$12177:for(;($index$12194<$length$12189);($index$12194++)){var m$12202;(m$12202=temp$12184[$index$12194]);var a$12210;(a$12210=m$12202);(results$12176=results$12176.concat(a$12210));}return results$12176;};
var $12215=function(type$12217){return function(value$12220){var f$12223;(f$12223=type$12217[":::project"]);if((f$12223===(void 0))){(f$12223=type$12217["::project"]);if((f$12223===(void 0))){return [true,type$12217(value$12220)];}else{var rval$12232;(rval$12232=false);try{(rval$12232=[true,f$12223(value$12220)]);}catch(excv$12241){var e$12247;(e$12247=excv$12241);(rval$12232=[false,null]);}return rval$12232;}}else{return f$12223.call(type$12217,value$12220);}};};
var $12385=Object.keys;
var $12386=function($12387$12389,key$12390){var ph$12394;(ph$12394=$12387$12389);var $12392$12399;($12392$12399=ph$12394);var bridge$12393$12404;(bridge$12393$12404=$12392$12399);if(((bridge$12393$12404===null)||(bridge$12393$12404===(void 0)))){return false;}else{var x$12415;if((typeof($12392$12399)==="string")){(x$12415=$12392$12399);return (key$12390 in String.prototype);}else{var x$12420;if((typeof($12392$12399)==="number")){(x$12420=$12392$12399);return (key$12390 in Number.prototype);}else{var x$12425;(x$12425=$12392$12399);return (key$12390 in x$12425);}}}};
var $12252=function($12253$12255,b$12256){var ph$12262;var a$12263;var t0$12265;(t0$12265=$12253$12255);(a$12263=t0$12265);(ph$12262=t0$12265);var $12258$12272;($12258$12272=ph$12262);var bridge$12259$12277;if(($12258$12272===b$12256)){return true;}else{(bridge$12259$12277=$12258$12272);if((function(){var bridge$12260$12290;(bridge$12260$12290=bridge$12259$12277);return (function(){var bridge$12261$12296;(bridge$12261$12296=bridge$12260$12290);return ((typeof(bridge$12261$12296)==="number")||(typeof(bridge$12261$12296)==="string"));}()||(bridge$12260$12290===null));}()||(bridge$12259$12277===(void 0)))){return false;}else{if($9557(Array)($12258$12272)){if(((!$9557(Array)(b$12256))||(a$12263.length!==b$12256.length))){return false;}var i$12310;(i$12310=0);$12307:for(;(i$12310<a$12263.length);(i$12310++)){if((!$12252(a$12263[i$12310],b$12256[i$12310]))){return false;}}return true;}else{$12258$12272;if(((Object.getPrototypeOf(a$12263)===Object.prototype)&&(Object.getPrototypeOf(b$12256)===Object.prototype))){var ka$12323;(ka$12323=$12385(a$12263));if((!$12252(ka$12323.sort(),$12385(b$12256).sort()))){return false;}var temp$12332;(temp$12332=ka$12323);var $length$12337;($length$12337=temp$12332.length);var $index$12342;($index$12342=0);$12324:for(;($index$12342<$length$12337);($index$12342++)){var m$12350;(m$12350=temp$12332[$index$12342]);var k$12358;(k$12358=m$12350);if((!$12252(a$12263[k$12358],b$12256[k$12358]))){return false;}}return true;}else{if($12386($12258$12272,"::serialize")){$12258$12272["::serialize"];var $12365$12367;($12365$12367=b$12256);if($12386($12365$12367,"::serialize")){$12365$12367["::serialize"];return $12252(a$12263["::serialize"](),b$12256["::serialize"]());}else{var otherwise$12379;(otherwise$12379=$12365$12367);return false;}}else{var otherwise$12383;(otherwise$12383=$12258$12272);return false;}}}}}};
var $12427=function(pairs$12429){var rval$12432;(rval$12432=({}));var temp$12440;(temp$12440=pairs$12429);var $length$12445;($length$12445=temp$12440.length);var $index$12450;($index$12450=0);$12433:for(;($index$12450<$length$12445);($index$12450++)){var m$12458;(m$12458=temp$12440[$index$12450]);var t0$12463;var t1$12464;var k$12468;var v$12469;(t0$12463=m$12458);if(((t0$12463 instanceof Array)&&(((t1$12464=t0$12463.length)),(t1$12464===2)))){(k$12468=t0$12463[0]);(v$12469=t0$12463[1]);(rval$12432[k$12468]=v$12469);}else{$11922(m$12458);}}return rval$12432;};var accum$10105;var accum$10109;var accum$10315;var accum$10749;var accum$10753;var accum$10935;var accum$10939;var accum$10943;var accum$10947;var accum$10951;var accum$10958;var accum$10962;var accum$10966;var accum$10970;var accum$10974;var eg_groups$10762;var eg_prio$10763;var $9623$9624;var __lt____lt____colon__$9625;var __plus____plus____colon__$9626;var transform$9627;var OperatorGroups$9628;var parse_op_description$9629;var eg_groups$9630;var SimplePriority$9631;var MAX$9632;var eg_order$9633;var DONE$9634;var NONE$9635;var LEFT$9636;var RIGHT$9637;var BOTH$9638;var oparse$9639;var finalize$9640;var parse$9641;($9623$9624=require("./location"));(__lt____lt____colon__$9625=$9623$9624["<<:"]);(__plus____plus____colon__$9626=$9623$9624["++:"]);(transform$9627=function(expr$9654,cb$9655){var rval$9669;var tr$9658;var result$9659;(tr$9658=function(x$9663){return transform$9627(x$9663,cb$9655);});(result$9659=(((rval$9669=false)),(function(){try{(rval$9669=cb$9655.call(tr$9658,expr$9654));}catch(excv$9678){var name$9723;var args$9724;var v$9718;var s$9713;var $9689$9700;var $9690$9701;var $9691$9702;var t0$9698;var $9688$9693;var e$9684;(e$9684=excv$9678);(rval$9669=((($9688$9693=expr$9654)),function(){if((($9689$9700=($9688$9693 instanceof Array))&&(((t0$9698=$9688$9693.length)),((t0$9698===1)&&($9688$9693[0]==="void"))))){return ["void"];}else{if(($9689$9700&&(($9691$9702=(t0$9698===2))&&($9688$9693[0]==="symbol")))){(s$9713=$9688$9693[1]);return expr$9654;}else{if(($9691$9702&&($9688$9693[0]==="value"))){(v$9718=$9688$9693[1]);return expr$9654;}else{if(($9689$9700&&(t0$9698>=1))){(name$9723=$9688$9693[0]);(args$9724=Array.prototype.slice.call($9688$9693,1));return [name$9723].concat(args$9724.map(tr$9658));}else{$11922($9688$9693);}}}}}()));}}(),rval$9669)));return __lt____lt____colon__$9625(result$9659,expr$9654);});(OperatorGroups$9628=function(groups$9735){var $index$9770;var $length$9765;var temp$9760;var acc$9755;var $index$9822;var $length$9817;var temp$9812;var acc$9807;var $index$9914;var $length$9909;var temp$9904;var acc$9899;var itg$9744;var it$0$9738;(it$0$9738=function(){if((!$9557(OperatorGroups$9628)(this))){return Object.create(OperatorGroups$9628.prototype);}else{return this;}}());(itg$9744=$12156(groups$9735));(it$0$9738["gnames"]=(((acc$9755=[])),(((temp$9760=itg$9744)),((($length$9765=temp$9760.length)),((($index$9770=0)),function(){$9752:for(;($index$9770<$length$9765);($index$9770++)){var name$9788;var t0$9783;var t1$9784;var m$9778;(m$9778=temp$9760[$index$9770]);(t0$9783=m$9778);if(((t0$9783 instanceof Array)&&(((t1$9784=t0$9783.length)),(t1$9784===2)))){(name$9788=t0$9783[0]);t0$9783[1];acc$9755.push(name$9788);}else{$11922(m$9778,"/home/olivier/git/earl-grey/src/parse.eg",503,529);}}}()))),acc$9755));(it$0$9738["groups"]=(((acc$9807=[])),(((temp$9812=itg$9744)),((($length$9817=temp$9812.length)),((($index$9822=0)),function(){$9804:for(;($index$9822<$length$9817);($index$9822++)){var $index$9870;var $length$9865;var temp$9860;var acc$9855;var name$9840;var descrs$9841;var t0$9835;var t1$9836;var m$9830;(m$9830=temp$9812[$index$9822]);(t0$9835=m$9830);if(((t0$9835 instanceof Array)&&(((t1$9836=t0$9835.length)),(t1$9836===2)))){(name$9840=t0$9835[0]);(descrs$9841=t0$9835[1]);acc$9807.push($12171((((acc$9855=[])),(((temp$9860=descrs$9841)),((($length$9865=temp$9860.length)),((($index$9870=0)),function(){$9852:for(;($index$9870<$length$9865);($index$9870++)){var descr$9886;var m$9878;(m$9878=temp$9860[$index$9870]);(descr$9886=m$9878);acc$9855.push(parse_op_description$9629(descr$9886));}}()))),acc$9855)));}else{$11922(m$9830,"/home/olivier/git/earl-grey/src/parse.eg",546,643);}}}()))),acc$9807));(it$0$9738["fns"]=[]);(it$0$9738["to_gid"]=({"IFX":({"wide":({}),"short":({})}),"PFX":({"wide":({}),"short":({})}),"SFX":({"wide":({}),"short":({})})}));(acc$9899=[]);(temp$9904=$12134(it$0$9738.groups));($length$9909=temp$9904.length);($index$9914=0);$9745:for(;($index$9914<$length$9909);($index$9914++)){var $index$9962;var $length$9957;var temp$9952;var acc$9947;var i$9932;var group$9933;var t0$9927;var t1$9928;var m$9922;(m$9922=temp$9904[$index$9914]);(t0$9927=m$9922);if(((t0$9927 instanceof Array)&&(((t1$9928=t0$9927.length)),(t1$9928===2)))){(i$9932=t0$9927[0]);(group$9933=t0$9927[1]);acc$9899.push((((acc$9947=[])),(((temp$9952=group$9933)),((($length$9957=temp$9952.length)),((($index$9962=0)),function(){$9944:for(;($index$9962<$length$9957);($index$9962++)){var f$9998;var fixity$9980;var width$9981;var name$9982;var t0$9975;var t1$9976;var m$9970;(m$9970=temp$9952[$index$9962]);(t0$9975=m$9970);if(((t0$9975 instanceof Array)&&(((t1$9976=t0$9975.length)),(t1$9976===3)))){(fixity$9980=t0$9975[0]);(width$9981=t0$9975[1]);(name$9982=t0$9975[2]);acc$9947.push((($9572($9572(it$0$9738.to_gid,fixity$9980),width$9981)[name$9982]=i$9932)));}else{(f$9998=m$9970);acc$9947.push(it$0$9738.fns.push([f$9998,i$9932]));}}}()))),acc$9947));}else{$11922(m$9922,"/home/olivier/git/earl-grey/src/parse.eg",808,1009);}}acc$9899;return it$0$9738;});(OperatorGroups$9628.prototype["get_name"]=function(o$10007){var self$10015;var it$0$10010;(it$0$10010=this);(self$10015=this);return $9572(it$0$10010.gnames,it$0$10010.get(o$10007));});(OperatorGroups$9628.prototype["get"]=function($10021$10023){var t0$10030;var t1$10031;var $index$10072;var $length$10067;var temp$10062;var attempt$10053;var self$10048;var it$0$10043;var o$10025;var fixity$10026;var width$10027;var name$10028;(t0$10030=$10021$10023);(o$10025=t0$10030);if(((t0$10030 instanceof Array)&&(((t1$10031=t0$10030.length)),(t1$10031===3)))){(fixity$10026=t0$10030[0]);(width$10027=t0$10030[1]);(name$10028=t0$10030[2]);}else{$11922($10021$10023);}(it$0$10043=this);(self$10048=this);(attempt$10053=$9572($9572($9572(it$0$10043.to_gid,fixity$10026),width$10027),name$10028));if((attempt$10053===(void 0))){(temp$10062=it$0$10043.fns);($length$10067=temp$10062.length);($index$10072=0);$10058:for(;($index$10072<$length$10067);($index$10072++)){var f$10090;var i$10091;var t0$10085;var t1$10086;var m$10080;(m$10080=temp$10062[$index$10072]);(t0$10085=m$10080);if(((t0$10085 instanceof Array)&&(((t1$10086=t0$10085.length)),(t1$10086===2)))){(f$10090=t0$10085[0]);(i$10091=t0$10085[1]);if(f$10090(o$10025)){return i$10091;}}else{$11922(m$10080,"/home/olivier/git/earl-grey/src/parse.eg",1188,1271);}}throw $11938(["syntax","unknown_operator"]).create(("Unknown operator: "+[true,String(o$10025)][1]),({"operator":o$10025}));}else{return attempt$10053;}});$9573(OperatorGroups$9628,$9573(((accum$10105=({})),((accum$10105["::name"]="OperatorGroups"),accum$10105)),((accum$10109=({})),((accum$10109["::egclass"]=true),accum$10109))));OperatorGroups$9628;(parse_op_description$9629=function($10114$10116){var otherwise$10192;var $10173$10181;var $10172$10175;var otherwise$10221;var $10202$10210;var $10201$10204;var t0$10167;var t1$10168;var fixity$10164;var short$10165;var other$10225;var x$10145;var w1$10146;var op$10147;var w2$10148;var y$10149;var f$10140;var rx$10134;var t0$10129;var t1$10130;var t2$10131;var $10118$10124;var ph$10119;(ph$10119=$10114$10116);($10118$10124=ph$10119);(rx$10134=RegExp("(?:^((?:X?))((?:[ _]?))((?:[^ _Y]*))((?:[ _]?))((?:Y?))$)",""));if($9557(Function)($10118$10124)){(f$10140=$10118$10124);return f$10140;}else{(t0$10129=$12215(rx$10134)($10118$10124));if((t0$10129[0]&&(((t1$10130=t0$10129[1])),(((t2$10131=t1$10130.length)),(t2$10131===6))))){t1$10130[0];(x$10145=t1$10130[1]);(w1$10146=t1$10130[2]);(op$10147=t1$10130[3]);(w2$10148=t1$10130[4]);(y$10149=t1$10130[5]);(t0$10167=((($10172$10175=null)),($10172$10175,function(){if((x$10145==="")){return ["PFX",(w2$10148==="")];}else{if((y$10149==="")){return ["SFX",(w1$10146==="")];}else{(otherwise$10192=$10172$10175);return ["IFX",((w1$10146==="")||(w2$10148===""))];}}}())));if(((t0$10167 instanceof Array)&&(((t1$10168=t0$10167.length)),(t1$10168===2)))){(fixity$10164=t0$10167[0]);(short$10165=t0$10167[1]);}else{$11922(((($10201$10204=null)),($10201$10204,function(){if((x$10145==="")){return ["PFX",(w2$10148==="")];}else{if((y$10149==="")){return ["SFX",(w1$10146==="")];}else{(otherwise$10221=$10201$10204);return ["IFX",((w1$10146==="")||(w2$10148===""))];}}}())),"/home/olivier/git/earl-grey/src/parse.eg",1642,1860);}if(((w1$10146==="_")||(w2$10148==="_"))){return [[fixity$10164,"short",op$10147],[fixity$10164,"wide",op$10147]];}else{return [[fixity$10164,function(){if(short$10165){return "short";}else{return "wide";}}(),op$10147]];}}else{(other$10225=$10118$10124);throw $11938(["invalid_op_description"]).create(("Invalid operator description: "+other$10225));}}});(eg_groups$9630=OperatorGroups$9628($9573(({"tokenpfx":[".Y","#Y","@Y"],"sjuxt":["XWHITEY"],"ifx":[function($10230$10232){var t0$10245;var $10234$10240;var ph$10235;(ph$10235=$10230$10232);($10234$10240=ph$10235);if((($10234$10240 instanceof Array)&&(((t0$10245=$10234$10240.length)),((t0$10245===3)&&(($10234$10240[0]==="IFX")&&($10234$10240[1]==="short")))))){$10234$10240[2];return true;}else{$10234$10240;return false;}}],"pfx":[function($10258$10260){var t0$10273;var $10262$10268;var ph$10263;(ph$10263=$10258$10260);($10262$10268=ph$10263);if((($10262$10268 instanceof Array)&&(((t0$10273=$10262$10268.length)),((t0$10273===3)&&(($10262$10268[0]==="PFX")&&($10262$10268[1]==="short")))))){$10262$10268[2];return true;}else{$10262$10268;return false;}}],"sfx":[function($10286$10288){var t0$10301;var $10290$10296;var ph$10291;(ph$10291=$10286$10288);($10290$10296=ph$10291);if((($10290$10296 instanceof Array)&&(((t0$10301=$10290$10296.length)),((t0$10301===3)&&(($10290$10296[0]==="SFX")&&($10290$10296[1]==="short")))))){$10290$10296[2];return true;}else{$10290$10296;return false;}}],"pow":["X ** Y"],"mul":["X * Y","X / Y","X // Y","X mod Y","+ Y","- Y"],"add":["X + Y","X - Y"],"cmp":["X < Y","X <= Y","X == Y","X > Y","X >= Y","X != Y"],"cat":["X ++ Y"],"union":["X & Y"],"range":["X .. Y","X ..",".. Y"],"in":["X in Y"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"and":"X and Y","or":"X or Y","not":"not Y"}),$9573(((accum$10315=({})),((accum$10315["with"]=["X with Y"]),accum$10315)),({"decl":["X -> Y","X = Y","X := Y","X => Y","X where Y","X when Y","X each Y"],"brack":["X_,_Y","(_Y","[_Y","{_Y","X_)","X_]","X_}"],"custom":[function(x$10319){return true;}]})))));(SimplePriority$9631=function(groups$10325,priorities$10326){var $index$10366;var $length$10361;var temp$10356;var acc$10351;var _i$10335;var tracks$10336;var it$0$10329;(it$0$10329=function(){if((!$9557(SimplePriority$9631)(this))){return Object.create(SimplePriority$9631.prototype);}else{return this;}}());(it$0$10329["groups"]=groups$10325);(_i$10335=0);(tracks$10336=({}));(it$0$10329["prio"]=(((acc$10351=[])),(((temp$10356=groups$10325.gnames)),((($length$10361=temp$10356.length)),((($index$10366=0)),function(){$10348:for(;($index$10366<$length$10361);($index$10366++)){var t0$10393;var t1$10394;var t2$10395;var t3$10396;var t4$10397;var t5$10398;var t6$10399;var t7$10400;var $index$10461;var $length$10456;var temp$10451;var acc$10446;var $index$10564;var $length$10559;var temp$10554;var acc$10549;var t0$10438;var t1$10439;var ltracks$10386;var lp$10387;var rtracks$10388;var rp$10389;var lt$10390;var rt$10391;var name$10382;var m$10374;(m$10374=temp$10356[$index$10366]);(name$10382=m$10374);acc$10351.push(((((t0$10393=$9572(priorities$10326,name$10382))),function(){if(((t0$10393 instanceof Array)&&(((t1$10394=t0$10393.length)),((t1$10394===2)&&(((t2$10395=t0$10393[0])),((t2$10395 instanceof Array)&&(((t3$10396=t2$10395.length)),((t3$10396===2)&&(((t4$10397=$12215(Array)(t2$10395[0]))),(t4$10397[0]&&((ltracks$10386=t4$10397[1]),((lp$10387=t2$10395[1]),(((t5$10398=t0$10393[1])),((t5$10398 instanceof Array)&&(((t6$10399=t5$10398.length)),((t6$10399===2)&&(((t7$10400=$12215(Array)(t5$10398[0]))),t7$10400[0]))))))))))))))))){(rtracks$10388=t7$10400[1]);(rp$10389=t5$10398[1]);}else{return $11922($9572(priorities$10326,name$10382),"/home/olivier/git/earl-grey/src/parse.eg",3545,3571);}}()),(((t0$10438=(((acc$10446=[])),(((temp$10451=[ltracks$10386,rtracks$10388])),((($length$10456=temp$10451.length)),((($index$10461=0)),function(){$10443:for(;($index$10461<$length$10456);($index$10461++)){var $index$10499;var $length$10494;var temp$10489;var rval$10481;var tr$10477;var m$10469;(m$10469=temp$10451[$index$10461]);(tr$10477=m$10469);acc$10446.push((((rval$10481=0)),(((temp$10489=tr$10477)),((($length$10494=temp$10489.length)),((($index$10499=0)),function(){$10482:for(;($index$10499<$length$10494);($index$10499++)){var t$10534;var t$10522;var m$10507;(m$10507=temp$10489[$index$10499]);if((m$10507==="all")){(rval$10481=(Math.pow(2,31)-1));}else{(t$10522=m$10507);if((!$9572(tracks$10336,t$10522))){(rval$10481=(rval$10481|Math.pow(2,_i$10335)));(tracks$10336[t$10522]=(_i$10335++));}else{(t$10534=m$10507);(rval$10481=(rval$10481|Math.pow(2,$9572(tracks$10336,t$10534))));}}}}()))),rval$10481));}}()))),acc$10446))),function(){if(((t0$10438 instanceof Array)&&(((t1$10439=t0$10438.length)),(t1$10439===2)))){(lt$10390=t0$10438[0]);(rt$10391=t0$10438[1]);}else{return $11922((((acc$10549=[])),(((temp$10554=[ltracks$10386,rtracks$10388])),((($length$10559=temp$10554.length)),((($index$10564=0)),function(){$10546:for(;($index$10564<$length$10559);($index$10564++)){var $index$10602;var $length$10597;var temp$10592;var rval$10584;var tr$10580;var m$10572;(m$10572=temp$10554[$index$10564]);(tr$10580=m$10572);acc$10549.push((((rval$10584=0)),(((temp$10592=tr$10580)),((($length$10597=temp$10592.length)),((($index$10602=0)),function(){$10585:for(;($index$10602<$length$10597);($index$10602++)){var t$10637;var t$10625;var m$10610;(m$10610=temp$10592[$index$10602]);if((m$10610==="all")){(rval$10584=(Math.pow(2,31)-1));}else{(t$10625=m$10610);if((!$9572(tracks$10336,t$10625))){(rval$10584=(rval$10584|Math.pow(2,_i$10335)));(tracks$10336[t$10625]=(_i$10335++));}else{(t$10637=m$10610);(rval$10584=(rval$10584|Math.pow(2,$9572(tracks$10336,t$10637))));}}}}()))),rval$10584));}}()))),acc$10549),"/home/olivier/git/earl-grey/src/parse.eg",3581,3902);}}()),[[lt$10390,lp$10387],[rt$10391,rp$10389]]));}}()))),acc$10351));return it$0$10329;});(SimplePriority$9631.prototype["compare"]=function(op1$10647,op2$10648){var t0$10676;var t1$10677;var t2$10678;var t3$10679;var t0$10700;var t1$10701;var t2$10702;var t3$10703;var $10662$10729;var $10661$10723;var i1$10663;var i2$10664;var code1$10665;var ord1$10666;var code2$10667;var ord2$10668;var self$10656;var it$0$10651;(it$0$10651=this);(self$10656=this);(i1$10663=it$0$10651.groups.get(op1$10647));(i2$10664=it$0$10651.groups.get(op2$10648));(t0$10676=$9572(it$0$10651.prio,i1$10663));if(((t0$10676 instanceof Array)&&(((t1$10677=t0$10676.length)),((t1$10677===2)&&(t0$10676[0],(((t2$10678=t0$10676[1])),((t2$10678 instanceof Array)&&(((t3$10679=t2$10678.length)),(t3$10679===2))))))))){(code1$10665=t2$10678[0]);(ord1$10666=t2$10678[1]);}else{$11922($9572(it$0$10651.prio,i1$10663),"/home/olivier/git/earl-grey/src/parse.eg",4029,4046);}(t0$10700=$9572(it$0$10651.prio,i2$10664));if(((t0$10700 instanceof Array)&&(((t1$10701=t0$10700.length)),((t1$10701===2)&&(((t2$10702=t0$10700[0])),((t2$10702 instanceof Array)&&(((t3$10703=t2$10702.length)),(t3$10703===2)))))))){(code2$10667=t2$10702[0]);(ord2$10668=t2$10702[1]);t0$10700[1];}else{$11922($9572(it$0$10651.prio,i2$10664),"/home/olivier/git/earl-grey/src/parse.eg",4066,4083);}($10661$10723=null);$10661$10723;if(((code1$10665&code2$10667)===0)){throw $11938(["syntax","order"]).create("Cannot mix operators in the given order",({"left":op1$10647,"right":op2$10648}));}else{if((ord1$10666>ord2$10668)){return LEFT$9636;}else{if((ord1$10666<ord2$10668)){return RIGHT$9637;}else{if((ord1$10666===ord2$10668)){return BOTH$9638;}else{$11922($10661$10723);}}}}});$9573(SimplePriority$9631,$9573(((accum$10749=({})),((accum$10749["::name"]="SimplePriority"),accum$10749)),((accum$10753=({})),((accum$10753["::egclass"]=true),accum$10753))));SimplePriority$9631;(MAX$9632=(1/0));(eg_order$9633=(((eg_groups$10762=OperatorGroups$9628($9573(({"sh_ifx":[function($10766$10768){var t0$10781;var $10770$10776;var ph$10771;(ph$10771=$10766$10768);($10770$10776=ph$10771);if((($10770$10776 instanceof Array)&&(((t0$10781=$10770$10776.length)),((t0$10781===3)&&(($10770$10776[0]==="IFX")&&($10770$10776[1]==="short")))))){$10770$10776[2];return true;}else{$10770$10776;return false;}}],"sh_pfx":[function($10794$10796){var t0$10809;var $10798$10804;var ph$10799;(ph$10799=$10794$10796);($10798$10804=ph$10799);if((($10798$10804 instanceof Array)&&(((t0$10809=$10798$10804.length)),((t0$10809===3)&&(($10798$10804[0]==="PFX")&&($10798$10804[1]==="short")))))){$10798$10804[2];return true;}else{$10798$10804;return false;}}],"sh_sfx":[function($10822$10824){var t0$10837;var $10826$10832;var ph$10827;(ph$10827=$10822$10824);($10826$10832=ph$10827);if((($10826$10832 instanceof Array)&&(((t0$10837=$10826$10832.length)),((t0$10837===3)&&(($10826$10832[0]==="SFX")&&($10826$10832[1]==="short")))))){$10826$10832[2];return true;}else{$10826$10832;return false;}}],"wi_ifx":[function($10850$10852){var t0$10865;var $10854$10860;var ph$10855;(ph$10855=$10850$10852);($10854$10860=ph$10855);if((($10854$10860 instanceof Array)&&(((t0$10865=$10854$10860.length)),((t0$10865===3)&&(($10854$10860[0]==="IFX")&&($10854$10860[1]==="wide")))))){$10854$10860[2];return true;}else{$10854$10860;return false;}}],"wi_pfx":[function($10878$10880){var t0$10893;var $10882$10888;var ph$10883;(ph$10883=$10878$10880);($10882$10888=ph$10883);if((($10882$10888 instanceof Array)&&(((t0$10893=$10882$10888.length)),((t0$10893===3)&&(($10882$10888[0]==="PFX")&&($10882$10888[1]==="wide")))))){$10882$10888[2];return true;}else{$10882$10888;return false;}}],"wi_sfx":[function($10906$10908){var t0$10921;var $10910$10916;var ph$10911;(ph$10911=$10906$10908);($10910$10916=ph$10911);if((($10910$10916 instanceof Array)&&(((t0$10921=$10910$10916.length)),((t0$10921===3)&&(($10910$10916[0]==="SFX")&&($10910$10916[1]==="wide")))))){$10910$10916[2];return true;}else{$10910$10916;return false;}}],"comma":["X_,_Y"],"obrack":["(_Y","[_Y","{_Y"],"cbrack":["X_)","X_]","X_}"]}),$9573(((accum$10935=({})),((accum$10935["with"]=["X with Y"]),accum$10935)),$9573(({"lowprio":["X each Y","X each? Y","X where Y","X !! Y","X -> Y","X => Y","X = Y","X := Y","X += Y","X -= Y","X *= Y","X /= Y","X <<= Y","X >>= Y","X >>>= Y","X ++= Y","X ?= Y","X or= Y","X and= Y","X each= Y","X % Y"]}),$9573(((accum$10939=({})),((accum$10939["when"]=["X when Y"]),accum$10939)),$9573(((accum$10943=({})),((accum$10943["or"]=["X or Y"]),accum$10943)),$9573(((accum$10947=({})),((accum$10947["and"]=["X and Y"]),accum$10947)),$9573(((accum$10951=({})),((accum$10951["not"]=["not Y"]),accum$10951)),({"cmp":["X == Y","X != Y","X >= Y","X <= Y","X > Y","X < Y"],"binxor":["X ^. Y"],"binor":["X |. Y"],"binand":["X &. Y"],"shift":["X << Y","X >> Y","X >>> Y"],"add":["X + Y","X - Y"],"mul":["X * Y","X / Y","X // Y","X mod Y"],"exp":["X ** Y"],"sjuxt":["XWHITEY"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"pfx":["._Y","#_Y","@_Y"],"when2":["when Y"],"pp":["<> Y"],"pipe":["X |> Y"]}))))))))))),((eg_prio$10763=$9573(({"comma":[["all",1],["all",1]],"obrack":[["all",MAX$9632],["all",1]],"cbrack":[["all",1],["all",MAX$9632]]}),$9573(((accum$10958=({})),((accum$10958["with"]=[["all",1999],["all",10]]),accum$10958)),$9573(({"lowprio":[["all",11],["all",10]]}),$9573(((accum$10962=({})),((accum$10962["when"]=[["all",100],["all",101]]),accum$10962)),$9573(((accum$10966=({})),((accum$10966["or"]=[["all",110],["all",111]]),accum$10966)),$9573(((accum$10970=({})),((accum$10970["and"]=[["all",120],["all",121]]),accum$10970)),$9573(((accum$10974=({})),((accum$10974["not"]=[["all",MAX$9632],["all",131]]),accum$10974)),({"cmp":[["all",200],["all",201]],"binxor":[["all",400],["all",401]],"binor":[["all",410],["all",411]],"binand":[["all",420],["all",421]],"shift":[["arith",500],["arith",501]],"add":[["arith",550],["arith",551]],"mul":[["arith",560],["arith",561]],"exp":[["arith",571],["arith",570]],"wjuxt":[["all",13],["all",12]],"colon":[["all",12],["all",10]],"sjuxt":[["all",2000],["all",2001]],"pfx":[["all",MAX$9632],["all",3000]],"pp":[["all",MAX$9632],["all",5]],"when2":[["all",MAX$9632],["all",101]],"pipe":[["pipe",550],["pipe",551]],"sh_ifx":[["all",1800],["all",1801]],"sh_pfx":[["all",MAX$9632],["all",1901]],"sh_sfx":[["all",1900],["all",MAX$9632]],"wi_ifx":[["customl",900],["customr",901]],"wi_pfx":[["all",MAX$9632],["all",901]],"wi_sfx":[["all",900],["all",MAX$9632]]})))))))))),SimplePriority$9631(eg_groups$10762,eg_prio$10763)));(DONE$9634=-1);(NONE$9635=0);(LEFT$9636=1);(RIGHT$9637=2);(BOTH$9638=3);(oparse$9639=function(next$10997,order$10998,finalize$10999){var between$11002;var right_op$11003;var stack$11004;var left_op$11005;var current$11006;(between$11002=finalize$10999(next$10997()));(right_op$11003=next$10997());(stack$11004=[]);(left_op$11005=null);(current$11006=null);$11007:while(true){var v$11047;var other$11093;var $11026$11032;var o$11027;(o$11027=function(){if(((!left_op$11005)&&(!right_op$11003))){return DONE$9634;}else{return ((((!left_op$11005)&&RIGHT$9637)||((!right_op$11003)&&LEFT$9636))||order$10998(left_op$11005,right_op$11003));}}());($11026$11032=o$11027);if(($11026$11032===DONE$9634)){return between$11002;}else{if(($11026$11032===LEFT$9636)){current$11006.push(between$11002);(between$11002=finalize$10999(current$11006));(v$11047=stack$11004.pop());(left_op$11005=v$11047[0]);(current$11006=v$11047[1]);}else{if(($11026$11032===RIGHT$9637)){stack$11004.push([left_op$11005,current$11006]);(left_op$11005=right_op$11003);(current$11006=[[right_op$11003],between$11002]);(between$11002=finalize$10999(next$10997()));(right_op$11003=next$10997());}else{if(($11026$11032===BOTH$9638)){current$11006[0].push(right_op$11003);current$11006.push(between$11002);(left_op$11005=right_op$11003);(between$11002=finalize$10999(next$10997()));(right_op$11003=next$10997());}else{(other$11093=$11026$11032);throw $11938(["should_never_happen"]).create("undefined priority",({"left":left_op$11005,"right":right_op$11003}));}}}}}});(finalize$9640=function($11098$11100){var t0$11109;var $index$11192;var $length$11187;var temp$11182;var $index$11225;var $length$11220;var temp$11215;var $index$11269;var $length$11264;var temp$11259;var acc$11254;var other$11580;var args$11575;var f$11554;var orig_args$11555;var args$11556;var $11526$11538;var $11527$11539;var t0$11534;var t1$11535;var t2$11536;var $11525$11529;var inserted$11391;var result$11392;var t0$11591;var f$11612;var other$11681;var x$11671;var $11649$11659;var $11650$11660;var t0$11657;var $11648$11652;var result$11604;var f$11703;var oloc$11791;var abloc$11792;var oabloc$11793;var rval$11794;var a$11786;var b$11787;var $11159$11753;var $11160$11754;var $11161$11755;var $11162$11756;var t0$11746;var t1$11747;var t2$11748;var t3$11749;var t4$11750;var t5$11751;var $index$11841;var $length$11836;var temp$11831;var acc$11826;var tokens$11819;var msg$11820;var op_strings$11814;var args$11815;var $11158$11742;var commas$11686;var commas$11584;var target$11359;var _b$11360;var body$11361;var f$11345;var body$11346;var f$11318;var arg$11319;var body$11320;var $11163$11309;var $11164$11310;var $11165$11311;var $11166$11312;var $11167$11313;var $11168$11314;var $11169$11315;var t0$11298;var t1$11299;var t2$11300;var t3$11301;var t4$11302;var t5$11303;var t6$11304;var t7$11305;var t8$11306;var bridge$11157$11307;var $11156$11293;var sumloc$11170;var orig_ops$11171;var op$11172;var other$11881;var ops$11151;var args$11152;var value$11142;var value$11137;var value$11128;var $11103$11123;var $11104$11124;var $11105$11125;var t0$11121;var $11102$11116;var ph$11106;var token$11107;(t0$11109=$11098$11100);(token$11107=t0$11109);(ph$11106=t0$11109);($11102$11116=ph$11106);if((($11103$11123=($11102$11116 instanceof Array))&&(((t0$11121=$11102$11116.length)),(($11105$11125=(t0$11121===2))&&($11102$11116[0]==="ID"))))){(value$11128=$11102$11116[1]);return __lt____lt____colon__$9625(["symbol",value$11128],token$11107);}else{if(($11105$11125&&($11102$11116[0]==="NUM"))){(value$11137=$11102$11116[1]);return __lt____lt____colon__$9625(["value",value$11137],token$11107);}else{if(($11105$11125&&($11102$11116[0]==="STR"))){(value$11142=$11102$11116[1]);return __lt____lt____colon__$9625(["value",value$11142],token$11107);}else{if(($11103$11123&&((t0$11121===1)&&($11102$11116[0]==="VOID")))){return __lt____lt____colon__$9625(["void"],token$11107);}else{if(($11103$11123&&(t0$11121>=1))){(ops$11151=$11102$11116[0]);(args$11152=Array.prototype.slice.call($11102$11116,1));(sumloc$11170=ops$11151[0].location);(temp$11182=ops$11151.slice(1));($length$11187=temp$11182.length);($index$11192=0);$11173:for(;($index$11192<$length$11187);($index$11192++)){var op$11208;var m$11200;(m$11200=temp$11182[$index$11192]);(op$11208=m$11200);(sumloc$11170=__plus____plus____colon__$9626(sumloc$11170,op$11208));}(temp$11215=args$11152);($length$11220=temp$11215.length);($index$11225=0);$11175:for(;($index$11225<$length$11220);($index$11225++)){var arg$11241;var m$11233;(m$11233=temp$11215[$index$11225]);(arg$11241=m$11233);(sumloc$11170=__plus____plus____colon__$9626(sumloc$11170,arg$11241));}(orig_ops$11171=ops$11151);(ops$11151=(((acc$11254=[])),(((temp$11259=ops$11151)),((($length$11264=temp$11259.length)),((($index$11269=0)),function(){$11251:for(;($index$11269<$length$11264);($index$11269++)){var o$11285;var m$11277;(m$11277=temp$11259[$index$11269]);(o$11285=m$11277);acc$11254.push(o$11285[2]);}}()))),acc$11254));(op$11172=ops$11151[0]);($11156$11293=[ops$11151,args$11152]);if((($11163$11309=($11156$11293 instanceof Array))&&(((t0$11298=$11156$11293.length)),(($11165$11311=(t0$11298===2))&&(((t1$11299=$11156$11293[0])),(($11167$11313=(t1$11299 instanceof Array))&&(((t2$11300=t1$11299.length)),((t2$11300===2)&&((t1$11299[0]==="WHITE")&&((t1$11299[1]===":")&&(((t3$11301=$11156$11293[1])),((t3$11301 instanceof Array)&&(((t4$11302=t3$11301.length)),(t4$11302===3)))))))))))))){(f$11318=t3$11301[0]);(arg$11319=t3$11301[1]);(body$11320=t3$11301[2]);return __lt____lt____colon__$9625(["send",f$11318,__lt____lt____colon__$9625(["data",arg$11319,body$11320],__plus____plus____colon__$9626(arg$11319,body$11320))],sumloc$11170);}else{if(($11167$11313&&(($11169$11315=(t2$11300===1))&&((t1$11299[0]===":")&&(((t3$11301=$11156$11293[1])),((t3$11301 instanceof Array)&&(((t4$11302=t3$11301.length)),(t4$11302===2)))))))){(f$11345=t3$11301[0]);(body$11346=t3$11301[1]);return __lt____lt____colon__$9625(["send",f$11345,__lt____lt____colon__$9625(["data",body$11346],body$11346)],sumloc$11170);}else{if(($11169$11315&&((t1$11299[0]==="with")&&(((t3$11301=$11156$11293[1])),((t3$11301 instanceof Array)&&(((t4$11302=t3$11301.length)),((t4$11302===2)&&((target$11359=t3$11301[0]),(((t5$11303=t3$11301[1])),((_b$11360=t5$11303),(((t6$11304=$12215(["multi"])(t5$11303))),(t6$11304[0]&&(((t7$11305=t6$11304[1])),(((t8$11306=t7$11305.length)),(t8$11306>=0))))))))))))))){(body$11361=Array.prototype.slice.call(t7$11305,0));(inserted$11391=false);(result$11392=transform$9627(target$11359,function($11398$11400){var t0$11406;var $index$11487;var $length$11482;var temp$11477;var tr$11465;var res$11466;var args$11457;var x$11436;var f$11437;var a$11438;var b$11439;var t0$11418;var t1$11419;var t2$11420;var $11402$11413;var ph$11403;var expr$11404;(t0$11406=$11398$11400);(expr$11404=t0$11406);(ph$11403=t0$11406);($11402$11413=ph$11403);if((($11402$11413 instanceof Array)&&(((t0$11418=$11402$11413.length)),((t0$11418===2)&&(($11402$11413[0]==="symbol")&&($11402$11413[1]==="...")))))){(inserted$11391=true);return __lt____lt____colon__$9625(["multi"].concat(body$11361),_b$11360);}else{(x$11436=$11402$11413);if((x$11436.fromop&&(($11402$11413 instanceof Array)&&(((t0$11418=$11402$11413.length)),((t0$11418===3)&&(($11402$11413[0]==="send")&&((f$11437=$11402$11413[1]),(((t1$11419=$11402$11413[2])),((t1$11419 instanceof Array)&&(((t2$11420=t1$11419.length)),((t2$11420===3)&&(t1$11419[0]==="data")))))))))))){(a$11438=t1$11419[1]);(b$11439=t1$11419[2]);return ["send",this(f$11437),__lt____lt____colon__$9625(["data",this(a$11438),this(b$11439)],__plus____plus____colon__$9626(a$11438,b$11439))];}else{if((($11402$11413 instanceof Array)&&(((t0$11418=$11402$11413.length)),((t0$11418>=1)&&($11402$11413[0]==="data"))))){(args$11457=Array.prototype.slice.call($11402$11413,1));(tr$11465=this);(res$11466=["data"]);(temp$11477=args$11457);($length$11482=temp$11477.length);($index$11487=0);$11467:for(;($index$11487<$length$11482);($index$11487++)){var other$11520;var t0$11500;var t1$11501;var m$11495;(m$11495=temp$11477[$index$11487]);(t0$11500=m$11495);if(((t0$11500 instanceof Array)&&(((t1$11501=t0$11500.length)),((t1$11501===2)&&((t0$11500[0]==="symbol")&&(t0$11500[1]==="...")))))){(inserted$11391=true);(res$11466=res$11466.concat(body$11361));}else{(other$11520=m$11495);res$11466.push(__lt____lt____colon__$9625(tr$11465(other$11520),other$11520));}}return __lt____lt____colon__$9625(res$11466,expr$11404);}else{$11922($11402$11413);}}}}));if((!inserted$11391)){($11525$11529=target$11359);if((($11525$11529 instanceof Array)&&(((t0$11534=$11525$11529.length)),((t0$11534===1)&&($11525$11529[0]==="void"))))){return __lt____lt____colon__$9625(["data"].concat(body$11361),sumloc$11170);}else{$11525$11529;if(target$11359.fromop){return __lt____lt____colon__$9625(["send",target$11359,__lt____lt____colon__$9625(["data"].concat(body$11361),_b$11360)],sumloc$11170);}else{if((($11526$11538=($11525$11529 instanceof Array))&&(((t0$11534=$11525$11529.length)),((t0$11534===3)&&(($11525$11529[0]==="send")&&((f$11554=$11525$11529[1]),(((t1$11535=$11525$11529[2])),((orig_args$11555=t1$11535),((t1$11535 instanceof Array)&&(((t2$11536=t1$11535.length)),((t2$11536>=1)&&(t1$11535[0]==="data")))))))))))){(args$11556=Array.prototype.slice.call(t1$11535,1));return __lt____lt____colon__$9625(["send",f$11554,__lt____lt____colon__$9625(["data"].concat(args$11556).concat(body$11361),__plus____plus____colon__$9626(orig_args$11555,_b$11360))],sumloc$11170);}else{if(($11526$11538&&((t0$11534>=1)&&($11525$11529[0]==="data")))){(args$11575=Array.prototype.slice.call($11525$11529,1));return __lt____lt____colon__$9625(target$11359.concat(body$11361),sumloc$11170);}else{(other$11580=$11525$11529);return __lt____lt____colon__$9625(["send",target$11359,__lt____lt____colon__$9625(["data"].concat(body$11361),_b$11360)],sumloc$11170);}}}}}else{return __lt____lt____colon__$9625(result$11392,sumloc$11170);}}else{if(($11165$11311&&(((bridge$11157$11307=$11156$11293[0])),((((bridge$11157$11307 instanceof Array)&&(((t0$11591=bridge$11157$11307.length)),((t0$11591>=2)&&((bridge$11157$11307[0]==="[")&&((commas$11584=Array.prototype.slice.call(bridge$11157$11307,1,-1)),(bridge$11157$11307[(t0$11591-1)]==="]"))))))||((commas$11584=bridge$11157$11307),true))&&($11156$11293[1],commas$11584.every(function(x$11600){return $12252(x$11600,",");})))))){if((op$11172==="[")){(args$11152=args$11152.slice(1,-1));}(args$11152=(((f$11612=function($11615$11617){var other$11642;var t0$11630;var $11619$11625;var ph$11620;(ph$11620=$11615$11617);($11619$11625=ph$11620);if((($11619$11625 instanceof Array)&&(((t0$11630=$11619$11625.length)),((t0$11630===1)&&($11619$11625[0]==="void"))))){return false;}else{(other$11642=$11619$11625);return true;}})),args$11152.filter(f$11612)));(result$11604=((($11648$11652=args$11152)),function(){if((($11649$11659=($11648$11652 instanceof Array))&&(((t0$11657=$11648$11652.length)),(t0$11657===0)))){return ["value",(void 0)];}else{if(($11649$11659&&(t0$11657===1))){(x$11671=$11648$11652[0]);if(((!isNaN(sumloc$11170.start))&&(!isNaN(sumloc$11170.end)))){(x$11671["location"]=sumloc$11170);}return x$11671;}else{(other$11681=$11648$11652);return ["multi"].concat(args$11152);}}}()));return __lt____lt____colon__$9625(result$11604,sumloc$11170);}else{if(($11165$11311&&(((t1$11299=$11156$11293[0])),(($11167$11313=(t1$11299 instanceof Array))&&(((t2$11300=t1$11299.length)),((t2$11300>=2)&&((t1$11299[0]==="{")&&((commas$11686=Array.prototype.slice.call(t1$11299,1,-1)),((t1$11299[(t2$11300-1)]==="}")&&($11156$11293[1],commas$11686.every(function(x$11699){return $12252(x$11699,",");}))))))))))){(f$11703=function($11706$11708){var other$11733;var t0$11721;var $11710$11716;var ph$11711;(ph$11711=$11706$11708);($11710$11716=ph$11711);if((($11710$11716 instanceof Array)&&(((t0$11721=$11710$11716.length)),((t0$11721===1)&&($11710$11716[0]==="void"))))){return false;}else{(other$11733=$11710$11716);return true;}});return __lt____lt____colon__$9625(["data"].concat(args$11152.slice(1,-1).filter(f$11703)),sumloc$11170);}else{if(($11167$11313&&(($11169$11315=(t2$11300===1))&&(t1$11299[0]==="WHITE")))){$11156$11293[1];return __lt____lt____colon__$9625(["send"].concat(args$11152),sumloc$11170);}else{if($11169$11315){t1$11299[0];($11158$11742=$11156$11293[1]);(t0$11746=$11158$11742);if((($11160$11754=(t0$11746 instanceof Array))&&(((t1$11747=t0$11746.length)),(($11162$11756=(t1$11747===2))&&(((t2$11748=t0$11746[0])),((t2$11748 instanceof Array)&&(((t3$11749=t2$11748.length)),((t3$11749===1)&&((t2$11748[0]==="void")&&(((t4$11750=t0$11746[1])),((t4$11750 instanceof Array)&&(((t5$11751=t4$11750.length)),((t5$11751===1)&&(t4$11750[0]==="void")))))))))))))){return __lt____lt____colon__$9625(["symbol",op$11172],orig_ops$11171[0]);}else{if($11162$11756){(a$11786=t0$11746[0]);(b$11787=t0$11746[1]);(oloc$11791=orig_ops$11171[0].location);(abloc$11792=__plus____plus____colon__$9626(a$11786,b$11787));(oabloc$11793=__plus____plus____colon__$9626(orig_ops$11171[0],abloc$11792));(rval$11794=__lt____lt____colon__$9625(["send",__lt____lt____colon__$9625(["symbol",op$11172],oloc$11791),__lt____lt____colon__$9625(["data",a$11786,b$11787],abloc$11792)],__plus____plus____colon__$9626(oloc$11791,abloc$11792)));(rval$11794["fromop"]=true);return rval$11794;}else{$11922($11158$11742,"/home/olivier/git/earl-grey/src/parse.eg",17281,17286);}}}else{if($11165$11311){(op_strings$11814=$11156$11293[0]);(args$11815=$11156$11293[1]);(tokens$11819=$12427((((acc$11826=[])),(((temp$11831=$12134(orig_ops$11171))),((($length$11836=temp$11831.length)),((($index$11841=0)),function(){$11823:for(;($index$11841<$length$11836);($index$11841++)){var i$11859;var op$11860;var t0$11854;var t1$11855;var m$11849;(m$11849=temp$11831[$index$11841]);(t0$11854=m$11849);if(((t0$11854 instanceof Array)&&(((t1$11855=t0$11854.length)),(t1$11855===2)))){(i$11859=t0$11854[0]);(op$11860=t0$11854[1]);acc$11826.push([("token"+String((i$11859+1))),op$11860]);}else{$11922(m$11849,"/home/olivier/git/earl-grey/src/parse.eg",17797,17896);}}}()))),acc$11826)));(msg$11820="Mismatched/missing brackets/tokens");throw $11938(["syntax","mismatch"]).create(msg$11820,tokens$11819);}else{$11922($11156$11293);}}}}}}}}}else{(other$11881=$11102$11116);throw $11938(["should_never_happen"]).create("unknown node (B)",({"node":token$11107}));}}}}}});(parse$9641=function(tokens$11887){var next$11890;(next$11890=function(){return tokens$11887.shift();});return oparse$9639(next$11890,eg_order$9633.compare.bind(eg_order$9633),finalize$9640);});(exports["parse"]=parse$9641);(exports["oparse"]=oparse$9639);(exports["finalize"]=finalize$9640);(exports["DONE"]=DONE$9634);(exports["NONE"]=NONE$9635);(exports["LEFT"]=LEFT$9636);(exports["RIGHT"]=RIGHT$9637);(exports["BOTH"]=BOTH$9638);
