var $8092=function(type$8094){var f$8097;(f$8097=type$8094["::check"]);;if((f$8097===(void 0))){return function(value$8102){return (value$8102 instanceof type$8094);};}else{return function(value$8105){return f$8097.call(type$8094,value$8105);};}};
var $8107=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $8108=function(dest$8110,values$8111){var k$8116;(k$8116=null);$8114:for(k$8116 in values$8111){if(values$8111.hasOwnProperty(k$8116)){(dest$8110[k$8116]=values$8111[k$8116]);}}return dest$8110;};
var $8120=function($8121$8123){var ph$8127;(ph$8127=$8121$8123);;var $8125$8132;($8125$8132=ph$8127);;var bridge$8126$8137;var x$8141;(bridge$8126$8137=$8125$8132);if((((typeof(bridge$8126$8137)==="string")&&((x$8141=bridge$8126$8137),true))||((typeof(bridge$8126$8137)==="number")&&((x$8141=bridge$8126$8137),true)))){return ["value",x$8141];}else{var other$8148;(other$8148=$8125$8132);return other$8148["::serialize_ast"]();}};
var send$7932;(send$7932=function(obj$7937,$7935$7938){var ph$7942;var msg$7943;var t0$7945;(t0$7945=$7935$7938);(msg$7943=t0$7945);(ph$7942=t0$7945);;var $7940$7949;($7940$7949=ph$7942);;var bridge$7941$7954;(bridge$7941$7954=$7940$7949);if(((typeof(bridge$7941$7954)==="string")||(typeof(bridge$7941$7954)==="number"))){return obj$7937[msg$7943];}else{var other$7962;(other$7962=$7940$7949);return obj$7937["::send"](msg$7943);}});;(Array[":::project"]=function($7965$7967){var ph$7970;var value$7971;var t0$7973;(t0$7973=$7965$7967);(value$7971=t0$7973);(ph$7970=t0$7973);;var $7969$7977;($7969$7977=ph$7970);;if($8092(Array)($7969$7977)){return [true,value$7971];}else{$7969$7977;return [true,[value$7971]];}});(Array.prototype["::check"]=function(value$7991){if((value$7991 instanceof Array)){var i$7996;(i$7996=0);;$7994:for(;(i$7996<this.length);(i$7996++)){if(($8107(this,i$7996)!==$8107(value$7991,i$7996))){return false;}}return true;}else{return false;}});(Array.prototype["::clone"]=function(){return $8108(this.slice(0),this);});(Array.prototype[":::project"]=function(value$8007){if((value$8007 instanceof Array)){var i$8012;(i$8012=0);;$8010:for(;(i$8012<this.length);(i$8012++)){if(($8107(this,i$8012)!==$8107(value$8007,i$8012))){return [true,[value$8007]];}}return [true,value$8007.slice(this.length)];}else{return [true,[value$8007]];}});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($8120));});(RegExp.prototype["::check"]=function($8022$8024){var ph$8027;(ph$8027=$8022$8024);;var $8026$8032;($8026$8032=ph$8027);;var value$8040;if((typeof($8026$8032)==="string")){(value$8040=$8026$8032);if(value$8040.match(this)){return true;}else{return false;}}else{var other$8045;(other$8045=$8026$8032);return false;}});(RegExp.prototype[":::project"]=function($8047$8049){var ph$8052;(ph$8052=$8047$8049);;var $8051$8057;($8051$8057=ph$8052);;var value$8065;if((typeof($8051$8057)==="string")){(value$8065=$8051$8057);var $8068$8070;($8068$8070=value$8065.match(this));;var m$8078;if(($8068$8070===null)){(m$8078=$8068$8070);return [false,null];}else{var m$8083;(m$8083=$8068$8070);return [true,m$8083];}}else{var other$8087;(other$8087=$8051$8057);return [false,null];}});(Function.prototype["::send"]=function(args$8090){return this.apply(this,args$8090);});
var $10155=function(arr$10157){var results$10161;var l$10162;(results$10161=[]);;(l$10162=arr$10157.length);;var i$10170;(i$10170=0);;$10160:for(;(i$10170<l$10162);(i$10170++)){results$10161.push([i$10170,$8107(arr$10157,i$10170)]);}return results$10161;};
var $9986=function(){var $9987$9989;($9987$9989=function(tags$9993){var it$0$9996;(it$0$9996=function(){if((!$8092($9987$9989)(this))){return Object.create($9987$9989.prototype);}else{return this;}}());;(it$0$9996["tags"]=tags$9993);return it$0$9996;});;($9987$9989.prototype["create"]=function(){var $10005$10007;($10005$10007=arguments);;var t0$10012;var message$10016;var args$10017;(t0$10012=$10005$10007.length);if((t0$10012>=0)){(message$10016=function(){if((0>=t0$10012)){return "";}else{return $10005$10007[0];}}());(args$10017=Array.prototype.slice.call($10005$10007,1));var it$0$10021;(it$0$10021=this);;var self$10026;(self$10026=this);;var e$10031;(e$10031=Error(message$10016));;(e$10031["::tags"]=it$0$10021.tags);(e$10031["args"]=args$10017);var temp$10039;(temp$10039=$10155(args$10017));;var $length$10044;($length$10044=temp$10039.length);;var $index$10049;($index$10049=0);;$10032:for(;($index$10049<$length$10044);($index$10049++)){var m$10057;(m$10057=temp$10039[$index$10049]);;var t0$10062;var t1$10063;var i$10067;var arg$10068;(t0$10062=m$10057);if(((t0$10062 instanceof Array)&&((t1$10063=t0$10062.length),(t1$10063===2)))){(i$10067=t0$10062[0]);(arg$10068=t0$10062[1]);(e$10031[i$10067]=arg$10068);}else{$9973(m$10057);;}}(e$10031["length"]=args$10017.length);(e$10031["name"]=["E"].concat(it$0$10021.tags).join("."));return e$10031;}else{$9973($10005$10007);}});($9987$9989.prototype["::check"]=function(e$10079){var it$0$10082;(it$0$10082=this);;var self$10087;(self$10087=this);;var tags$10092;if(((!e$10079)||(!$8092(Error)(e$10079)))){return false;}(tags$10092=(e$10079["::tags"]||[]));;var temp$10101;(temp$10101=it$0$10082.tags);;var $length$10106;($length$10106=temp$10101.length);;var $index$10111;($index$10111=0);;$10093:for(;($index$10111<$length$10106);($index$10111++)){var m$10119;(m$10119=temp$10101[$index$10111]);;var tag$10127;(tag$10127=m$10119);if((tags$10092.indexOf(tag$10127)===-1)){return false;}else{false;;}}return true;});($9987$9989.prototype["::deconstruct"]=function(e$10135){var it$0$10138;(it$0$10138=this);;var self$10143;(self$10143=this);;return e$10135.args;});$8108($9987$9989,$8108(function(){var accum$10148;(accum$10148=({}));(accum$10148["::name"]="$9987");return accum$10148;}(),function(){var accum$10152;(accum$10152=({}));(accum$10152["::egclass"]=true);return accum$10152;}()));return $9987$9989;}();
var $9973=function(value$9975,url$9976,start$9977,end$9978){var err$9981;(err$9981=$9986(["match"]).create("Could not find a match for value",({"value":value$9975})));;if(url$9976){(err$9981["location"]=["location",url$9976,start$9977,end$9978]);}throw err$9981;};
var $10177=function(obj$10179){var results$10183;(results$10183=[]);;var k$10188;(k$10188=null);$10182:for(k$10188 in obj$10179){if(Object.prototype.hasOwnProperty.call(obj$10179,k$10188)){results$10183.push([k$10188,$8107(obj$10179,k$10188)]);}}return results$10183;};
var $10192=function(arrays$10194){var results$10197;(results$10197=[]);;var temp$10205;(temp$10205=arrays$10194);;var $length$10210;($length$10210=temp$10205.length);;var $index$10215;($index$10215=0);;$10198:for(;($index$10215<$length$10210);($index$10215++)){var m$10223;(m$10223=temp$10205[$index$10215]);;var a$10231;(a$10231=m$10223);(results$10197=results$10197.concat(a$10231));}return results$10197;};
var $10233=function(type$10235){return function(value$10238){var f$10241;(f$10241=type$10235[":::project"]);;if((f$10241===(void 0))){(f$10241=type$10235["::project"]);if((f$10241===(void 0))){return [true,type$10235(value$10238)];}else{var rval$10247;(rval$10247=false);;try{(rval$10247=[true,f$10241(value$10238)]);}catch(excv$10253){var e$10259;(e$10259=excv$10253);(rval$10247=[false,null]);}return rval$10247;}}else{return f$10241.call(type$10235,value$10238);}};};var accum$8568;var accum$8572;var accum$8754;var accum$9101;var accum$9105;var accum$9269;var accum$9273;var accum$9277;var accum$9281;var accum$9285;var accum$9292;var accum$9296;var accum$9300;var accum$9304;var accum$9308;var eg_groups$9114;var eg_prio$9115;var $8152$8153;var __lt____lt____colon__$8154;var __plus____plus____colon__$8155;var transform$8156;var OperatorGroups$8157;var parse_op_description$8158;var eg_groups$8159;var SimplePriority$8160;var MAX$8161;var eg_order$8162;var DONE$8163;var NONE$8164;var LEFT$8165;var RIGHT$8166;var BOTH$8167;var oparse$8168;var finalize$8169;var parse$8170;($8152$8153=require("./location"));;(__lt____lt____colon__$8154=$8152$8153["<<:"]);;(__plus____plus____colon__$8155=$8152$8153["++:"]);;(transform$8156=function(expr$8183,cb$8184){var rval$8198;var tr$8187;var result$8188;(tr$8187=function(x$8192){return transform$8156(x$8192,cb$8184);});;(result$8188=(((rval$8198=false)),(function(){try{(rval$8198=cb$8184.call(tr$8187,expr$8183));}catch(excv$8204){var name$8244;var args$8245;var v$8239;var s$8234;var $8213$8224;var $8214$8225;var $8215$8226;var t0$8222;var $8212$8217;var e$8210;(e$8210=excv$8204);(rval$8198=((($8212$8217=expr$8183)),function(){if((($8213$8224=($8212$8217 instanceof Array))&&((t0$8222=$8212$8217.length),((t0$8222===1)&&($8212$8217[0]==="void"))))){return ["void"];}else{if(($8213$8224&&(($8215$8226=(t0$8222===2))&&($8212$8217[0]==="symbol")))){(s$8234=$8212$8217[1]);return expr$8183;}else{if(($8215$8226&&($8212$8217[0]==="value"))){(v$8239=$8212$8217[1]);return expr$8183;}else{if(($8213$8224&&(t0$8222>=1))){(name$8244=$8212$8217[0]);(args$8245=Array.prototype.slice.call($8212$8217,1));return [name$8244].concat(args$8245.map(tr$8187));}else{$9973($8212$8217);}}}}}()));}}(),rval$8198)));;return __lt____lt____colon__$8154(result$8188,expr$8183);});;(OperatorGroups$8157=function(groups$8255){var $index$8288;var $length$8283;var temp$8278;var acc$8273;var $index$8330;var $length$8325;var temp$8320;var acc$8315;var $index$8407;var $length$8402;var temp$8397;var acc$8392;var itg$8264;var it$0$8258;(it$0$8258=function(){if((!$8092(OperatorGroups$8157)(this))){return Object.create(OperatorGroups$8157.prototype);}else{return this;}}());;(itg$8264=$10177(groups$8255));;(it$0$8258["gnames"]=(((acc$8273=[])),(((temp$8278=itg$8264)),((($length$8283=temp$8278.length)),((($index$8288=0)),function(){$8270:for(;($index$8288<$length$8283);($index$8288++)){var name$8306;var t0$8301;var t1$8302;var m$8296;(m$8296=temp$8278[$index$8288]);;(t0$8301=m$8296);if(((t0$8301 instanceof Array)&&((t1$8302=t0$8301.length),(t1$8302===2)))){(name$8306=t0$8301[0]);t0$8301[1];acc$8273.push(name$8306);}else{$9973(m$8296,"/home/olivier/git/earl-grey/src/parse.eg",504,530);;}}}()))),acc$8273));(it$0$8258["groups"]=(((acc$8315=[])),(((temp$8320=itg$8264)),((($length$8325=temp$8320.length)),((($index$8330=0)),function(){$8312:for(;($index$8330<$length$8325);($index$8330++)){var $index$8371;var $length$8366;var temp$8361;var acc$8356;var name$8348;var descrs$8349;var t0$8343;var t1$8344;var m$8338;(m$8338=temp$8320[$index$8330]);;(t0$8343=m$8338);if(((t0$8343 instanceof Array)&&((t1$8344=t0$8343.length),(t1$8344===2)))){(name$8348=t0$8343[0]);(descrs$8349=t0$8343[1]);acc$8315.push($10192((((acc$8356=[])),(((temp$8361=descrs$8349)),((($length$8366=temp$8361.length)),((($index$8371=0)),function(){$8353:for(;($index$8371<$length$8366);($index$8371++)){var descr$8387;var m$8379;(m$8379=temp$8361[$index$8371]);;(descr$8387=m$8379);acc$8356.push(parse_op_description$8158(descr$8387));}}()))),acc$8356)));}else{$9973(m$8338,"/home/olivier/git/earl-grey/src/parse.eg",548,645);;}}}()))),acc$8315));(it$0$8258["fns"]=[]);(it$0$8258["to_gid"]=({"IFX":({"wide":({}),"short":({})}),"PFX":({"wide":({}),"short":({})}),"SFX":({"wide":({}),"short":({})})}));(acc$8392=[]);;(temp$8397=$10155(it$0$8258.groups));;($length$8402=temp$8397.length);;($index$8407=0);;$8265:for(;($index$8407<$length$8402);($index$8407++)){var $index$8448;var $length$8443;var temp$8438;var acc$8433;var i$8425;var group$8426;var t0$8420;var t1$8421;var m$8415;(m$8415=temp$8397[$index$8407]);;(t0$8420=m$8415);if(((t0$8420 instanceof Array)&&((t1$8421=t0$8420.length),(t1$8421===2)))){(i$8425=t0$8420[0]);(group$8426=t0$8420[1]);acc$8392.push((((acc$8433=[])),(((temp$8438=group$8426)),((($length$8443=temp$8438.length)),((($index$8448=0)),function(){$8430:for(;($index$8448<$length$8443);($index$8448++)){var f$8474;var fixity$8466;var width$8467;var name$8468;var t0$8461;var t1$8462;var m$8456;(m$8456=temp$8438[$index$8448]);;(t0$8461=m$8456);if(((t0$8461 instanceof Array)&&((t1$8462=t0$8461.length),(t1$8462===3)))){(fixity$8466=t0$8461[0]);(width$8467=t0$8461[1]);(name$8468=t0$8461[2]);acc$8433.push(($8107($8107(it$0$8258.to_gid,fixity$8466),width$8467)[name$8468]=i$8425));}else{(f$8474=m$8456);acc$8433.push(it$0$8258.fns.push([f$8474,i$8425]));}}}()))),acc$8433));}else{$9973(m$8415,"/home/olivier/git/earl-grey/src/parse.eg",812,1014);;}}acc$8392;return it$0$8258;});;(OperatorGroups$8157.prototype["get_name"]=function(o$8482){var self$8490;var it$0$8485;(it$0$8485=this);;(self$8490=this);;return $8107(it$0$8485.gnames,it$0$8485.get(o$8482));});(OperatorGroups$8157.prototype["get"]=function($8496$8498){var t0$8505;var t1$8506;var $index$8541;var $length$8536;var temp$8531;var attempt$8522;var self$8517;var it$0$8512;var o$8500;var fixity$8501;var width$8502;var name$8503;(t0$8505=$8496$8498);(o$8500=t0$8505);if(((t0$8505 instanceof Array)&&((t1$8506=t0$8505.length),(t1$8506===3)))){(fixity$8501=t0$8505[0]);(width$8502=t0$8505[1]);(name$8503=t0$8505[2]);;}else{$9973($8496$8498);}(it$0$8512=this);;(self$8517=this);;(attempt$8522=$8107($8107($8107(it$0$8512.to_gid,fixity$8501),width$8502),name$8503));;if((attempt$8522===(void 0))){(temp$8531=it$0$8512.fns);;($length$8536=temp$8531.length);;($index$8541=0);;$8527:for(;($index$8541<$length$8536);($index$8541++)){var f$8559;var i$8560;var t0$8554;var t1$8555;var m$8549;(m$8549=temp$8531[$index$8541]);;(t0$8554=m$8549);if(((t0$8554 instanceof Array)&&((t1$8555=t0$8554.length),(t1$8555===2)))){(f$8559=t0$8554[0]);(i$8560=t0$8554[1]);if(f$8559(o$8500)){return i$8560;}}else{$9973(m$8549,"/home/olivier/git/earl-grey/src/parse.eg",1193,1276);;}}throw $9986(["syntax","unknown_operator"]).create(("Unknown operator: "+[true,String(o$8500)][1]),({"operator":o$8500}));}else{return attempt$8522;}});$8108(OperatorGroups$8157,$8108(((accum$8568=({})),((accum$8568["::name"]="OperatorGroups"),accum$8568)),((accum$8572=({})),((accum$8572["::egclass"]=true),accum$8572))));OperatorGroups$8157;(parse_op_description$8158=function($8577$8579){var otherwise$8644;var $8625$8633;var $8624$8627;var otherwise$8669;var $8650$8658;var $8649$8652;var t0$8621;var t1$8622;var fixity$8618;var short$8619;var other$8673;var x$8608;var w1$8609;var op$8610;var w2$8611;var y$8612;var f$8603;var rx$8597;var t0$8592;var t1$8593;var t2$8594;var $8581$8587;var ph$8582;(ph$8582=$8577$8579);;($8581$8587=ph$8582);;(rx$8597=RegExp("(?:^((?:X?))((?:[ _]?))((?:[^ _Y]*))((?:[ _]?))((?:Y?))$)",""));;if($8092(Function)($8581$8587)){(f$8603=$8581$8587);return f$8603;}else{(t0$8592=$10233(rx$8597)($8581$8587));if((t0$8592[0]&&((t1$8593=t0$8592[1]),((t2$8594=t1$8593.length),(t2$8594===6))))){t1$8593[0];(x$8608=t1$8593[1]);(w1$8609=t1$8593[2]);(op$8610=t1$8593[3]);(w2$8611=t1$8593[4]);(y$8612=t1$8593[5]);(t0$8621=((($8624$8627=null)),($8624$8627,function(){if((x$8608==="")){return ["PFX",(w2$8611==="")];}else{if((y$8612==="")){return ["SFX",(w1$8609==="")];}else{(otherwise$8644=$8624$8627);return ["IFX",((w1$8609==="")||(w2$8611===""))];}}}())));if(((t0$8621 instanceof Array)&&((t1$8622=t0$8621.length),(t1$8622===2)))){(fixity$8618=t0$8621[0]);(short$8619=t0$8621[1]);;}else{$9973(((($8649$8652=null)),($8649$8652,function(){if((x$8608==="")){return ["PFX",(w2$8611==="")];}else{if((y$8612==="")){return ["SFX",(w1$8609==="")];}else{(otherwise$8669=$8649$8652);return ["IFX",((w1$8609==="")||(w2$8611===""))];}}}())),"/home/olivier/git/earl-grey/src/parse.eg",1647,1865);}if(((w1$8609==="_")||(w2$8611==="_"))){return [[fixity$8618,"short",op$8610],[fixity$8618,"wide",op$8610]];}else{return [[fixity$8618,function(){if(short$8619){return "short";}else{return "wide";}}(),op$8610]];}}else{(other$8673=$8581$8587);throw $9986(["invalid_op_description"]).create(("Invalid operator description: "+other$8673));}}});;(eg_groups$8159=OperatorGroups$8157($8108(({"tokenpfx":[".Y","#Y","@Y"],"sjuxt":["XWHITEY"],"ifx":[function($8678$8680){var t0$8693;var $8682$8688;var ph$8683;(ph$8683=$8678$8680);;($8682$8688=ph$8683);;if((($8682$8688 instanceof Array)&&((t0$8693=$8682$8688.length),((t0$8693===3)&&(($8682$8688[0]==="IFX")&&($8682$8688[1]==="short")))))){$8682$8688[2];return true;}else{$8682$8688;return false;}}],"pfx":[function($8703$8705){var t0$8718;var $8707$8713;var ph$8708;(ph$8708=$8703$8705);;($8707$8713=ph$8708);;if((($8707$8713 instanceof Array)&&((t0$8718=$8707$8713.length),((t0$8718===3)&&(($8707$8713[0]==="PFX")&&($8707$8713[1]==="short")))))){$8707$8713[2];return true;}else{$8707$8713;return false;}}],"sfx":[function($8728$8730){var t0$8743;var $8732$8738;var ph$8733;(ph$8733=$8728$8730);;($8732$8738=ph$8733);;if((($8732$8738 instanceof Array)&&((t0$8743=$8732$8738.length),((t0$8743===3)&&(($8732$8738[0]==="SFX")&&($8732$8738[1]==="short")))))){$8732$8738[2];return true;}else{$8732$8738;return false;}}],"pow":["X ** Y"],"mul":["X * Y","X / Y","X // Y","X mod Y","+ Y","- Y"],"add":["X + Y","X - Y"],"cmp":["X < Y","X <= Y","X == Y","X > Y","X >= Y","X != Y"],"cat":["X ++ Y"],"union":["X & Y"],"range":["X .. Y","X ..",".. Y"],"in":["X in Y"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"and":"X and Y","or":"X or Y","not":"not Y"}),$8108(((accum$8754=({})),((accum$8754["with"]=["X with Y"]),accum$8754)),({"decl":["X -> Y","X = Y","X := Y","X => Y","X where Y","X when Y","X each Y"],"brack":["X_,_Y","(_Y","[_Y","{_Y","X_)","X_]","X_}"],"custom":[function(x$8758){return true;}]})))));;(SimplePriority$8160=function(groups$8764,priorities$8765){var $index$8800;var $length$8795;var temp$8790;var acc$8785;var _i$8774;var tracks$8775;var it$0$8768;(it$0$8768=function(){if((!$8092(SimplePriority$8160)(this))){return Object.create(SimplePriority$8160.prototype);}else{return this;}}());;(it$0$8768["groups"]=groups$8764);(_i$8774=0);;(tracks$8775=({}));;(it$0$8768["prio"]=(((acc$8785=[])),(((temp$8790=groups$8764.gnames)),((($length$8795=temp$8790.length)),((($index$8800=0)),function(){$8782:for(;($index$8800<$length$8795);($index$8800++)){var t0$8826;var t1$8827;var t2$8828;var t3$8829;var t4$8830;var t5$8831;var t6$8832;var t7$8833;var $index$8868;var $length$8863;var temp$8858;var acc$8853;var $index$8954;var $length$8949;var temp$8944;var acc$8939;var t0$8847;var t1$8848;var ltracks$8819;var lp$8820;var rtracks$8821;var rp$8822;var lt$8823;var rt$8824;var name$8816;var m$8808;(m$8808=temp$8790[$index$8800]);;(name$8816=m$8808);acc$8785.push((((t0$8826=$8107(priorities$8765,name$8816)),function(){if(((t0$8826 instanceof Array)&&((t1$8827=t0$8826.length),((t1$8827===2)&&((t2$8828=t0$8826[0]),((t2$8828 instanceof Array)&&((t3$8829=t2$8828.length),((t3$8829===2)&&((t4$8830=$10233(Array)(t2$8828[0])),(t4$8830[0]&&((ltracks$8819=t4$8830[1]),((lp$8820=t2$8828[1]),((t5$8831=t0$8826[1]),((t5$8831 instanceof Array)&&((t6$8832=t5$8831.length),((t6$8832===2)&&((t7$8833=$10233(Array)(t5$8831[0])),t7$8833[0]))))))))))))))))){(rtracks$8821=t7$8833[1]);(rp$8822=t5$8831[1]);}else{return $9973($8107(priorities$8765,name$8816),"/home/olivier/git/earl-grey/src/parse.eg",3552,3578);}}()),((t0$8847=(((acc$8853=[])),(((temp$8858=[ltracks$8819,rtracks$8821])),((($length$8863=temp$8858.length)),((($index$8868=0)),function(){$8850:for(;($index$8868<$length$8863);($index$8868++)){var $index$8905;var $length$8900;var temp$8895;var rval$8887;var tr$8884;var m$8876;(m$8876=temp$8858[$index$8868]);;(tr$8884=m$8876);acc$8853.push((((rval$8887=0)),(((temp$8895=tr$8884)),((($length$8900=temp$8895.length)),((($index$8905=0)),function(){$8888:for(;($index$8905<$length$8900);($index$8905++)){var t$8931;var t$8925;var m$8913;(m$8913=temp$8895[$index$8905]);;if((m$8913==="all")){(rval$8887=(Math.pow(2,31)-1));}else{(t$8925=m$8913);if((!$8107(tracks$8775,t$8925))){(rval$8887=(rval$8887|Math.pow(2,_i$8774)));(tracks$8775[t$8925]=(_i$8774++));}else{(t$8931=m$8913);(rval$8887=(rval$8887|Math.pow(2,$8107(tracks$8775,t$8931))));}}}}()))),rval$8887));}}()))),acc$8853)),function(){if(((t0$8847 instanceof Array)&&((t1$8848=t0$8847.length),(t1$8848===2)))){(lt$8823=t0$8847[0]);(rt$8824=t0$8847[1]);}else{return $9973((((acc$8939=[])),(((temp$8944=[ltracks$8819,rtracks$8821])),((($length$8949=temp$8944.length)),((($index$8954=0)),function(){$8936:for(;($index$8954<$length$8949);($index$8954++)){var $index$8991;var $length$8986;var temp$8981;var rval$8973;var tr$8970;var m$8962;(m$8962=temp$8944[$index$8954]);;(tr$8970=m$8962);acc$8939.push((((rval$8973=0)),(((temp$8981=tr$8970)),((($length$8986=temp$8981.length)),((($index$8991=0)),function(){$8974:for(;($index$8991<$length$8986);($index$8991++)){var t$9017;var t$9011;var m$8999;(m$8999=temp$8981[$index$8991]);;if((m$8999==="all")){(rval$8973=(Math.pow(2,31)-1));}else{(t$9011=m$8999);if((!$8107(tracks$8775,t$9011))){(rval$8973=(rval$8973|Math.pow(2,_i$8774)));(tracks$8775[t$9011]=(_i$8774++));}else{(t$9017=m$8999);(rval$8973=(rval$8973|Math.pow(2,$8107(tracks$8775,t$9017))));}}}}()))),rval$8973));}}()))),acc$8939),"/home/olivier/git/earl-grey/src/parse.eg",3588,3909);}}()),[[lt$8823,lp$8820],[rt$8824,rp$8822]]));}}()))),acc$8785));return it$0$8768;});;(SimplePriority$8160.prototype["compare"]=function(op1$9023,op2$9024){var t0$9052;var t1$9053;var t2$9054;var t3$9055;var t0$9064;var t1$9065;var t2$9066;var t3$9067;var $9038$9081;var $9037$9075;var i1$9039;var i2$9040;var code1$9041;var ord1$9042;var code2$9043;var ord2$9044;var self$9032;var it$0$9027;(it$0$9027=this);;(self$9032=this);;(i1$9039=it$0$9027.groups.get(op1$9023));;(i2$9040=it$0$9027.groups.get(op2$9024));;(t0$9052=$8107(it$0$9027.prio,i1$9039));if(((t0$9052 instanceof Array)&&((t1$9053=t0$9052.length),((t1$9053===2)&&(t0$9052[0],((t2$9054=t0$9052[1]),((t2$9054 instanceof Array)&&((t3$9055=t2$9054.length),(t3$9055===2))))))))){(code1$9041=t2$9054[0]);(ord1$9042=t2$9054[1]);;}else{$9973($8107(it$0$9027.prio,i1$9039),"/home/olivier/git/earl-grey/src/parse.eg",4036,4053);}(t0$9064=$8107(it$0$9027.prio,i2$9040));if(((t0$9064 instanceof Array)&&((t1$9065=t0$9064.length),((t1$9065===2)&&((t2$9066=t0$9064[0]),((t2$9066 instanceof Array)&&((t3$9067=t2$9066.length),(t3$9067===2)))))))){(code2$9043=t2$9066[0]);(ord2$9044=t2$9066[1]);t0$9064[1];;}else{$9973($8107(it$0$9027.prio,i2$9040),"/home/olivier/git/earl-grey/src/parse.eg",4073,4090);}($9037$9075=null);;$9037$9075;if(((code1$9041&code2$9043)===0)){throw $9986(["syntax","order"]).create("Cannot mix operators in the given order",({"left":op1$9023,"right":op2$9024}));}else{if((ord1$9042>ord2$9044)){return LEFT$8165;}else{if((ord1$9042<ord2$9044)){return RIGHT$8166;}else{if((ord1$9042===ord2$9044)){return BOTH$8167;}else{$9973($9037$9075);}}}}});$8108(SimplePriority$8160,$8108(((accum$9101=({})),((accum$9101["::name"]="SimplePriority"),accum$9101)),((accum$9105=({})),((accum$9105["::egclass"]=true),accum$9105))));SimplePriority$8160;(MAX$8161=(1/0));;(eg_order$8162=(((eg_groups$9114=OperatorGroups$8157($8108(({"sh_ifx":[function($9118$9120){var t0$9133;var $9122$9128;var ph$9123;(ph$9123=$9118$9120);;($9122$9128=ph$9123);;if((($9122$9128 instanceof Array)&&((t0$9133=$9122$9128.length),((t0$9133===3)&&(($9122$9128[0]==="IFX")&&($9122$9128[1]==="short")))))){$9122$9128[2];return true;}else{$9122$9128;return false;}}],"sh_pfx":[function($9143$9145){var t0$9158;var $9147$9153;var ph$9148;(ph$9148=$9143$9145);;($9147$9153=ph$9148);;if((($9147$9153 instanceof Array)&&((t0$9158=$9147$9153.length),((t0$9158===3)&&(($9147$9153[0]==="PFX")&&($9147$9153[1]==="short")))))){$9147$9153[2];return true;}else{$9147$9153;return false;}}],"sh_sfx":[function($9168$9170){var t0$9183;var $9172$9178;var ph$9173;(ph$9173=$9168$9170);;($9172$9178=ph$9173);;if((($9172$9178 instanceof Array)&&((t0$9183=$9172$9178.length),((t0$9183===3)&&(($9172$9178[0]==="SFX")&&($9172$9178[1]==="short")))))){$9172$9178[2];return true;}else{$9172$9178;return false;}}],"wi_ifx":[function($9193$9195){var t0$9208;var $9197$9203;var ph$9198;(ph$9198=$9193$9195);;($9197$9203=ph$9198);;if((($9197$9203 instanceof Array)&&((t0$9208=$9197$9203.length),((t0$9208===3)&&(($9197$9203[0]==="IFX")&&($9197$9203[1]==="wide")))))){$9197$9203[2];return true;}else{$9197$9203;return false;}}],"wi_pfx":[function($9218$9220){var t0$9233;var $9222$9228;var ph$9223;(ph$9223=$9218$9220);;($9222$9228=ph$9223);;if((($9222$9228 instanceof Array)&&((t0$9233=$9222$9228.length),((t0$9233===3)&&(($9222$9228[0]==="PFX")&&($9222$9228[1]==="wide")))))){$9222$9228[2];return true;}else{$9222$9228;return false;}}],"wi_sfx":[function($9243$9245){var t0$9258;var $9247$9253;var ph$9248;(ph$9248=$9243$9245);;($9247$9253=ph$9248);;if((($9247$9253 instanceof Array)&&((t0$9258=$9247$9253.length),((t0$9258===3)&&(($9247$9253[0]==="SFX")&&($9247$9253[1]==="wide")))))){$9247$9253[2];return true;}else{$9247$9253;return false;}}],"comma":["X_,_Y"],"obrack":["(_Y","[_Y","{_Y"],"cbrack":["X_)","X_]","X_}"]}),$8108(((accum$9269=({})),((accum$9269["with"]=["X with Y"]),accum$9269)),$8108(({"lowprio":["X each Y","X each? Y","X where Y","X !! Y","X -> Y","X => Y","X = Y","X := Y","X += Y","X -= Y","X *= Y","X /= Y","X <<= Y","X >>= Y","X >>>= Y","X ++= Y","X ?= Y","X or= Y","X and= Y","X each= Y","X % Y"]}),$8108(((accum$9273=({})),((accum$9273["when"]=["X when Y"]),accum$9273)),$8108(((accum$9277=({})),((accum$9277["or"]=["X or Y"]),accum$9277)),$8108(((accum$9281=({})),((accum$9281["and"]=["X and Y"]),accum$9281)),$8108(((accum$9285=({})),((accum$9285["not"]=["not Y"]),accum$9285)),({"cmp":["X == Y","X != Y","X >= Y","X <= Y","X > Y","X < Y"],"binxor":["X ^. Y"],"binor":["X |. Y"],"binand":["X &. Y"],"shift":["X << Y","X >> Y","X >>> Y"],"add":["X + Y","X - Y"],"mul":["X * Y","X / Y","X // Y","X mod Y"],"exp":["X ** Y"],"sjuxt":["XWHITEY"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"pfx":["._Y","#_Y","@_Y"],"when2":["when Y"],"pp":["<> Y"],"pipe":["X |> Y"]}))))))))))),((eg_prio$9115=$8108(({"comma":[["all",1],["all",1]],"obrack":[["all",MAX$8161],["all",1]],"cbrack":[["all",1],["all",MAX$8161]]}),$8108(((accum$9292=({})),((accum$9292["with"]=[["all",1999],["all",10]]),accum$9292)),$8108(({"lowprio":[["all",11],["all",10]]}),$8108(((accum$9296=({})),((accum$9296["when"]=[["all",100],["all",101]]),accum$9296)),$8108(((accum$9300=({})),((accum$9300["or"]=[["all",110],["all",111]]),accum$9300)),$8108(((accum$9304=({})),((accum$9304["and"]=[["all",120],["all",121]]),accum$9304)),$8108(((accum$9308=({})),((accum$9308["not"]=[["all",MAX$8161],["all",131]]),accum$9308)),({"cmp":[["all",200],["all",201]],"binxor":[["all",400],["all",401]],"binor":[["all",410],["all",411]],"binand":[["all",420],["all",421]],"shift":[["arith",500],["arith",501]],"add":[["arith",550],["arith",551]],"mul":[["arith",560],["arith",561]],"exp":[["arith",571],["arith",570]],"wjuxt":[["all",13],["all",12]],"colon":[["all",12],["all",10]],"sjuxt":[["all",2000],["all",2001]],"pfx":[["all",MAX$8161],["all",3000]],"pp":[["all",MAX$8161],["all",5]],"when2":[["all",MAX$8161],["all",101]],"pipe":[["pipe",550],["pipe",551]],"sh_ifx":[["all",1800],["all",1801]],"sh_pfx":[["all",MAX$8161],["all",1901]],"sh_sfx":[["all",1900],["all",MAX$8161]],"wi_ifx":[["customl",900],["customr",901]],"wi_pfx":[["all",MAX$8161],["all",901]],"wi_sfx":[["all",900],["all",MAX$8161]]})))))))))),SimplePriority$8160(eg_groups$9114,eg_prio$9115)));;(DONE$8163=-1);;(NONE$8164=0);;(LEFT$8165=1);;(RIGHT$8166=2);;(BOTH$8167=3);;(oparse$8168=function(next$9331,order$9332,finalize$9333){var between$9336;var right_op$9337;var stack$9338;var left_op$9339;var current$9340;(between$9336=finalize$9333(next$9331()));;(right_op$9337=next$9331());;(stack$9338=[]);;(left_op$9339=null);;(current$9340=null);;$9341:while(true){var v$9381;var other$9397;var $9360$9366;var o$9361;(o$9361=function(){if(((!left_op$9339)&&(!right_op$9337))){return DONE$8163;}else{return ((((!left_op$9339)&&RIGHT$8166)||((!right_op$9337)&&LEFT$8165))||order$9332(left_op$9339,right_op$9337));}}());;($9360$9366=o$9361);;if(($9360$9366===DONE$8163)){return between$9336;}else{if(($9360$9366===LEFT$8165)){current$9340.push(between$9336);(between$9336=finalize$9333(current$9340));(v$9381=stack$9338.pop());;(left_op$9339=v$9381[0]);(current$9340=v$9381[1]);}else{if(($9360$9366===RIGHT$8166)){stack$9338.push([left_op$9339,current$9340]);(left_op$9339=right_op$9337);(current$9340=[[right_op$9337],between$9336]);(between$9336=finalize$9333(next$9331()));(right_op$9337=next$9331());}else{if(($9360$9366===BOTH$8167)){current$9340[0].push(right_op$9337);current$9340.push(between$9336);(left_op$9339=right_op$9337);(between$9336=finalize$9333(next$9331()));(right_op$9337=next$9331());}else{(other$9397=$9360$9366);throw $9986(["should_never_happen"]).create("undefined priority",({"left":left_op$9339,"right":right_op$9337}));}}}}}});;(finalize$8169=function($9402$9404){var t0$9413;var $index$9490;var $length$9485;var temp$9480;var $index$9520;var $length$9515;var temp$9510;var $index$9559;var $length$9554;var temp$9549;var acc$9544;var other$9787;var args$9782;var f$9770;var orig_args$9771;var args$9772;var $9745$9757;var $9746$9758;var t0$9753;var t1$9754;var t2$9755;var $9744$9748;var inserted$9640;var result$9641;var f$9798;var other$9857;var x$9850;var $9831$9841;var $9832$9842;var t0$9839;var $9830$9834;var result$9795;var f$9865;var oloc$9932;var abloc$9933;var oabloc$9934;var rval$9935;var a$9927;var b$9928;var $9457$9912;var $9458$9913;var $9459$9914;var $9460$9915;var t0$9905;var t1$9906;var t2$9907;var t3$9908;var t4$9909;var t5$9910;var other$9952;var $9456$9901;var target$9626;var _b$9627;var body$9628;var f$9618;var body$9619;var f$9606;var arg$9607;var body$9608;var $9461$9597;var $9462$9598;var $9463$9599;var $9464$9600;var $9465$9601;var $9466$9602;var $9467$9603;var t0$9586;var t1$9587;var t2$9588;var t3$9589;var t4$9590;var t5$9591;var t6$9592;var t7$9593;var t8$9594;var bridge$9455$9595;var $9454$9581;var sumloc$9468;var orig_ops$9469;var op$9470;var other$9956;var ops$9449;var args$9450;var value$9440;var value$9435;var value$9429;var $9407$9424;var $9408$9425;var $9409$9426;var t0$9422;var $9406$9417;var ph$9410;var token$9411;(t0$9413=$9402$9404);(token$9411=t0$9413);(ph$9410=t0$9413);;($9406$9417=ph$9410);;if((($9407$9424=($9406$9417 instanceof Array))&&((t0$9422=$9406$9417.length),(($9409$9426=(t0$9422===2))&&($9406$9417[0]==="ID"))))){(value$9429=$9406$9417[1]);return __lt____lt____colon__$8154(["symbol",value$9429],token$9411);}else{if(($9409$9426&&($9406$9417[0]==="NUM"))){(value$9435=$9406$9417[1]);return __lt____lt____colon__$8154(["value",value$9435],token$9411);}else{if(($9409$9426&&($9406$9417[0]==="STR"))){(value$9440=$9406$9417[1]);return __lt____lt____colon__$8154(["value",value$9440],token$9411);}else{if(($9407$9424&&((t0$9422===1)&&($9406$9417[0]==="VOID")))){return __lt____lt____colon__$8154(["void"],token$9411);}else{if(($9407$9424&&(t0$9422>=1))){(ops$9449=$9406$9417[0]);(args$9450=Array.prototype.slice.call($9406$9417,1));(sumloc$9468=ops$9449[0].location);;(temp$9480=ops$9449.slice(1));;($length$9485=temp$9480.length);;($index$9490=0);;$9471:for(;($index$9490<$length$9485);($index$9490++)){var op$9506;var m$9498;(m$9498=temp$9480[$index$9490]);;(op$9506=m$9498);(sumloc$9468=__plus____plus____colon__$8155(sumloc$9468,op$9506));}(temp$9510=args$9450);;($length$9515=temp$9510.length);;($index$9520=0);;$9473:for(;($index$9520<$length$9515);($index$9520++)){var arg$9536;var m$9528;(m$9528=temp$9510[$index$9520]);;(arg$9536=m$9528);(sumloc$9468=__plus____plus____colon__$8155(sumloc$9468,arg$9536));}(orig_ops$9469=ops$9449);;(ops$9449=(((acc$9544=[])),(((temp$9549=ops$9449)),((($length$9554=temp$9549.length)),((($index$9559=0)),function(){$9541:for(;($index$9559<$length$9554);($index$9559++)){var o$9575;var m$9567;(m$9567=temp$9549[$index$9559]);;(o$9575=m$9567);acc$9544.push(o$9575[2]);}}()))),acc$9544));(op$9470=ops$9449[0]);;($9454$9581=[ops$9449,args$9450]);;if((($9461$9597=($9454$9581 instanceof Array))&&((t0$9586=$9454$9581.length),(($9463$9599=(t0$9586===2))&&((t1$9587=$9454$9581[0]),(($9465$9601=(t1$9587 instanceof Array))&&((t2$9588=t1$9587.length),((t2$9588===2)&&((t1$9587[0]==="WHITE")&&((t1$9587[1]===":")&&((t3$9589=$9454$9581[1]),((t3$9589 instanceof Array)&&((t4$9590=t3$9589.length),(t4$9590===3)))))))))))))){(f$9606=t3$9589[0]);(arg$9607=t3$9589[1]);(body$9608=t3$9589[2]);return __lt____lt____colon__$8154(["send",f$9606,__lt____lt____colon__$8154(["data",arg$9607,body$9608],__plus____plus____colon__$8155(arg$9607,body$9608))],sumloc$9468);}else{if(($9465$9601&&(($9467$9603=(t2$9588===1))&&((t1$9587[0]===":")&&((t3$9589=$9454$9581[1]),((t3$9589 instanceof Array)&&((t4$9590=t3$9589.length),(t4$9590===2)))))))){(f$9618=t3$9589[0]);(body$9619=t3$9589[1]);return __lt____lt____colon__$8154(["send",f$9618,__lt____lt____colon__$8154(["data",body$9619],body$9619)],sumloc$9468);}else{if(($9467$9603&&((t1$9587[0]==="with")&&((t3$9589=$9454$9581[1]),((t3$9589 instanceof Array)&&((t4$9590=t3$9589.length),((t4$9590===2)&&((target$9626=t3$9589[0]),((t5$9591=t3$9589[1]),((_b$9627=t5$9591),((t6$9592=$10233(["multi"])(t5$9591)),(t6$9592[0]&&((t7$9593=t6$9592[1]),((t8$9594=t7$9593.length),(t8$9594>=0))))))))))))))){(body$9628=Array.prototype.slice.call(t7$9593,0));(inserted$9640=false);;(result$9641=transform$8156(target$9626,function($9647$9649){var t0$9655;var $index$9715;var $length$9710;var temp$9705;var tr$9693;var res$9694;var args$9688;var x$9676;var f$9677;var a$9678;var b$9679;var t0$9664;var t1$9665;var t2$9666;var $9651$9659;var ph$9652;var expr$9653;(t0$9655=$9647$9649);(expr$9653=t0$9655);(ph$9652=t0$9655);;($9651$9659=ph$9652);;if((($9651$9659 instanceof Array)&&((t0$9664=$9651$9659.length),((t0$9664===2)&&(($9651$9659[0]==="symbol")&&($9651$9659[1]==="...")))))){(inserted$9640=true);return __lt____lt____colon__$8154(["multi"].concat(body$9628),_b$9627);}else{(x$9676=$9651$9659);if((x$9676.fromop&&(($9651$9659 instanceof Array)&&((t0$9664=$9651$9659.length),((t0$9664===3)&&(($9651$9659[0]==="send")&&((f$9677=$9651$9659[1]),((t1$9665=$9651$9659[2]),((t1$9665 instanceof Array)&&((t2$9666=t1$9665.length),((t2$9666===3)&&(t1$9665[0]==="data")))))))))))){(a$9678=t1$9665[1]);(b$9679=t1$9665[2]);return ["send",this(f$9677),__lt____lt____colon__$8154(["data",this(a$9678),this(b$9679)],__plus____plus____colon__$8155(a$9678,b$9679))];}else{if((($9651$9659 instanceof Array)&&((t0$9664=$9651$9659.length),((t0$9664>=1)&&($9651$9659[0]==="data"))))){(args$9688=Array.prototype.slice.call($9651$9659,1));(tr$9693=this);;(res$9694=["data"]);;(temp$9705=args$9688);;($length$9710=temp$9705.length);;($index$9715=0);;$9695:for(;($index$9715<$length$9710);($index$9715++)){var other$9739;var t0$9728;var t1$9729;var m$9723;(m$9723=temp$9705[$index$9715]);;(t0$9728=m$9723);if(((t0$9728 instanceof Array)&&((t1$9729=t0$9728.length),((t1$9729===2)&&((t0$9728[0]==="symbol")&&(t0$9728[1]==="...")))))){(inserted$9640=true);(res$9694=res$9694.concat(body$9628));}else{(other$9739=m$9723);res$9694.push(__lt____lt____colon__$8154(tr$9693(other$9739),other$9739));}}return __lt____lt____colon__$8154(res$9694,expr$9653);}else{$9973($9651$9659);}}}}));;if((!inserted$9640)){($9744$9748=target$9626);;if((($9744$9748 instanceof Array)&&((t0$9753=$9744$9748.length),((t0$9753===1)&&($9744$9748[0]==="void"))))){return __lt____lt____colon__$8154(["data"].concat(body$9628),sumloc$9468);}else{$9744$9748;if(target$9626.fromop){return __lt____lt____colon__$8154(["send",target$9626,__lt____lt____colon__$8154(["data"].concat(body$9628),_b$9627)],sumloc$9468);}else{if((($9745$9757=($9744$9748 instanceof Array))&&((t0$9753=$9744$9748.length),((t0$9753===3)&&(($9744$9748[0]==="send")&&((f$9770=$9744$9748[1]),((t1$9754=$9744$9748[2]),((orig_args$9771=t1$9754),((t1$9754 instanceof Array)&&((t2$9755=t1$9754.length),((t2$9755>=1)&&(t1$9754[0]==="data")))))))))))){(args$9772=Array.prototype.slice.call(t1$9754,1));return __lt____lt____colon__$8154(["send",f$9770,__lt____lt____colon__$8154(["data"].concat(args$9772).concat(body$9628),__plus____plus____colon__$8155(orig_args$9771,_b$9627))],sumloc$9468);}else{if(($9745$9757&&((t0$9753>=1)&&($9744$9748[0]==="data")))){(args$9782=Array.prototype.slice.call($9744$9748,1));return __lt____lt____colon__$8154(target$9626.concat(body$9628),sumloc$9468);}else{(other$9787=$9744$9748);return __lt____lt____colon__$8154(["send",target$9626,__lt____lt____colon__$8154(["data"].concat(body$9628),_b$9627)],sumloc$9468);}}}}}else{return __lt____lt____colon__$8154(result$9641,sumloc$9468);}}else{if(($9465$9601&&(($9467$9603=(t2$9588>=1))&&((bridge$9455$9595=t1$9587[0]),((bridge$9455$9595==="[")||(bridge$9455$9595===",")))))){Array.prototype.slice.call(t1$9587,1);$9454$9581[1];if((op$9470==="[")){(args$9450=args$9450.slice(1,-1));}(args$9450=(((f$9798=function($9801$9803){var other$9825;var t0$9816;var $9805$9811;var ph$9806;(ph$9806=$9801$9803);;($9805$9811=ph$9806);;if((($9805$9811 instanceof Array)&&((t0$9816=$9805$9811.length),((t0$9816===1)&&($9805$9811[0]==="void"))))){return false;}else{(other$9825=$9805$9811);return true;}})),args$9450.filter(f$9798)));(result$9795=((($9830$9834=args$9450)),function(){if((($9831$9841=($9830$9834 instanceof Array))&&((t0$9839=$9830$9834.length),(t0$9839===0)))){return ["value",(void 0)];}else{if(($9831$9841&&(t0$9839===1))){(x$9850=$9830$9834[0]);if(((!isNaN(sumloc$9468.start))&&(!isNaN(sumloc$9468.end)))){(x$9850["location"]=sumloc$9468);}return x$9850;}else{(other$9857=$9830$9834);return ["multi"].concat(args$9450);}}}()));;return __lt____lt____colon__$8154(result$9795,sumloc$9468);}else{if(($9467$9603&&(t1$9587[0]==="{"))){Array.prototype.slice.call(t1$9587,1);$9454$9581[1];(f$9865=function($9868$9870){var other$9892;var t0$9883;var $9872$9878;var ph$9873;(ph$9873=$9868$9870);;($9872$9878=ph$9873);;if((($9872$9878 instanceof Array)&&((t0$9883=$9872$9878.length),((t0$9883===1)&&($9872$9878[0]==="void"))))){return false;}else{(other$9892=$9872$9878);return true;}});;return __lt____lt____colon__$8154(["data"].concat(args$9450.slice(1,-1).filter(f$9865)),sumloc$9468);}else{if(($9465$9601&&(($9467$9603=(t2$9588===1))&&(t1$9587[0]==="WHITE")))){$9454$9581[1];return __lt____lt____colon__$8154(["send"].concat(args$9450),sumloc$9468);}else{if($9467$9603){t1$9587[0];($9456$9901=$9454$9581[1]);(t0$9905=$9456$9901);if((($9458$9913=(t0$9905 instanceof Array))&&((t1$9906=t0$9905.length),(($9460$9915=(t1$9906===2))&&((t2$9907=t0$9905[0]),((t2$9907 instanceof Array)&&((t3$9908=t2$9907.length),((t3$9908===1)&&((t2$9907[0]==="void")&&((t4$9909=t0$9905[1]),((t4$9909 instanceof Array)&&((t5$9910=t4$9909.length),((t5$9910===1)&&(t4$9909[0]==="void")))))))))))))){return __lt____lt____colon__$8154(["symbol",op$9470],orig_ops$9469[0]);}else{if($9460$9915){(a$9927=t0$9905[0]);(b$9928=t0$9905[1]);(oloc$9932=orig_ops$9469[0].location);;(abloc$9933=__plus____plus____colon__$8155(a$9927,b$9928));;(oabloc$9934=__plus____plus____colon__$8155(orig_ops$9469[0],abloc$9933));;(rval$9935=__lt____lt____colon__$8154(["send",__lt____lt____colon__$8154(["symbol",op$9470],oloc$9932),__lt____lt____colon__$8154(["data",a$9927,b$9928],abloc$9933)],__plus____plus____colon__$8155(oloc$9932,abloc$9933)));;(rval$9935["fromop"]=true);return rval$9935;}else{$9973($9456$9901,"/home/olivier/git/earl-grey/src/parse.eg",17040,17045);}}}else{(other$9952=$9454$9581);throw $9986(["should_never_happen"]).create("unknown node",({"node":token$9411}));}}}}}}}}else{(other$9956=$9406$9417);throw $9986(["should_never_happen"]).create("unknown node (B)",({"node":token$9411}));}}}}}});;(parse$8170=function(tokens$9962){var next$9965;(next$9965=function(){return tokens$9962.shift();});;return oparse$8168(next$9965,eg_order$8162.compare.bind(eg_order$8162),finalize$8169);});;(exports["parse"]=parse$8170);(exports["oparse"]=oparse$8168);(exports["finalize"]=finalize$8169);(exports["DONE"]=DONE$8163);(exports["NONE"]=NONE$8164);(exports["LEFT"]=LEFT$8165);(exports["RIGHT"]=RIGHT$8166);(exports["BOTH"]=BOTH$8167);
