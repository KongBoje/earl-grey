var $13148=(function(type$13151){var f$13155;(f$13155=type$13151["::check"]);if((f$13155===(void 0))){return (function(value$13161){return (value$13161 instanceof type$13151);});}else{return (function(value$13165){return f$13155.call(type$13151,value$13165);});}});
var $13167=(function(dest$13170,values$13171){var k$13176;(k$13176=null);$13174:for(k$13176 in values$13171){if(values$13171.hasOwnProperty(k$13176)){(dest$13170[k$13176]=values$13171[k$13176]);}}return dest$13170;});
var $13184=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $13185=(function($13187$13190){var ph$13196;(ph$13196=$13187$13190);var $13192$13202;($13192$13202=ph$13196);var bridge$13194$13207;var x$13211;(bridge$13194$13207=$13192$13202);if((((typeof(bridge$13194$13207)==="string")&&((x$13211=bridge$13194$13207),true))||((typeof(bridge$13194$13207)==="number")&&((x$13211=bridge$13194$13207),true)))){return ["value",x$13211];}else{var other$13222;(other$13222=$13192$13202);return other$13222["::serialize_ast"]();}});
var $13224=(function(obj$13227){var results$13232;(results$13232=[]);var k$13237;(k$13237=null);$13231:for(k$13237 in obj$13227){if(Object.prototype.hasOwnProperty.call(obj$13227,k$13237)){results$13232.push([k$13237,$13184(obj$13227,k$13237)]);}}return results$13232;});
var $13493=(function(arr$13496){var results$13502;var l$13503;(results$13502=[]);(l$13503=arr$13496.length);var i$13512;(i$13512=0);$13501:for(;(i$13512<l$13503);(i$13512++)){results$13502.push([i$13512,$13184(arr$13496,i$13512)]);}return results$13502;});
var $13260=(function(){var $13261$13267;($13261$13267=(function(tags$13272){var it$0$13275;(it$0$13275=(function(){if((!$13148($13261$13267)(this))){return Object.create($13261$13267.prototype);}else{return this;}})());(it$0$13275["tags"]=tags$13272);return it$0$13275;}));($13261$13267.prototype["create"]=(function(){var it$0$13295;var self$13296;(it$0$13295=this);(self$13296=this);var $13293$13305;($13293$13305=arguments);var t0$13310;var message$13314;var args$13315;(t0$13310=$13293$13305.length);if((t0$13310>=0)){(message$13314=(function(){if((0>=t0$13310)){return "";}else{return $13293$13305[0];}})());(args$13315=Array.prototype.slice.call($13293$13305,1));var e$13328;(e$13328=Error(message$13314));(e$13328["::tags"]=it$0$13295.tags);(e$13328["args"]=args$13315);var temp$13344;(temp$13344=$13493(args$13315));var $length$13350;($length$13350=temp$13344.length);var $index$13356;($index$13356=0);$13329:for(;($index$13356<$length$13350);($index$13356++)){var m$13365;(m$13365=temp$13344[$index$13356]);var t0$13370;var t1$13371;var i$13375;var arg$13376;(t0$13370=m$13365);if(((t0$13370 instanceof Array)&&(((t1$13371=t0$13370.length)),(t1$13371===2)))){(i$13375=t0$13370[0]);(arg$13376=t0$13370[1]);(e$13328[i$13375]=arg$13376);}else{$13241(m$13365);}}(e$13328["length"]=args$13315.length);(e$13328["name"]=["E"].concat(it$0$13295.tags).join("."));return e$13328;}else{$13241($13293$13305);}}));($13261$13267.prototype["::check"]=(function(e$13406){var it$0$13410;var self$13411;(it$0$13410=this);(self$13411=this);var tags$13421;if(((!e$13406)||(!$13148(Error)(e$13406)))){return false;}(tags$13421=(e$13406["::tags"]||[]));var temp$13432;(temp$13432=it$0$13410.tags);var $length$13438;($length$13438=temp$13432.length);var $index$13444;($index$13444=0);$13422:for(;($index$13444<$length$13438);($index$13444++)){var m$13453;(m$13453=temp$13432[$index$13444]);var tag$13461;(tag$13461=m$13453);if((tags$13421.indexOf(tag$13461)===-1)){return false;}else{false;}}return true;}));($13261$13267.prototype["::deconstruct"]=(function(e$13470){var it$0$13474;var self$13475;(it$0$13474=this);(self$13475=this);return e$13470.args;}));$13167($13261$13267,$13167((function(){var accum$13486;(accum$13486=({}));(accum$13486["::name"]="$13261");return accum$13486;})(),(function(){var accum$13490;(accum$13490=({}));(accum$13490["::egclass"]=true);return accum$13490;})()));return $13261$13267;})();
var $13241=(function(value$13244,url$13245,start$13246,end$13247){var err$13251;(err$13251=$13260(["match"]).create("Could not find a match for value",({"value":value$13244})));if(url$13245){(err$13251["location"]=["location",url$13245,start$13246,end$13247]);}throw err$13251;});
var send$12793;var __array_methods$12794;var __re_methods$12795;(send$12793=(function(obj$12808,$12805$12809){var ph$12815;var msg$12816;var t0$12818;(t0$12818=$12805$12809);(msg$12816=t0$12818);(ph$12815=t0$12818);var $12811$12827;($12811$12827=ph$12815);var bridge$12813$12832;(bridge$12813$12832=$12811$12827);if(((typeof(bridge$12813$12832)==="string")||(typeof(bridge$12813$12832)==="number"))){return obj$12808[msg$12816];}else{var other$12844;(other$12844=$12811$12827);return obj$12808["::send"](msg$12816);}}));(Array[":::project"]=(function($12850$12853){var ph$12858;var value$12859;var t0$12861;(t0$12861=$12850$12853);(value$12859=t0$12861);(ph$12858=t0$12861);var $12855$12870;($12855$12870=ph$12858);if($13148(Array)($12855$12870)){return [true,value$12859];}else{$12855$12870;return [true,[value$12859]];}}));(__array_methods$12794=$13167((function(){var accum$12891;(accum$12891=({}));(accum$12891["::check"]=(function(value$12896){if((value$12896 instanceof Array)){var i$12902;(i$12902=0);$12899:for(;(i$12902<this.length);(i$12902++)){if(($13184(this,i$12902)!==$13184(value$12896,i$12902))){return false;}}return true;}else{return false;}}));return accum$12891;})(),$13167((function(){var accum$12911;(accum$12911=({}));(accum$12911["::clone"]=(function(){return $13167(this.slice(0),this);}));return accum$12911;})(),$13167((function(){var accum$12918;(accum$12918=({}));(accum$12918[":::project"]=(function(value$12923){if((value$12923 instanceof Array)){var i$12929;(i$12929=0);$12926:for(;(i$12929<this.length);(i$12929++)){if(($13184(this,i$12929)!==$13184(value$12923,i$12929))){return [true,this.concat([value$12923])];}}return [true,value$12923];}else{return [true,this.concat([value$12923])];}}));return accum$12918;})(),(function(){var accum$12938;(accum$12938=({}));(accum$12938["::serialize_ast"]=(function(){return ["array"].concat(this.map($13185));}));return accum$12938;})()))));var temp$12948;(temp$12948=$13224(__array_methods$12794));var $length$12954;($length$12954=temp$12948.length);var $index$12960;($index$12960=0);$12796:for(;($index$12960<$length$12954);($index$12960++)){var m$12969;(m$12969=temp$12948[$index$12960]);var t0$12974;var t1$12975;var k$12979;var v$12980;(t0$12974=m$12969);if(((t0$12974 instanceof Array)&&(((t1$12975=t0$12974.length)),(t1$12975===2)))){(k$12979=t0$12974[0]);(v$12980=t0$12974[1]);if((!$13184(Array.prototype,k$12979))){Object.defineProperty(Array.prototype,k$12979,({"enumerable":false,"value":v$12980}));}}else{$13241(m$12969);}}(__re_methods$12795=$13167((function(){var accum$13000;(accum$13000=({}));(accum$13000["::check"]=(function($13004$13007){var ph$13012;(ph$13012=$13004$13007);var $13009$13018;($13009$13018=ph$13012);var value$13026;if((typeof($13009$13018)==="string")){(value$13026=$13009$13018);if(value$13026.match(this)){return true;}else{return false;}}else{var other$13031;(other$13031=$13009$13018);return false;}}));return accum$13000;})(),(function(){var accum$13034;(accum$13034=({}));(accum$13034[":::project"]=(function($13038$13041){var ph$13046;(ph$13046=$13038$13041);var $13043$13052;($13043$13052=ph$13046);var value$13060;if((typeof($13043$13052)==="string")){(value$13060=$13043$13052);var $13063$13068;($13063$13068=value$13060.match(this));var m$13076;if(($13063$13068===null)){(m$13076=$13063$13068);return [false,null];}else{var m$13081;(m$13081=$13063$13068);return [true,m$13081];}}else{var other$13085;(other$13085=$13043$13052);return [false,null];}}));return accum$13034;})()));var temp$13091;(temp$13091=$13224(__re_methods$12795));var $length$13097;($length$13097=temp$13091.length);var $index$13103;($index$13103=0);$12799:for(;($index$13103<$length$13097);($index$13103++)){var m$13112;(m$13112=temp$13091[$index$13103]);var t0$13117;var t1$13118;var k$13122;var v$13123;(t0$13117=m$13112);if(((t0$13117 instanceof Array)&&(((t1$13118=t0$13117.length)),(t1$13118===2)))){(k$13122=t0$13117[0]);(v$13123=t0$13117[1]);if((!$13184(RegExp.prototype,k$13122))){Object.defineProperty(RegExp.prototype,k$13122,({"enumerable":false,"value":v$13123}));}}else{$13241(m$13112);}}if((!Function.prototype["::send"])){Object.defineProperty(Function.prototype,"::send",$13167(({"enumerable":false}),(function(){var accum$13141;(accum$13141=({}));(accum$13141["value"]=(function(args$13146){return this.apply(this,args$13146);}));return accum$13141;})()));}
var $16184=(function(arrays$16187){var results$16191;(results$16191=[]);var temp$16201;(temp$16201=arrays$16187);var $length$16207;($length$16207=temp$16201.length);var $index$16213;($index$16213=0);$16192:for(;($index$16213<$length$16207);($index$16213++)){var m$16222;(m$16222=temp$16201[$index$16213]);var a$16230;(a$16230=m$16222);(results$16191=results$16191.concat(a$16230));}return results$16191;});
var $16236=(function(type$16239){return (function(value$16243){var f$16247;(f$16247=type$16239[":::project"]);if((f$16247===(void 0))){(f$16247=type$16239["::project"]);if((f$16247===(void 0))){return [true,type$16239(value$16243)];}else{var rval$16260;(rval$16260=false);try{(rval$16260=[true,f$16247(value$16243)]);}catch(excv$16271){var e$16277;(e$16277=excv$16271);(rval$16260=[false,null]);}return rval$16260;}}else{return f$16247.call(type$16239,value$16243);}});});
var $16455=Object.keys;
var $16456=(function($16458$16461,key$16462){var ph$16470;(ph$16470=$16458$16461);var $16464$16476;($16464$16476=ph$16470);var bridge$16466$16481;(bridge$16466$16481=$16464$16476);if(((bridge$16466$16481===null)||(bridge$16466$16481===(void 0)))){return false;}else{var x$16493;if((typeof($16464$16476)==="string")){(x$16493=$16464$16476);return (key$16462 in String.prototype);}else{var x$16498;if((typeof($16464$16476)==="number")){(x$16498=$16464$16476);return (key$16462 in Number.prototype);}else{var x$16503;(x$16503=$16464$16476);return (key$16462 in x$16503);}}}});
var $16283=(function($16285$16288,b$16289){var ph$16303;var a$16304;var t0$16306;(t0$16306=$16285$16288);(a$16304=t0$16306);(ph$16303=t0$16306);var $16291$16315;($16291$16315=ph$16303);var bridge$16294$16320;if(($16291$16315===b$16289)){return true;}else{(bridge$16294$16320=$16291$16315);if(((function(){var bridge$16295$16334;(bridge$16295$16334=bridge$16294$16320);return ((function(){var bridge$16296$16341;(bridge$16296$16341=bridge$16295$16334);return ((function(){var bridge$16297$16348;(bridge$16297$16348=bridge$16296$16341);return ((function(){var bridge$16298$16355;(bridge$16298$16355=bridge$16297$16348);return ((typeof(bridge$16298$16355)==="number")||(typeof(bridge$16298$16355)==="string"));})()||(bridge$16297$16348===null));})()||(bridge$16296$16341===(void 0)));})()||(bridge$16295$16334===true));})()||(bridge$16294$16320===false))){return false;}else{if($13148(Array)($16291$16315)){if(((!$13148(Array)(b$16289))||(a$16304.length!==b$16289.length))){return false;}var i$16371;(i$16371=0);$16367:for(;(i$16371<a$16304.length);(i$16371++)){if((!$16283(a$16304[i$16371],b$16289[i$16371]))){return false;}}return true;}else{$16291$16315;if((((Object.getPrototypeOf(a$16304)===Object.prototype)&&$13148(Object)(b$16289))&&(Object.getPrototypeOf(b$16289)===Object.prototype))){var ka$16385;(ka$16385=$16455(a$16304));if((!$16283(ka$16385.sort(),$16455(b$16289).sort()))){return false;}var temp$16396;(temp$16396=ka$16385);var $length$16402;($length$16402=temp$16396.length);var $index$16408;($index$16408=0);$16386:for(;($index$16408<$length$16402);($index$16408++)){var m$16417;(m$16417=temp$16396[$index$16408]);var k$16425;(k$16425=m$16417);if((!$16283(a$16304[k$16425],b$16289[k$16425]))){return false;}}return true;}else{if($16456($16291$16315,"::serialize")){$16291$16315["::serialize"];var $16432$16437;($16432$16437=b$16289);if($16456($16432$16437,"::serialize")){$16432$16437["::serialize"];return $16283(a$16304["::serialize"](),b$16289["::serialize"]());}else{var otherwise$16449;(otherwise$16449=$16432$16437);return false;}}else{var otherwise$16453;(otherwise$16453=$16291$16315);return false;}}}}}});var accum$14113;var accum$14117;var accum$14765;var accum$14769;var accum$14995;var accum$14999;var accum$15003;var accum$15007;var accum$15011;var accum$15015;var accum$15027;var accum$15031;var accum$15035;var accum$15039;var accum$15043;var eg_groups$14780;var eg_prio$14781;var $13521$13545;var __lt____lt____colon__$13546;var __plus____plus____colon__$13547;var $13522$13548;var Body$13549;var transform$13550;var OperatorGroups$13551;var parse_op_description$13552;var SimplePriority$13553;var MAX$13554;var eg_order$13555;var DONE$13556;var NONE$13557;var LEFT$13558;var RIGHT$13559;var BOTH$13560;var oparse$13561;var finalize$13562;var parse$13563;($13521$13545=require("./location"));(__lt____lt____colon__$13546=$13521$13545["<<:"]);(__plus____plus____colon__$13547=$13521$13545["++:"]);($13522$13548=require("./util"));(Body$13549=$13522$13548.Body);(transform$13550=(function(expr$13583,cb$13584){var rval$13604;var tr$13589;var result$13590;(tr$13589=(function(x$13595){return transform$13550(x$13595,cb$13584);}));(result$13590=(((rval$13604=false)),((function(){try{(rval$13604=cb$13584.call(tr$13589,expr$13583));}catch(excv$13615){var name$13667;var args$13668;var v$13662;var s$13657;var $13631$13643;var $13632$13644;var $13633$13645;var t0$13641;var $13626$13636;var e$13621;(e$13621=excv$13615);(rval$13604=((($13626$13636=expr$13583)),(function(){if((($13631$13643=($13626$13636 instanceof Array))&&(((t0$13641=$13626$13636.length)),((t0$13641===1)&&($13626$13636[0]==="void"))))){return ["void"];}else{if(($13631$13643&&(($13633$13645=(t0$13641===2))&&($13626$13636[0]==="symbol")))){(s$13657=$13626$13636[1]);return expr$13583;}else{if(($13633$13645&&($13626$13636[0]==="value"))){(v$13662=$13626$13636[1]);return expr$13583;}else{if(($13631$13643&&(t0$13641>=1))){(name$13667=$13626$13636[0]);(args$13668=Array.prototype.slice.call($13626$13636,1));return [name$13667].concat(args$13668.map(tr$13589));}else{$13241($13626$13636);}}}}})()));}})(),rval$13604)));return __lt____lt____colon__$13546(result$13590,expr$13583);}));(OperatorGroups$13551=(function(groups$13680){var $index$13727;var $length$13721;var temp$13715;var acc$13709;var $index$13787;var $length$13781;var temp$13775;var acc$13769;var $index$13892;var $length$13886;var temp$13880;var acc$13874;var itg$13695;var it$0$13683;(it$0$13683=(function(){if((!$13148(OperatorGroups$13551)(this))){return Object.create(OperatorGroups$13551.prototype);}else{return this;}})());(itg$13695=$13224(groups$13680));(it$0$13683["gnames"]=(((acc$13709=[])),(((temp$13715=itg$13695)),((($length$13721=temp$13715.length)),((($index$13727=0)),(function(){$13704:for(;($index$13727<$length$13721);($index$13727++)){var name$13746;var t0$13741;var t1$13742;var m$13736;(m$13736=temp$13715[$index$13727]);(t0$13741=m$13736);if(((t0$13741 instanceof Array)&&(((t1$13742=t0$13741.length)),(t1$13742===2)))){(name$13746=t0$13741[0]);t0$13741[1];acc$13709.push(name$13746);}else{$13241(m$13736,"/home/olivier/git/earl-grey/src/parse.eg",565,591);}}})()))),acc$13709));(it$0$13683["groups"]=(((acc$13769=[])),(((temp$13775=itg$13695)),((($length$13781=temp$13775.length)),((($index$13787=0)),(function(){$13764:for(;($index$13787<$length$13781);($index$13787++)){var $index$13843;var $length$13837;var temp$13831;var acc$13825;var name$13806;var descrs$13807;var t0$13801;var t1$13802;var m$13796;(m$13796=temp$13775[$index$13787]);(t0$13801=m$13796);if(((t0$13801 instanceof Array)&&(((t1$13802=t0$13801.length)),(t1$13802===2)))){(name$13806=t0$13801[0]);(descrs$13807=t0$13801[1]);acc$13769.push($16184((((acc$13825=[])),(((temp$13831=descrs$13807)),((($length$13837=temp$13831.length)),((($index$13843=0)),(function(){$13820:for(;($index$13843<$length$13837);($index$13843++)){var descr$13860;var m$13852;(m$13852=temp$13831[$index$13843]);(descr$13860=m$13852);acc$13825.push(parse_op_description$13552(descr$13860));}})()))),acc$13825)));}else{$13241(m$13796,"/home/olivier/git/earl-grey/src/parse.eg",608,705);}}})()))),acc$13769));(it$0$13683["fns"]=[]);(it$0$13683["to_gid"]=({"IFX":({"wide":({}),"short":({})}),"PFX":({"wide":({}),"short":({})}),"SFX":({"wide":({}),"short":({})})}));(acc$13874=[]);(temp$13880=$13493(it$0$13683.groups));($length$13886=temp$13880.length);($index$13892=0);$13696:for(;($index$13892<$length$13886);($index$13892++)){var $index$13949;var $length$13943;var temp$13937;var acc$13931;var i$13911;var group$13912;var t0$13906;var t1$13907;var m$13901;(m$13901=temp$13880[$index$13892]);(t0$13906=m$13901);if(((t0$13906 instanceof Array)&&(((t1$13907=t0$13906.length)),(t1$13907===2)))){(i$13911=t0$13906[0]);(group$13912=t0$13906[1]);acc$13874.push((((acc$13931=[])),(((temp$13937=group$13912)),((($length$13943=temp$13937.length)),((($index$13949=0)),(function(){$13925:for(;($index$13949<$length$13943);($index$13949++)){var f$13989;var fixity$13968;var width$13969;var name$13970;var t0$13963;var t1$13964;var m$13958;(m$13958=temp$13937[$index$13949]);(t0$13963=m$13958);if(((t0$13963 instanceof Array)&&(((t1$13964=t0$13963.length)),(t1$13964===3)))){(fixity$13968=t0$13963[0]);(width$13969=t0$13963[1]);(name$13970=t0$13963[2]);acc$13931.push((($13184($13184(it$0$13683.to_gid,fixity$13968),width$13969)[name$13970]=i$13911)));}else{(f$13989=m$13958);acc$13931.push(it$0$13683.fns.push([f$13989,i$13911]));}}})()))),acc$13931));}else{$13241(m$13901,"/home/olivier/git/earl-grey/src/parse.eg",870,1071);}}acc$13874;return it$0$13683;}));(OperatorGroups$13551.prototype["get_name"]=(function(o$13999){var it$0$14003;var self$14004;(it$0$14003=this);(self$14004=this);return $13184(it$0$14003.gnames,it$0$14003.get(o$13999));}));(OperatorGroups$13551.prototype["get"]=(function($14015$14018){var t0$14036;var t1$14037;var $index$14075;var $length$14069;var temp$14063;var attempt$14052;var o$14031;var fixity$14032;var width$14033;var name$14034;var it$0$14022;var self$14023;(it$0$14022=this);(self$14023=this);(t0$14036=$14015$14018);(o$14031=t0$14036);if(((t0$14036 instanceof Array)&&(((t1$14037=t0$14036.length)),(t1$14037===3)))){(fixity$14032=t0$14036[0]);(width$14033=t0$14036[1]);(name$14034=t0$14036[2]);}else{$13241($14015$14018);}(attempt$14052=$13184($13184($13184(it$0$14022.to_gid,fixity$14032),width$14033),name$14034));if((attempt$14052===(void 0))){(temp$14063=it$0$14022.fns);($length$14069=temp$14063.length);($index$14075=0);$14057:for(;($index$14075<$length$14069);($index$14075++)){var f$14094;var i$14095;var t0$14089;var t1$14090;var m$14084;(m$14084=temp$14063[$index$14075]);(t0$14089=m$14084);if(((t0$14089 instanceof Array)&&(((t1$14090=t0$14089.length)),(t1$14090===2)))){(f$14094=t0$14089[0]);(i$14095=t0$14089[1]);if(f$14094(o$14031)){return i$14095;}}else{$13241(m$14084,"/home/olivier/git/earl-grey/src/parse.eg",1250,1333);}}throw $13260(["syntax","unknown_operator"]).create(("Unknown operator: "+[true,String(o$14031)][1]),({"operator":o$14031}));}else{return attempt$14052;}}));$13167(OperatorGroups$13551,$13167(((accum$14113=({})),((accum$14113["::name"]="OperatorGroups"),accum$14113)),((accum$14117=({})),((accum$14117["::egclass"]=true),accum$14117))));OperatorGroups$13551;(parse_op_description$13552=(function($14123$14126){var otherwise$14216;var $14196$14205;var $14192$14199;var otherwise$14250;var $14230$14239;var $14226$14233;var t0$14186;var t1$14187;var fixity$14183;var short$14184;var other$14254;var x$14160;var w1$14161;var op$14162;var w2$14163;var y$14164;var f$14155;var rx$14149;var t0$14143;var t1$14144;var t2$14145;var $14128$14138;var ph$14132;(ph$14132=$14123$14126);($14128$14138=ph$14132);(rx$14149=RegExp("(?:^((?:X?))((?:[ _]?))((?:[^ _Y]*))((?:[ _]?))((?:Y?))$)",""));if($13148(Function)($14128$14138)){(f$14155=$14128$14138);return f$14155;}else{(t0$14143=$16236(rx$14149)($14128$14138));if((t0$14143[0]&&(((t1$14144=t0$14143[1])),(((t2$14145=t1$14144.length)),(t2$14145===6))))){t1$14144[0];(x$14160=t1$14144[1]);(w1$14161=t1$14144[2]);(op$14162=t1$14144[3]);(w2$14163=t1$14144[4]);(y$14164=t1$14144[5]);(t0$14186=((($14192$14199=null)),($14192$14199,(function(){if((x$14160==="")){return ["PFX",(w2$14163==="")];}else{if((y$14164==="")){return ["SFX",(w1$14161==="")];}else{(otherwise$14216=$14192$14199);return ["IFX",((w1$14161==="")||(w2$14163===""))];}}})())));if(((t0$14186 instanceof Array)&&(((t1$14187=t0$14186.length)),(t1$14187===2)))){(fixity$14183=t0$14186[0]);(short$14184=t0$14186[1]);}else{$13241(((($14226$14233=null)),($14226$14233,(function(){if((x$14160==="")){return ["PFX",(w2$14163==="")];}else{if((y$14164==="")){return ["SFX",(w1$14161==="")];}else{(otherwise$14250=$14226$14233);return ["IFX",((w1$14161==="")||(w2$14163===""))];}}})())),"/home/olivier/git/earl-grey/src/parse.eg",1714,1922);}if(((w1$14161==="_")||(w2$14163==="_"))){return [[fixity$14183,"short",op$14162],[fixity$14183,"wide",op$14162]];}else{return [[fixity$14183,(function(){if(short$14184){return "short";}else{return "wide";}})(),op$14162]];}}else{(other$14254=$14128$14138);throw $13260(["invalid_op_description"]).create(("Invalid operator description: "+other$14254));}}}));(SimplePriority$13553=(function(groups$14261,priorities$14262){var $index$14312;var $length$14306;var temp$14300;var acc$14294;var _i$14276;var tracks$14277;var it$0$14265;(it$0$14265=(function(){if((!$13148(SimplePriority$13553)(this))){return Object.create(SimplePriority$13553.prototype);}else{return this;}})());(it$0$14265["groups"]=groups$14261);(_i$14276=0);(tracks$14277=({}));(it$0$14265["prio"]=(((acc$14294=[])),(((temp$14300=groups$14261.gnames)),((($length$14306=temp$14300.length)),((($index$14312=0)),(function(){$14289:for(;($index$14312<$length$14306);($index$14312++)){var t0$14342;var t1$14343;var t2$14344;var t3$14345;var t4$14346;var t5$14347;var t6$14348;var t7$14349;var $index$14424;var $length$14418;var temp$14412;var acc$14406;var $index$14546;var $length$14540;var temp$14534;var acc$14528;var t0$14395;var t1$14396;var ltracks$14335;var lp$14336;var rtracks$14337;var rp$14338;var lt$14339;var rt$14340;var name$14329;var m$14321;(m$14321=temp$14300[$index$14312]);(name$14329=m$14321);acc$14294.push(((((t0$14342=$13184(priorities$14262,name$14329))),(function(){if(((t0$14342 instanceof Array)&&(((t1$14343=t0$14342.length)),((t1$14343===2)&&(((t2$14344=t0$14342[0])),((t2$14344 instanceof Array)&&(((t3$14345=t2$14344.length)),((t3$14345===2)&&(((t4$14346=$16236(Array)(t2$14344[0]))),(t4$14346[0]&&((ltracks$14335=t4$14346[1]),((lp$14336=t2$14344[1]),(((t5$14347=t0$14342[1])),((t5$14347 instanceof Array)&&(((t6$14348=t5$14347.length)),((t6$14348===2)&&(((t7$14349=$16236(Array)(t5$14347[0]))),t7$14349[0]))))))))))))))))){(rtracks$14337=t7$14349[1]);(rp$14338=t5$14347[1]);}else{return $13241($13184(priorities$14262,name$14329),"/home/olivier/git/earl-grey/src/parse.eg",3721,3737);}})()),(((t0$14395=(((acc$14406=[])),(((temp$14412=[ltracks$14335,rtracks$14337])),((($length$14418=temp$14412.length)),((($index$14424=0)),(function(){$14401:for(;($index$14424<$length$14418);($index$14424++)){var $index$14470;var $length$14464;var temp$14458;var rval$14446;var tr$14441;var m$14433;(m$14433=temp$14412[$index$14424]);(tr$14441=m$14433);acc$14406.push((((rval$14446=0)),(((temp$14458=tr$14441)),((($length$14464=temp$14458.length)),((($index$14470=0)),(function(){$14447:for(;($index$14470<$length$14464);($index$14470++)){var t$14509;var t$14495;var m$14479;(m$14479=temp$14458[$index$14470]);if((m$14479==="all")){(rval$14446=(Math.pow(2,31)-1));}else{(t$14495=m$14479);if((!$13184(tracks$14277,t$14495))){(rval$14446=(rval$14446|Math.pow(2,_i$14276)));(tracks$14277[t$14495]=(_i$14276++));}else{(t$14509=m$14479);(rval$14446=(rval$14446|Math.pow(2,$13184(tracks$14277,t$14509))));}}}})()))),rval$14446));}})()))),acc$14406))),(function(){if(((t0$14395 instanceof Array)&&(((t1$14396=t0$14395.length)),(t1$14396===2)))){(lt$14339=t0$14395[0]);(rt$14340=t0$14395[1]);}else{return $13241((((acc$14528=[])),(((temp$14534=[ltracks$14335,rtracks$14337])),((($length$14540=temp$14534.length)),((($index$14546=0)),(function(){$14523:for(;($index$14546<$length$14540);($index$14546++)){var $index$14592;var $length$14586;var temp$14580;var rval$14568;var tr$14563;var m$14555;(m$14555=temp$14534[$index$14546]);(tr$14563=m$14555);acc$14528.push((((rval$14568=0)),(((temp$14580=tr$14563)),((($length$14586=temp$14580.length)),((($index$14592=0)),(function(){$14569:for(;($index$14592<$length$14586);($index$14592++)){var t$14631;var t$14617;var m$14601;(m$14601=temp$14580[$index$14592]);if((m$14601==="all")){(rval$14568=(Math.pow(2,31)-1));}else{(t$14617=m$14601);if((!$13184(tracks$14277,t$14617))){(rval$14568=(rval$14568|Math.pow(2,_i$14276)));(tracks$14277[t$14617]=(_i$14276++));}else{(t$14631=m$14601);(rval$14568=(rval$14568|Math.pow(2,$13184(tracks$14277,t$14631))));}}}})()))),rval$14568));}})()))),acc$14528),"/home/olivier/git/earl-grey/src/parse.eg",3758,4078);}})()),[[lt$14339,lp$14336],[rt$14340,rp$14338]]));}})()))),acc$14294));return it$0$14265;}));(SimplePriority$13553.prototype["compare"]=(function(op1$14643,op2$14644){var t0$14681;var t1$14682;var t2$14683;var t3$14684;var t0$14709;var t1$14710;var t2$14711;var t3$14712;var $14667$14743;var $14662$14737;var i1$14668;var i2$14669;var code1$14670;var ord1$14671;var code2$14672;var ord2$14673;var it$0$14648;var self$14649;(it$0$14648=this);(self$14649=this);(i1$14668=it$0$14648.groups.get(op1$14643));(i2$14669=it$0$14648.groups.get(op2$14644));(t0$14681=$13184(it$0$14648.prio,i1$14668));if(((t0$14681 instanceof Array)&&(((t1$14682=t0$14681.length)),((t1$14682===2)&&(t0$14681[0],(((t2$14683=t0$14681[1])),((t2$14683 instanceof Array)&&(((t3$14684=t2$14683.length)),(t3$14684===2))))))))){(code1$14670=t2$14683[0]);(ord1$14671=t2$14683[1]);}else{$13241($13184(it$0$14648.prio,i1$14668),"/home/olivier/git/earl-grey/src/parse.eg",4205,4215);}(t0$14709=$13184(it$0$14648.prio,i2$14669));if(((t0$14709 instanceof Array)&&(((t1$14710=t0$14709.length)),((t1$14710===2)&&(((t2$14711=t0$14709[0])),((t2$14711 instanceof Array)&&(((t3$14712=t2$14711.length)),(t3$14712===2)))))))){(code2$14672=t2$14711[0]);(ord2$14673=t2$14711[1]);t0$14709[1];}else{$13241($13184(it$0$14648.prio,i2$14669),"/home/olivier/git/earl-grey/src/parse.eg",4242,4252);}($14662$14737=null);$14662$14737;if(((code1$14670&code2$14672)===0)){return NONE$13557;}else{if((ord1$14671>ord2$14673)){return LEFT$13558;}else{if((ord1$14671<ord2$14673)){return RIGHT$13559;}else{if((ord1$14671===ord2$14673)){return BOTH$13560;}else{$13241($14662$14737);}}}}}));$13167(SimplePriority$13553,$13167(((accum$14765=({})),((accum$14765["::name"]="SimplePriority"),accum$14765)),((accum$14769=({})),((accum$14769["::egclass"]=true),accum$14769))));SimplePriority$13553;(MAX$13554=(1/0));(eg_order$13555=(((eg_groups$14780=OperatorGroups$13551($13167(({"sh_ifx":[(function($14791$14794){var t0$14810;var $14796$14805;var ph$14799;(ph$14799=$14791$14794);($14796$14805=ph$14799);if((($14796$14805 instanceof Array)&&(((t0$14810=$14796$14805.length)),((t0$14810===3)&&(($14796$14805[0]==="IFX")&&($14796$14805[1]==="short")))))){$14796$14805[2];return true;}else{$14796$14805;return false;}})],"sh_pfx":[(function($14825$14828){var t0$14844;var $14830$14839;var ph$14833;(ph$14833=$14825$14828);($14830$14839=ph$14833);if((($14830$14839 instanceof Array)&&(((t0$14844=$14830$14839.length)),((t0$14844===3)&&(($14830$14839[0]==="PFX")&&($14830$14839[1]==="short")))))){$14830$14839[2];return true;}else{$14830$14839;return false;}})],"sh_sfx":[(function($14859$14862){var t0$14878;var $14864$14873;var ph$14867;(ph$14867=$14859$14862);($14864$14873=ph$14867);if((($14864$14873 instanceof Array)&&(((t0$14878=$14864$14873.length)),((t0$14878===3)&&(($14864$14873[0]==="SFX")&&($14864$14873[1]==="short")))))){$14864$14873[2];return true;}else{$14864$14873;return false;}})],"wi_ifx":[(function($14893$14896){var t0$14912;var $14898$14907;var ph$14901;(ph$14901=$14893$14896);($14898$14907=ph$14901);if((($14898$14907 instanceof Array)&&(((t0$14912=$14898$14907.length)),((t0$14912===3)&&(($14898$14907[0]==="IFX")&&($14898$14907[1]==="wide")))))){$14898$14907[2];return true;}else{$14898$14907;return false;}})],"wi_pfx":[(function($14927$14930){var t0$14946;var $14932$14941;var ph$14935;(ph$14935=$14927$14930);($14932$14941=ph$14935);if((($14932$14941 instanceof Array)&&(((t0$14946=$14932$14941.length)),((t0$14946===3)&&(($14932$14941[0]==="PFX")&&($14932$14941[1]==="wide")))))){$14932$14941[2];return true;}else{$14932$14941;return false;}})],"wi_sfx":[(function($14961$14964){var t0$14980;var $14966$14975;var ph$14969;(ph$14969=$14961$14964);($14966$14975=ph$14969);if((($14966$14975 instanceof Array)&&(((t0$14980=$14966$14975.length)),((t0$14980===3)&&(($14966$14975[0]==="SFX")&&($14966$14975[1]==="wide")))))){$14966$14975[2];return true;}else{$14966$14975;return false;}})],"comma":["X_,_Y"],"obrack":["(_Y","[_Y","{_Y"],"cbrack":["X_)","X_]","X_}"]}),$13167(((accum$14995=({})),((accum$14995["withp"]=["with Y"]),accum$14995)),$13167(((accum$14999=({})),((accum$14999["with"]=["X with Y"]),accum$14999)),$13167(({"lowprio":["X each Y","X each? Y","X where Y","X_!!_Y","X_->_Y","X_=>_Y","X_=_Y","X_:=_Y","X_+=_Y","X_-=_Y","X_*=_Y","X_/=_Y","X_<<=_Y","X_>>=_Y","X_>>>=_Y","X_++=_Y","X_?=_Y","X_or=_Y","X_and=_Y","X_each=_Y","X_%_Y"]}),$13167(((accum$15003=({})),((accum$15003["when"]=["X_when_Y"]),accum$15003)),$13167(((accum$15007=({})),((accum$15007["or"]=["X_or_Y"]),accum$15007)),$13167(((accum$15011=({})),((accum$15011["and"]=["X_and_Y"]),accum$15011)),$13167(((accum$15015=({})),((accum$15015["not"]=["not_Y"]),accum$15015)),({"cmp":["X_==_Y","X_!=_Y","X_>=_Y","X_<=_Y","X_>_Y","X_<_Y"],"binxor":["X_^._Y"],"binor":["X_|._Y"],"binand":["X_&._Y"],"shift":["X_<<_Y","X_>>_Y","X_>>>_Y"],"add":["X_+_Y","X_-_Y"],"mul":["X_*_Y","X_/_Y","X_//_Y","X_mod_Y"],"exp":["X_**_Y"],"sjuxt":["XWHITEY"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"pfx":["._Y","#_Y","@_Y"],"when2":["when Y"],"pp":["<>_Y"],"pipe":["X_|>_Y"]})))))))))))),((eg_prio$14781=$13167(({"comma":[["all",1],["all",1]],"obrack":[["all",MAX$13554],["all",1]],"cbrack":[["all",1],["all",MAX$13554]]}),$13167(((accum$15027=({})),((accum$15027["with"]=[["all",1999],["all",10]]),accum$15027)),$13167(({"lowprio":[["all",11],["all",10]]}),$13167(((accum$15031=({})),((accum$15031["when"]=[["all",100],["all",101]]),accum$15031)),$13167(((accum$15035=({})),((accum$15035["or"]=[["all",110],["all",111]]),accum$15035)),$13167(((accum$15039=({})),((accum$15039["and"]=[["all",120],["all",121]]),accum$15039)),$13167(((accum$15043=({})),((accum$15043["not"]=[["all",MAX$13554],["all",131]]),accum$15043)),({"cmp":[["all",200],["all",201]],"binxor":[["all",400],["all",401]],"binor":[["all",410],["all",411]],"binand":[["all",420],["all",421]],"shift":[["arith",500],["arith",501]],"add":[["arith",550],["arith",551]],"mul":[["arith",560],["arith",561]],"exp":[["arith",571],["arith",570]],"wjuxt":[["wjuxt",13],["all",12]],"colon":[["all",12],["all",10]],"sjuxt":[["all",2000],["all",2001]],"pfx":[["all",MAX$13554],["all",3000]],"pp":[["all",MAX$13554],["all",5]],"when2":[["all",MAX$13554],["all",101]],"withp":[["all",MAX$13554],["all",10]],"pipe":[["pipe",550],["pipe",551]],"sh_ifx":[["all",1800],["all",1801]],"sh_pfx":[["all",MAX$13554],["all",1901]],"sh_sfx":[["all",1900],["all",MAX$13554]],"wi_ifx":[["customl",900],["customr",901]],"wi_pfx":[["all",MAX$13554],["all",901]],"wi_sfx":[["all",900],["all",MAX$13554]]})))))))))),SimplePriority$13553(eg_groups$14780,eg_prio$14781)));(DONE$13556=-1);(NONE$13557=0);(LEFT$13558=1);(RIGHT$13559=2);(BOTH$13560=3);(oparse$13561=(function(next$15067,order$15068,finalize$15069){var between$15077;var right_op$15078;var stack$15079;var left_op$15080;var current$15081;(between$15077=finalize$15069(next$15067()));(right_op$15078=next$15067());(stack$15079=[]);(left_op$15080=null);(current$15081=null);$15082:while(true){var v$15135;var other$15197;var bridge$15107$15120;var $15102$15115;var o$15109;(o$15109=(function(){if(((!left_op$15080)&&(!right_op$15078))){return DONE$13556;}else{return ((((!left_op$15080)&&RIGHT$13559)||((!right_op$15078)&&LEFT$13558))||order$15068(left_op$15080,right_op$15078));}})());($15102$15115=o$15109);if(($15102$15115===DONE$13556)){return between$15077;}else{if(($15102$15115===LEFT$13558)){current$15081.push(between$15077);(between$15077=finalize$15069(current$15081));(v$15135=stack$15079.pop());(left_op$15080=v$15135[0]);(current$15081=v$15135[1]);}else{if(($15102$15115===RIGHT$13559)){stack$15079.push([left_op$15080,current$15081]);(left_op$15080=right_op$15078);(current$15081=[[right_op$15078],between$15077]);(between$15077=finalize$15069(next$15067()));(right_op$15078=next$15067());}else{(bridge$15107$15120=$15102$15115);if(((bridge$15107$15120===BOTH$13560)||(bridge$15107$15120===NONE$13557))){current$15081[0].push(right_op$15078);current$15081.push(between$15077);(left_op$15080=right_op$15078);(between$15077=finalize$15069(next$15067()));(right_op$15078=next$15067());if((o$15109===NONE$13557)){(current$15081["tainted"]=true);}}else{(other$15197=$15102$15115);throw $13260(["should_never_happen"]).create("undefined priority",({"left":left_op$15080,"right":right_op$15078}));}}}}}}));(finalize$13562=(function($15203$15206){var t0$15222;var $index$15333;var $length$15327;var temp$15321;var $index$15371;var $length$15365;var temp$15359;var $index$15437;var $length$15431;var temp$15425;var acc$15419;var other$15799;var args$15794;var f$15770;var orig_args$15771;var args$15772;var $15740$15753;var $15741$15754;var t0$15749;var t1$15750;var t2$15751;var $15734$15744;var inserted$15576;var result$15577;var t0$15811;var f$15838;var other$15919;var x$15908;var $15884$15895;var $15885$15896;var t0$15893;var $15880$15888;var result$15828;var f$15945;var oloc$16050;var abloc$16051;var oabloc$16052;var rval$16053;var a$16040;var b$16041;var $15293$16001;var $15294$16002;var $15295$16003;var $15296$16004;var t0$15994;var t1$15995;var t2$15996;var t3$15997;var t4$15998;var t5$15999;var $index$16100;var $length$16094;var temp$16088;var acc$16082;var op_strings$16073;var args$16074;var $15290$15990;var commas$15924;var commas$15803;var target$15536;var _b$15537;var body$15538;var f$15520;var body$15521;var f$15488;var arg$15489;var body$15490;var $15298$15479;var $15299$15480;var $15300$15481;var $15301$15482;var $15302$15483;var $15303$15484;var $15304$15485;var t0$15468;var t1$15469;var t2$15470;var t3$15471;var t4$15472;var t5$15473;var t6$15474;var t7$15475;var t8$15476;var bridge$15286$15477;var $15281$15463;var sumloc$15305;var orig_ops$15306;var op$15307;var other$16124;var ops$15272;var args$15273;var value$15263;var value$15258;var value$15253;var value$15243;var $15216$15238;var $15217$15239;var $15218$15240;var t0$15236;var $15208$15231;var ph$15219;var token$15220;(t0$15222=$15203$15206);(token$15220=t0$15222);(ph$15219=t0$15222);($15208$15231=ph$15219);if((($15216$15238=($15208$15231 instanceof Array))&&(((t0$15236=$15208$15231.length)),(($15218$15240=(t0$15236===2))&&($15208$15231[0]==="ID"))))){(value$15243=$15208$15231[1]);return __lt____lt____colon__$13546(["symbol",value$15243],token$15220);}else{if(($15218$15240&&($15208$15231[0]==="ILLEGAL"))){(value$15253=$15208$15231[1]);return __lt____lt____colon__$13546(["char",value$15253],token$15220);}else{if(($15218$15240&&($15208$15231[0]==="NUM"))){(value$15258=$15208$15231[1]);return __lt____lt____colon__$13546(["value",value$15258],token$15220);}else{if(($15218$15240&&($15208$15231[0]==="STR"))){(value$15263=$15208$15231[1]);return __lt____lt____colon__$13546(["value",value$15263],token$15220);}else{if(($15216$15238&&((t0$15236===1)&&($15208$15231[0]==="VOID")))){return __lt____lt____colon__$13546(["void"],token$15220);}else{if(($15216$15238&&(t0$15236>=1))){(ops$15272=$15208$15231[0]);(args$15273=Array.prototype.slice.call($15208$15231,1));(sumloc$15305=ops$15272[0].location);(temp$15321=ops$15272.slice(1));($length$15327=temp$15321.length);($index$15333=0);$15308:for(;($index$15333<$length$15327);($index$15333++)){var op$15350;var m$15342;(m$15342=temp$15321[$index$15333]);(op$15350=m$15342);(sumloc$15305=__plus____plus____colon__$13547(sumloc$15305,op$15350));}(temp$15359=args$15273);($length$15365=temp$15359.length);($index$15371=0);$15311:for(;($index$15371<$length$15365);($index$15371++)){var arg$15403;var t0$15385;var t1$15386;var m$15380;(m$15380=temp$15359[$index$15371]);(t0$15385=m$15380);if(((t0$15385 instanceof Array)&&(((t1$15386=t0$15385.length)),((t1$15386===1)&&(t0$15385[0]==="void"))))){undefined;}else{(arg$15403=m$15380);(sumloc$15305=__plus____plus____colon__$13547(sumloc$15305,arg$15403));}}(orig_ops$15306=ops$15272);(ops$15272=(((acc$15419=[])),(((temp$15425=ops$15272)),((($length$15431=temp$15425.length)),((($index$15437=0)),(function(){$15414:for(;($index$15437<$length$15431);($index$15437++)){var o$15454;var m$15446;(m$15446=temp$15425[$index$15437]);(o$15454=m$15446);acc$15419.push(o$15454[2]);}})()))),acc$15419));(op$15307=ops$15272[0]);($15281$15463=[ops$15272,args$15273]);if((($15298$15479=($15281$15463 instanceof Array))&&(((t0$15468=$15281$15463.length)),(($15300$15481=(t0$15468===2))&&(((t1$15469=$15281$15463[0])),(($15302$15483=(t1$15469 instanceof Array))&&(((t2$15470=t1$15469.length)),((t2$15470===2)&&((t1$15469[0]==="WHITE")&&((t1$15469[1]===":")&&(((t3$15471=$15281$15463[1])),((t3$15471 instanceof Array)&&(((t4$15472=t3$15471.length)),(t4$15472===3)))))))))))))){(f$15488=t3$15471[0]);(arg$15489=t3$15471[1]);(body$15490=t3$15471[2]);return __lt____lt____colon__$13546(["send",f$15488,__lt____lt____colon__$13546(["data",arg$15489,body$15490],__plus____plus____colon__$13547(arg$15489,body$15490))],sumloc$15305);}else{if(($15302$15483&&(($15304$15485=(t2$15470===1))&&((t1$15469[0]===":")&&(((t3$15471=$15281$15463[1])),((t3$15471 instanceof Array)&&(((t4$15472=t3$15471.length)),(t4$15472===2)))))))){(f$15520=t3$15471[0]);(body$15521=t3$15471[1]);return __lt____lt____colon__$13546(["send",f$15520,__lt____lt____colon__$13546(["data",body$15521],body$15521)],sumloc$15305);}else{if(($15304$15485&&((t1$15469[0]==="with")&&(((t3$15471=$15281$15463[1])),((t3$15471 instanceof Array)&&(((t4$15472=t3$15471.length)),((t4$15472===2)&&((target$15536=t3$15471[0]),(((t5$15473=t3$15471[1])),((_b$15537=t5$15473),(((t6$15474=$16236(Body$13549)(t5$15473))),(t6$15474[0]&&(((t7$15475=t6$15474[1])),(((t8$15476=t7$15475.length)),(t8$15476>=0))))))))))))))){(body$15538=Array.prototype.slice.call(t7$15475,0));(inserted$15576=false);(result$15577=transform$13550(target$15536,(function($15584$15587){var t0$15596;var $index$15692;var $length$15686;var temp$15680;var tr$15665;var res$15666;var args$15654;var x$15630;var f$15631;var a$15632;var b$15633;var t0$15610;var t1$15611;var t2$15612;var $15589$15605;var ph$15593;var expr$15594;(t0$15596=$15584$15587);(expr$15594=t0$15596);(ph$15593=t0$15596);($15589$15605=ph$15593);if((($15589$15605 instanceof Array)&&(((t0$15610=$15589$15605.length)),((t0$15610===2)&&(($15589$15605[0]==="symbol")&&($15589$15605[1]==="...")))))){(inserted$15576=true);return __lt____lt____colon__$13546(["multi"].concat(body$15538),_b$15537);}else{(x$15630=$15589$15605);if((x$15630.fromop&&(($15589$15605 instanceof Array)&&(((t0$15610=$15589$15605.length)),((t0$15610===3)&&(($15589$15605[0]==="send")&&((f$15631=$15589$15605[1]),(((t1$15611=$15589$15605[2])),((t1$15611 instanceof Array)&&(((t2$15612=t1$15611.length)),((t2$15612===3)&&(t1$15611[0]==="data")))))))))))){(a$15632=t1$15611[1]);(b$15633=t1$15611[2]);return ["send",this(f$15631),__lt____lt____colon__$13546(["data",this(a$15632),this(b$15633)],__plus____plus____colon__$13547(a$15632,b$15633))];}else{if((($15589$15605 instanceof Array)&&(((t0$15610=$15589$15605.length)),((t0$15610>=1)&&($15589$15605[0]==="data"))))){(args$15654=Array.prototype.slice.call($15589$15605,1));(tr$15665=this);(res$15666=["data"]);(temp$15680=args$15654);($length$15686=temp$15680.length);($index$15692=0);$15667:for(;($index$15692<$length$15686);($index$15692++)){var other$15729;var t0$15706;var t1$15707;var m$15701;(m$15701=temp$15680[$index$15692]);(t0$15706=m$15701);if(((t0$15706 instanceof Array)&&(((t1$15707=t0$15706.length)),((t1$15707===2)&&((t0$15706[0]==="symbol")&&(t0$15706[1]==="...")))))){(inserted$15576=true);(res$15666=res$15666.concat(body$15538));}else{(other$15729=m$15701);res$15666.push(__lt____lt____colon__$13546(tr$15665(other$15729),other$15729));}}return __lt____lt____colon__$13546(res$15666,expr$15594);}else{$13241($15589$15605);}}}})));if((!inserted$15576)){($15734$15744=target$15536);if((($15734$15744 instanceof Array)&&(((t0$15749=$15734$15744.length)),((t0$15749===1)&&($15734$15744[0]==="void"))))){return __lt____lt____colon__$13546(["data"].concat(body$15538),sumloc$15305);}else{$15734$15744;if(target$15536.fromop){return __lt____lt____colon__$13546(["send",target$15536,__lt____lt____colon__$13546(["data"].concat(body$15538),_b$15537)],sumloc$15305);}else{if((($15740$15753=($15734$15744 instanceof Array))&&(((t0$15749=$15734$15744.length)),((t0$15749===3)&&(($15734$15744[0]==="send")&&((f$15770=$15734$15744[1]),(((t1$15750=$15734$15744[2])),((orig_args$15771=t1$15750),((t1$15750 instanceof Array)&&(((t2$15751=t1$15750.length)),((t2$15751>=1)&&(t1$15750[0]==="data")))))))))))){(args$15772=Array.prototype.slice.call(t1$15750,1));return __lt____lt____colon__$13546(["send",f$15770,__lt____lt____colon__$13546(["data"].concat(args$15772).concat(body$15538),__plus____plus____colon__$13547(orig_args$15771,_b$15537))],sumloc$15305);}else{if(($15740$15753&&((t0$15749>=1)&&($15734$15744[0]==="data")))){(args$15794=Array.prototype.slice.call($15734$15744,1));return __lt____lt____colon__$13546(target$15536.concat(body$15538),sumloc$15305);}else{(other$15799=$15734$15744);return __lt____lt____colon__$13546(["send",target$15536,__lt____lt____colon__$13546(["data"].concat(body$15538),_b$15537)],sumloc$15305);}}}}}else{return __lt____lt____colon__$13546(result$15577,sumloc$15305);}}else{if(($15300$15481&&(((bridge$15286$15477=$15281$15463[0])),((((bridge$15286$15477 instanceof Array)&&(((t0$15811=bridge$15286$15477.length)),((t0$15811>=2)&&((bridge$15286$15477[0]==="[")&&((commas$15803=Array.prototype.slice.call(bridge$15286$15477,1,-1)),(bridge$15286$15477[(t0$15811-1)]==="]"))))))||((commas$15803=bridge$15286$15477),true))&&($15281$15463[1],commas$15803.every((function(x$15822){return $16283(x$15822,",");}))))))){if((op$15307==="[")){(args$15273=args$15273.slice(1,-1));}(args$15273=(((f$15838=(function($15842$15845){var other$15874;var t0$15861;var $15847$15856;var ph$15850;(ph$15850=$15842$15845);($15847$15856=ph$15850);if((($15847$15856 instanceof Array)&&(((t0$15861=$15847$15856.length)),((t0$15861===1)&&($15847$15856[0]==="void"))))){return false;}else{(other$15874=$15847$15856);return true;}}))),args$15273.filter(f$15838)));(result$15828=((($15880$15888=args$15273)),(function(){if((($15884$15895=($15880$15888 instanceof Array))&&(((t0$15893=$15880$15888.length)),(t0$15893===0)))){return ["multi"];}else{if(($15884$15895&&(t0$15893===1))){(x$15908=$15880$15888[0]);if(((!isNaN(sumloc$15305.start))&&(!isNaN(sumloc$15305.end)))){(x$15908["location"]=sumloc$15305);}return x$15908;}else{(other$15919=$15880$15888);return ["multi"].concat(args$15273);}}})()));return __lt____lt____colon__$13546(result$15828,sumloc$15305);}else{if(($15300$15481&&(((t1$15469=$15281$15463[0])),(($15302$15483=(t1$15469 instanceof Array))&&(((t2$15470=t1$15469.length)),((t2$15470>=2)&&((t1$15469[0]==="{")&&((commas$15924=Array.prototype.slice.call(t1$15469,1,-1)),((t1$15469[(t2$15470-1)]==="}")&&($15281$15463[1],commas$15924.every((function(x$15940){return $16283(x$15940,",");})))))))))))){(f$15945=(function($15949$15952){var other$15981;var t0$15968;var $15954$15963;var ph$15957;(ph$15957=$15949$15952);($15954$15963=ph$15957);if((($15954$15963 instanceof Array)&&(((t0$15968=$15954$15963.length)),((t0$15968===1)&&($15954$15963[0]==="void"))))){return false;}else{(other$15981=$15954$15963);return true;}}));return __lt____lt____colon__$13546(["data"].concat(args$15273.slice(1,-1).filter(f$15945)),sumloc$15305);}else{if(($15302$15483&&(($15304$15485=(t2$15470===1))&&(t1$15469[0]==="WHITE")))){$15281$15463[1];return __lt____lt____colon__$13546(["send"].concat(args$15273),sumloc$15305);}else{if($15304$15485){t1$15469[0];($15290$15990=$15281$15463[1]);(t0$15994=$15290$15990);if((($15294$16002=(t0$15994 instanceof Array))&&(((t1$15995=t0$15994.length)),(($15296$16004=(t1$15995===2))&&(((t2$15996=t0$15994[0])),((t2$15996 instanceof Array)&&(((t3$15997=t2$15996.length)),((t3$15997===1)&&((t2$15996[0]==="void")&&(((t4$15998=t0$15994[1])),((t4$15998 instanceof Array)&&(((t5$15999=t4$15998.length)),((t5$15999===1)&&(t4$15998[0]==="void")))))))))))))){return __lt____lt____colon__$13546(["symbol",op$15307],orig_ops$15306[0]);}else{if($15296$16004){(a$16040=t0$15994[0]);(b$16041=t0$15994[1]);(oloc$16050=orig_ops$15306[0].location);(abloc$16051=__plus____plus____colon__$13547(a$16040,b$16041));(oabloc$16052=__plus____plus____colon__$13547(orig_ops$15306[0],abloc$16051));(rval$16053=__lt____lt____colon__$13546(["send",__lt____lt____colon__$13546(["symbol",op$15307],oloc$16050),__lt____lt____colon__$13546(["data",a$16040,b$16041],abloc$16051)],__plus____plus____colon__$13547(oloc$16050,abloc$16051)));(rval$16053["fromop"]=true);return rval$16053;}else{$13241($15290$15990,"/home/olivier/git/earl-grey/src/parse.eg",17743,17748);}}}else{if($15300$15481){(op_strings$16073=$15281$15463[0]);(args$16074=$15281$15463[1]);return __lt____lt____colon__$13546(["mismix",(((acc$16082=[])),(((temp$16088=orig_ops$15306)),((($length$16094=temp$16088.length)),((($index$16100=0)),(function(){$16077:for(;($index$16100<$length$16094);($index$16100++)){var op$16117;var m$16109;(m$16109=temp$16088[$index$16100]);(op$16117=m$16109);acc$16082.push(__lt____lt____colon__$13546(["symbol",op$16117[2]],op$16117));}})()))),acc$16082)].concat(args$16074),sumloc$15305);}else{$13241($15281$15463);}}}}}}}}}else{(other$16124=$15208$15231);throw $13260(["should_never_happen"]).create("unknown node (B)",({"node":token$15220}));}}}}}}}));(parse$13563=(function(tokens$16131){var next$16135;(next$16135=(function(){return tokens$16131.shift();}));return oparse$13561(next$16135,eg_order$13555.compare.bind(eg_order$13555),finalize$13562);}));(exports["OperatorGroups"]=OperatorGroups$13551);(exports["SimplePriority"]=SimplePriority$13553);(exports["parse"]=parse$13563);(exports["oparse"]=oparse$13561);(exports["finalize"]=finalize$13562);(exports["DONE"]=DONE$13556);(exports["NONE"]=NONE$13557);(exports["LEFT"]=LEFT$13558);(exports["RIGHT"]=RIGHT$13559);(exports["BOTH"]=BOTH$13560);
