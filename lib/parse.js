var $13056=(function(type$13059){var f$13063;(f$13063=type$13059["::check"]);if((f$13063===(void 0))){return (function(value$13069){return (value$13069 instanceof type$13059);});}else{return (function(value$13073){return f$13063.call(type$13059,value$13073);});}});
var $13075=(function(dest$13078,values$13079){var k$13084;(k$13084=null);$13082:for(k$13084 in values$13079){if(values$13079.hasOwnProperty(k$13084)){(dest$13078[k$13084]=values$13079[k$13084]);}}return dest$13078;});
var $13092=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $13093=(function($13095$13098){var ph$13104;(ph$13104=$13095$13098);var $13100$13110;($13100$13110=ph$13104);var bridge$13102$13115;var x$13119;(bridge$13102$13115=$13100$13110);if((((typeof(bridge$13102$13115)==="string")&&((x$13119=bridge$13102$13115),true))||((typeof(bridge$13102$13115)==="number")&&((x$13119=bridge$13102$13115),true)))){return ["value",x$13119];}else{var other$13130;(other$13130=$13100$13110);return other$13130["::serialize_ast"]();}});
var $13132=(function(obj$13135){var results$13140;(results$13140=[]);var k$13145;(k$13145=null);$13139:for(k$13145 in obj$13135){if(Object.prototype.hasOwnProperty.call(obj$13135,k$13145)){results$13140.push([k$13145,$13092(obj$13135,k$13145)]);}}return results$13140;});
var $13401=(function(arr$13404){var results$13410;var l$13411;(results$13410=[]);(l$13411=arr$13404.length);var i$13420;(i$13420=0);$13409:for(;(i$13420<l$13411);(i$13420++)){results$13410.push([i$13420,$13092(arr$13404,i$13420)]);}return results$13410;});
var $13168=(function(){var $13169$13175;($13169$13175=(function(tags$13180){var it$0$13183;(it$0$13183=(function(){if((!$13056($13169$13175)(this))){return Object.create($13169$13175.prototype);}else{return this;}})());(it$0$13183["tags"]=tags$13180);return it$0$13183;}));($13169$13175.prototype["create"]=(function(){var it$0$13203;var self$13204;(it$0$13203=this);(self$13204=this);var $13201$13213;($13201$13213=arguments);var t0$13218;var message$13222;var args$13223;(t0$13218=$13201$13213.length);if((t0$13218>=0)){(message$13222=(function(){if((0>=t0$13218)){return "";}else{return $13201$13213[0];}})());(args$13223=Array.prototype.slice.call($13201$13213,1));var e$13236;(e$13236=Error(message$13222));(e$13236["::tags"]=it$0$13203.tags);(e$13236["args"]=args$13223);var temp$13252;(temp$13252=$13401(args$13223));var $length$13258;($length$13258=temp$13252.length);var $index$13264;($index$13264=0);$13237:for(;($index$13264<$length$13258);($index$13264++)){var m$13273;(m$13273=temp$13252[$index$13264]);var t0$13278;var t1$13279;var i$13283;var arg$13284;(t0$13278=m$13273);if(((t0$13278 instanceof Array)&&(((t1$13279=t0$13278.length)),(t1$13279===2)))){(i$13283=t0$13278[0]);(arg$13284=t0$13278[1]);(e$13236[i$13283]=arg$13284);}else{$13149(m$13273);}}(e$13236["length"]=args$13223.length);(e$13236["name"]=["E"].concat(it$0$13203.tags).join("."));return e$13236;}else{$13149($13201$13213);}}));($13169$13175.prototype["::check"]=(function(e$13314){var it$0$13318;var self$13319;(it$0$13318=this);(self$13319=this);var tags$13329;if(((!e$13314)||(!$13056(Error)(e$13314)))){return false;}(tags$13329=(e$13314["::tags"]||[]));var temp$13340;(temp$13340=it$0$13318.tags);var $length$13346;($length$13346=temp$13340.length);var $index$13352;($index$13352=0);$13330:for(;($index$13352<$length$13346);($index$13352++)){var m$13361;(m$13361=temp$13340[$index$13352]);var tag$13369;(tag$13369=m$13361);if((tags$13329.indexOf(tag$13369)===-1)){return false;}else{false;}}return true;}));($13169$13175.prototype["::deconstruct"]=(function(e$13378){var it$0$13382;var self$13383;(it$0$13382=this);(self$13383=this);return e$13378.args;}));$13075($13169$13175,$13075((function(){var accum$13394;(accum$13394=({}));(accum$13394["::name"]="$13169");return accum$13394;})(),(function(){var accum$13398;(accum$13398=({}));(accum$13398["::egclass"]=true);return accum$13398;})()));return $13169$13175;})();
var $13149=(function(value$13152,url$13153,start$13154,end$13155){var err$13159;(err$13159=$13168(["match"]).create("Could not find a match for value",({"value":value$13152})));if(url$13153){(err$13159["location"]=["location",url$13153,start$13154,end$13155]);}throw err$13159;});
var send$12701;var __array_methods$12702;var __re_methods$12703;(send$12701=(function(obj$12716,$12713$12717){var ph$12723;var msg$12724;var t0$12726;(t0$12726=$12713$12717);(msg$12724=t0$12726);(ph$12723=t0$12726);var $12719$12735;($12719$12735=ph$12723);var bridge$12721$12740;(bridge$12721$12740=$12719$12735);if(((typeof(bridge$12721$12740)==="string")||(typeof(bridge$12721$12740)==="number"))){return obj$12716[msg$12724];}else{var other$12752;(other$12752=$12719$12735);return obj$12716["::send"](msg$12724);}}));(Array[":::project"]=(function($12758$12761){var ph$12766;var value$12767;var t0$12769;(t0$12769=$12758$12761);(value$12767=t0$12769);(ph$12766=t0$12769);var $12763$12778;($12763$12778=ph$12766);if($13056(Array)($12763$12778)){return [true,value$12767];}else{$12763$12778;return [true,[value$12767]];}}));(__array_methods$12702=$13075((function(){var accum$12799;(accum$12799=({}));(accum$12799["::check"]=(function(value$12804){if((value$12804 instanceof Array)){var i$12810;(i$12810=0);$12807:for(;(i$12810<this.length);(i$12810++)){if(($13092(this,i$12810)!==$13092(value$12804,i$12810))){return false;}}return true;}else{return false;}}));return accum$12799;})(),$13075((function(){var accum$12819;(accum$12819=({}));(accum$12819["::clone"]=(function(){return $13075(this.slice(0),this);}));return accum$12819;})(),$13075((function(){var accum$12826;(accum$12826=({}));(accum$12826[":::project"]=(function(value$12831){if((value$12831 instanceof Array)){var i$12837;(i$12837=0);$12834:for(;(i$12837<this.length);(i$12837++)){if(($13092(this,i$12837)!==$13092(value$12831,i$12837))){return [true,this.concat([value$12831])];}}return [true,value$12831];}else{return [true,this.concat([value$12831])];}}));return accum$12826;})(),(function(){var accum$12846;(accum$12846=({}));(accum$12846["::serialize_ast"]=(function(){return ["array"].concat(this.map($13093));}));return accum$12846;})()))));var temp$12856;(temp$12856=$13132(__array_methods$12702));var $length$12862;($length$12862=temp$12856.length);var $index$12868;($index$12868=0);$12704:for(;($index$12868<$length$12862);($index$12868++)){var m$12877;(m$12877=temp$12856[$index$12868]);var t0$12882;var t1$12883;var k$12887;var v$12888;(t0$12882=m$12877);if(((t0$12882 instanceof Array)&&(((t1$12883=t0$12882.length)),(t1$12883===2)))){(k$12887=t0$12882[0]);(v$12888=t0$12882[1]);if((!$13092(Array.prototype,k$12887))){Object.defineProperty(Array.prototype,k$12887,({"enumerable":false,"value":v$12888}));}}else{$13149(m$12877);}}(__re_methods$12703=$13075((function(){var accum$12908;(accum$12908=({}));(accum$12908["::check"]=(function($12912$12915){var ph$12920;(ph$12920=$12912$12915);var $12917$12926;($12917$12926=ph$12920);var value$12934;if((typeof($12917$12926)==="string")){(value$12934=$12917$12926);if(value$12934.match(this)){return true;}else{return false;}}else{var other$12939;(other$12939=$12917$12926);return false;}}));return accum$12908;})(),(function(){var accum$12942;(accum$12942=({}));(accum$12942[":::project"]=(function($12946$12949){var ph$12954;(ph$12954=$12946$12949);var $12951$12960;($12951$12960=ph$12954);var value$12968;if((typeof($12951$12960)==="string")){(value$12968=$12951$12960);var $12971$12976;($12971$12976=value$12968.match(this));var m$12984;if(($12971$12976===null)){(m$12984=$12971$12976);return [false,null];}else{var m$12989;(m$12989=$12971$12976);return [true,m$12989];}}else{var other$12993;(other$12993=$12951$12960);return [false,null];}}));return accum$12942;})()));var temp$12999;(temp$12999=$13132(__re_methods$12703));var $length$13005;($length$13005=temp$12999.length);var $index$13011;($index$13011=0);$12707:for(;($index$13011<$length$13005);($index$13011++)){var m$13020;(m$13020=temp$12999[$index$13011]);var t0$13025;var t1$13026;var k$13030;var v$13031;(t0$13025=m$13020);if(((t0$13025 instanceof Array)&&(((t1$13026=t0$13025.length)),(t1$13026===2)))){(k$13030=t0$13025[0]);(v$13031=t0$13025[1]);if((!$13092(RegExp.prototype,k$13030))){Object.defineProperty(RegExp.prototype,k$13030,({"enumerable":false,"value":v$13031}));}}else{$13149(m$13020);}}if((!Function.prototype["::send"])){Object.defineProperty(Function.prototype,"::send",$13075(({"enumerable":false}),(function(){var accum$13049;(accum$13049=({}));(accum$13049["value"]=(function(args$13054){return this.apply(this,args$13054);}));return accum$13049;})()));}
var $16208=(function(arrays$16211){var results$16215;(results$16215=[]);var temp$16225;(temp$16225=arrays$16211);var $length$16231;($length$16231=temp$16225.length);var $index$16237;($index$16237=0);$16216:for(;($index$16237<$length$16231);($index$16237++)){var m$16246;(m$16246=temp$16225[$index$16237]);var a$16254;(a$16254=m$16246);(results$16215=results$16215.concat(a$16254));}return results$16215;});
var $16260=(function(type$16263){return (function(value$16267){var f$16271;(f$16271=type$16263[":::project"]);if((f$16271===(void 0))){(f$16271=type$16263["::project"]);if((f$16271===(void 0))){return [true,type$16263(value$16267)];}else{var rval$16284;(rval$16284=false);try{(rval$16284=[true,f$16271(value$16267)]);}catch(excv$16295){var e$16301;(e$16301=excv$16295);(rval$16284=[false,null]);}return rval$16284;}}else{return f$16271.call(type$16263,value$16267);}});});
var $16479=Object.keys;
var $16480=(function($16482$16485,key$16486){var ph$16494;(ph$16494=$16482$16485);var $16488$16500;($16488$16500=ph$16494);var bridge$16490$16505;(bridge$16490$16505=$16488$16500);if(((bridge$16490$16505===null)||(bridge$16490$16505===(void 0)))){return false;}else{var x$16517;if((typeof($16488$16500)==="string")){(x$16517=$16488$16500);return (key$16486 in String.prototype);}else{var x$16522;if((typeof($16488$16500)==="number")){(x$16522=$16488$16500);return (key$16486 in Number.prototype);}else{var x$16527;(x$16527=$16488$16500);return (key$16486 in x$16527);}}}});
var $16307=(function($16309$16312,b$16313){var ph$16327;var a$16328;var t0$16330;(t0$16330=$16309$16312);(a$16328=t0$16330);(ph$16327=t0$16330);var $16315$16339;($16315$16339=ph$16327);var bridge$16318$16344;if(($16315$16339===b$16313)){return true;}else{(bridge$16318$16344=$16315$16339);if(((function(){var bridge$16319$16358;(bridge$16319$16358=bridge$16318$16344);return ((function(){var bridge$16320$16365;(bridge$16320$16365=bridge$16319$16358);return ((function(){var bridge$16321$16372;(bridge$16321$16372=bridge$16320$16365);return ((function(){var bridge$16322$16379;(bridge$16322$16379=bridge$16321$16372);return ((typeof(bridge$16322$16379)==="number")||(typeof(bridge$16322$16379)==="string"));})()||(bridge$16321$16372===null));})()||(bridge$16320$16365===(void 0)));})()||(bridge$16319$16358===true));})()||(bridge$16318$16344===false))){return false;}else{if($13056(Array)($16315$16339)){if(((!$13056(Array)(b$16313))||(a$16328.length!==b$16313.length))){return false;}var i$16395;(i$16395=0);$16391:for(;(i$16395<a$16328.length);(i$16395++)){if((!$16307(a$16328[i$16395],b$16313[i$16395]))){return false;}}return true;}else{$16315$16339;if((((Object.getPrototypeOf(a$16328)===Object.prototype)&&$13056(Object)(b$16313))&&(Object.getPrototypeOf(b$16313)===Object.prototype))){var ka$16409;(ka$16409=$16479(a$16328));if((!$16307(ka$16409.sort(),$16479(b$16313).sort()))){return false;}var temp$16420;(temp$16420=ka$16409);var $length$16426;($length$16426=temp$16420.length);var $index$16432;($index$16432=0);$16410:for(;($index$16432<$length$16426);($index$16432++)){var m$16441;(m$16441=temp$16420[$index$16432]);var k$16449;(k$16449=m$16441);if((!$16307(a$16328[k$16449],b$16313[k$16449]))){return false;}}return true;}else{if($16480($16315$16339,"::serialize")){$16315$16339["::serialize"];var $16456$16461;($16456$16461=b$16313);if($16480($16456$16461,"::serialize")){$16456$16461["::serialize"];return $16307(a$16328["::serialize"](),b$16313["::serialize"]());}else{var otherwise$16473;(otherwise$16473=$16456$16461);return false;}}else{var otherwise$16477;(otherwise$16477=$16315$16339);return false;}}}}}});var accum$14023;var accum$14027;var accum$14273;var accum$14789;var accum$14793;var accum$15019;var accum$15023;var accum$15027;var accum$15031;var accum$15035;var accum$15039;var accum$15051;var accum$15055;var accum$15059;var accum$15063;var accum$15067;var eg_groups$14804;var eg_prio$14805;var $13429$13454;var __lt____lt____colon__$13455;var __plus____plus____colon__$13456;var $13430$13457;var Body$13458;var transform$13459;var OperatorGroups$13460;var parse_op_description$13461;var eg_groups$13462;var SimplePriority$13463;var MAX$13464;var eg_order$13465;var DONE$13466;var NONE$13467;var LEFT$13468;var RIGHT$13469;var BOTH$13470;var oparse$13471;var finalize$13472;var parse$13473;($13429$13454=require("./location"));(__lt____lt____colon__$13455=$13429$13454["<<:"]);(__plus____plus____colon__$13456=$13429$13454["++:"]);($13430$13457=require("./util"));(Body$13458=$13430$13457.Body);(transform$13459=(function(expr$13493,cb$13494){var rval$13514;var tr$13499;var result$13500;(tr$13499=(function(x$13505){return transform$13459(x$13505,cb$13494);}));(result$13500=(((rval$13514=false)),((function(){try{(rval$13514=cb$13494.call(tr$13499,expr$13493));}catch(excv$13525){var name$13577;var args$13578;var v$13572;var s$13567;var $13541$13553;var $13542$13554;var $13543$13555;var t0$13551;var $13536$13546;var e$13531;(e$13531=excv$13525);(rval$13514=((($13536$13546=expr$13493)),(function(){if((($13541$13553=($13536$13546 instanceof Array))&&(((t0$13551=$13536$13546.length)),((t0$13551===1)&&($13536$13546[0]==="void"))))){return ["void"];}else{if(($13541$13553&&(($13543$13555=(t0$13551===2))&&($13536$13546[0]==="symbol")))){(s$13567=$13536$13546[1]);return expr$13493;}else{if(($13543$13555&&($13536$13546[0]==="value"))){(v$13572=$13536$13546[1]);return expr$13493;}else{if(($13541$13553&&(t0$13551>=1))){(name$13577=$13536$13546[0]);(args$13578=Array.prototype.slice.call($13536$13546,1));return [name$13577].concat(args$13578.map(tr$13499));}else{$13149($13536$13546);}}}}})()));}})(),rval$13514)));return __lt____lt____colon__$13455(result$13500,expr$13493);}));(OperatorGroups$13460=(function(groups$13590){var $index$13637;var $length$13631;var temp$13625;var acc$13619;var $index$13697;var $length$13691;var temp$13685;var acc$13679;var $index$13802;var $length$13796;var temp$13790;var acc$13784;var itg$13605;var it$0$13593;(it$0$13593=(function(){if((!$13056(OperatorGroups$13460)(this))){return Object.create(OperatorGroups$13460.prototype);}else{return this;}})());(itg$13605=$13132(groups$13590));(it$0$13593["gnames"]=(((acc$13619=[])),(((temp$13625=itg$13605)),((($length$13631=temp$13625.length)),((($index$13637=0)),(function(){$13614:for(;($index$13637<$length$13631);($index$13637++)){var name$13656;var t0$13651;var t1$13652;var m$13646;(m$13646=temp$13625[$index$13637]);(t0$13651=m$13646);if(((t0$13651 instanceof Array)&&(((t1$13652=t0$13651.length)),(t1$13652===2)))){(name$13656=t0$13651[0]);t0$13651[1];acc$13619.push(name$13656);}else{$13149(m$13646,"/home/olivier/git/earl-grey/src/parse.eg",565,591);}}})()))),acc$13619));(it$0$13593["groups"]=(((acc$13679=[])),(((temp$13685=itg$13605)),((($length$13691=temp$13685.length)),((($index$13697=0)),(function(){$13674:for(;($index$13697<$length$13691);($index$13697++)){var $index$13753;var $length$13747;var temp$13741;var acc$13735;var name$13716;var descrs$13717;var t0$13711;var t1$13712;var m$13706;(m$13706=temp$13685[$index$13697]);(t0$13711=m$13706);if(((t0$13711 instanceof Array)&&(((t1$13712=t0$13711.length)),(t1$13712===2)))){(name$13716=t0$13711[0]);(descrs$13717=t0$13711[1]);acc$13679.push($16208((((acc$13735=[])),(((temp$13741=descrs$13717)),((($length$13747=temp$13741.length)),((($index$13753=0)),(function(){$13730:for(;($index$13753<$length$13747);($index$13753++)){var descr$13770;var m$13762;(m$13762=temp$13741[$index$13753]);(descr$13770=m$13762);acc$13735.push(parse_op_description$13461(descr$13770));}})()))),acc$13735)));}else{$13149(m$13706,"/home/olivier/git/earl-grey/src/parse.eg",608,705);}}})()))),acc$13679));(it$0$13593["fns"]=[]);(it$0$13593["to_gid"]=({"IFX":({"wide":({}),"short":({})}),"PFX":({"wide":({}),"short":({})}),"SFX":({"wide":({}),"short":({})})}));(acc$13784=[]);(temp$13790=$13401(it$0$13593.groups));($length$13796=temp$13790.length);($index$13802=0);$13606:for(;($index$13802<$length$13796);($index$13802++)){var $index$13859;var $length$13853;var temp$13847;var acc$13841;var i$13821;var group$13822;var t0$13816;var t1$13817;var m$13811;(m$13811=temp$13790[$index$13802]);(t0$13816=m$13811);if(((t0$13816 instanceof Array)&&(((t1$13817=t0$13816.length)),(t1$13817===2)))){(i$13821=t0$13816[0]);(group$13822=t0$13816[1]);acc$13784.push((((acc$13841=[])),(((temp$13847=group$13822)),((($length$13853=temp$13847.length)),((($index$13859=0)),(function(){$13835:for(;($index$13859<$length$13853);($index$13859++)){var f$13899;var fixity$13878;var width$13879;var name$13880;var t0$13873;var t1$13874;var m$13868;(m$13868=temp$13847[$index$13859]);(t0$13873=m$13868);if(((t0$13873 instanceof Array)&&(((t1$13874=t0$13873.length)),(t1$13874===3)))){(fixity$13878=t0$13873[0]);(width$13879=t0$13873[1]);(name$13880=t0$13873[2]);acc$13841.push((($13092($13092(it$0$13593.to_gid,fixity$13878),width$13879)[name$13880]=i$13821)));}else{(f$13899=m$13868);acc$13841.push(it$0$13593.fns.push([f$13899,i$13821]));}}})()))),acc$13841));}else{$13149(m$13811,"/home/olivier/git/earl-grey/src/parse.eg",870,1071);}}acc$13784;return it$0$13593;}));(OperatorGroups$13460.prototype["get_name"]=(function(o$13909){var it$0$13913;var self$13914;(it$0$13913=this);(self$13914=this);return $13092(it$0$13913.gnames,it$0$13913.get(o$13909));}));(OperatorGroups$13460.prototype["get"]=(function($13925$13928){var t0$13946;var t1$13947;var $index$13985;var $length$13979;var temp$13973;var attempt$13962;var o$13941;var fixity$13942;var width$13943;var name$13944;var it$0$13932;var self$13933;(it$0$13932=this);(self$13933=this);(t0$13946=$13925$13928);(o$13941=t0$13946);if(((t0$13946 instanceof Array)&&(((t1$13947=t0$13946.length)),(t1$13947===3)))){(fixity$13942=t0$13946[0]);(width$13943=t0$13946[1]);(name$13944=t0$13946[2]);}else{$13149($13925$13928);}(attempt$13962=$13092($13092($13092(it$0$13932.to_gid,fixity$13942),width$13943),name$13944));if((attempt$13962===(void 0))){(temp$13973=it$0$13932.fns);($length$13979=temp$13973.length);($index$13985=0);$13967:for(;($index$13985<$length$13979);($index$13985++)){var f$14004;var i$14005;var t0$13999;var t1$14000;var m$13994;(m$13994=temp$13973[$index$13985]);(t0$13999=m$13994);if(((t0$13999 instanceof Array)&&(((t1$14000=t0$13999.length)),(t1$14000===2)))){(f$14004=t0$13999[0]);(i$14005=t0$13999[1]);if(f$14004(o$13941)){return i$14005;}}else{$13149(m$13994,"/home/olivier/git/earl-grey/src/parse.eg",1250,1333);}}throw $13168(["syntax","unknown_operator"]).create(("Unknown operator: "+[true,String(o$13941)][1]),({"operator":o$13941}));}else{return attempt$13962;}}));$13075(OperatorGroups$13460,$13075(((accum$14023=({})),((accum$14023["::name"]="OperatorGroups"),accum$14023)),((accum$14027=({})),((accum$14027["::egclass"]=true),accum$14027))));OperatorGroups$13460;(parse_op_description$13461=(function($14033$14036){var otherwise$14126;var $14106$14115;var $14102$14109;var otherwise$14160;var $14140$14149;var $14136$14143;var t0$14096;var t1$14097;var fixity$14093;var short$14094;var other$14164;var x$14070;var w1$14071;var op$14072;var w2$14073;var y$14074;var f$14065;var rx$14059;var t0$14053;var t1$14054;var t2$14055;var $14038$14048;var ph$14042;(ph$14042=$14033$14036);($14038$14048=ph$14042);(rx$14059=RegExp("(?:^((?:X?))((?:[ _]?))((?:[^ _Y]*))((?:[ _]?))((?:Y?))$)",""));if($13056(Function)($14038$14048)){(f$14065=$14038$14048);return f$14065;}else{(t0$14053=$16260(rx$14059)($14038$14048));if((t0$14053[0]&&(((t1$14054=t0$14053[1])),(((t2$14055=t1$14054.length)),(t2$14055===6))))){t1$14054[0];(x$14070=t1$14054[1]);(w1$14071=t1$14054[2]);(op$14072=t1$14054[3]);(w2$14073=t1$14054[4]);(y$14074=t1$14054[5]);(t0$14096=((($14102$14109=null)),($14102$14109,(function(){if((x$14070==="")){return ["PFX",(w2$14073==="")];}else{if((y$14074==="")){return ["SFX",(w1$14071==="")];}else{(otherwise$14126=$14102$14109);return ["IFX",((w1$14071==="")||(w2$14073===""))];}}})())));if(((t0$14096 instanceof Array)&&(((t1$14097=t0$14096.length)),(t1$14097===2)))){(fixity$14093=t0$14096[0]);(short$14094=t0$14096[1]);}else{$13149(((($14136$14143=null)),($14136$14143,(function(){if((x$14070==="")){return ["PFX",(w2$14073==="")];}else{if((y$14074==="")){return ["SFX",(w1$14071==="")];}else{(otherwise$14160=$14136$14143);return ["IFX",((w1$14071==="")||(w2$14073===""))];}}})())),"/home/olivier/git/earl-grey/src/parse.eg",1714,1922);}if(((w1$14071==="_")||(w2$14073==="_"))){return [[fixity$14093,"short",op$14072],[fixity$14093,"wide",op$14072]];}else{return [[fixity$14093,(function(){if(short$14094){return "short";}else{return "wide";}})(),op$14072]];}}else{(other$14164=$14038$14048);throw $13168(["invalid_op_description"]).create(("Invalid operator description: "+other$14164));}}}));(eg_groups$13462=OperatorGroups$13460($13075(({"tokenpfx":[".Y","#Y","@Y"],"sjuxt":["XWHITEY"],"ifx":[(function($14171$14174){var t0$14190;var $14176$14185;var ph$14179;(ph$14179=$14171$14174);($14176$14185=ph$14179);if((($14176$14185 instanceof Array)&&(((t0$14190=$14176$14185.length)),((t0$14190===3)&&(($14176$14185[0]==="IFX")&&($14176$14185[1]==="short")))))){$14176$14185[2];return true;}else{$14176$14185;return false;}})],"pfx":[(function($14205$14208){var t0$14224;var $14210$14219;var ph$14213;(ph$14213=$14205$14208);($14210$14219=ph$14213);if((($14210$14219 instanceof Array)&&(((t0$14224=$14210$14219.length)),((t0$14224===3)&&(($14210$14219[0]==="PFX")&&($14210$14219[1]==="short")))))){$14210$14219[2];return true;}else{$14210$14219;return false;}})],"sfx":[(function($14239$14242){var t0$14258;var $14244$14253;var ph$14247;(ph$14247=$14239$14242);($14244$14253=ph$14247);if((($14244$14253 instanceof Array)&&(((t0$14258=$14244$14253.length)),((t0$14258===3)&&(($14244$14253[0]==="SFX")&&($14244$14253[1]==="short")))))){$14244$14253[2];return true;}else{$14244$14253;return false;}})],"pow":["X ** Y"],"mul":["X * Y","X / Y","X // Y","X mod Y","+ Y","- Y"],"add":["X + Y","X - Y"],"cmp":["X < Y","X <= Y","X == Y","X > Y","X >= Y","X != Y"],"cat":["X ++ Y"],"union":["X & Y"],"range":["X .. Y","X ..",".. Y"],"in":["X in Y"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"and":"X and Y","or":"X or Y","not":"not Y"}),$13075(((accum$14273=({})),((accum$14273["with"]=["X with Y"]),accum$14273)),({"decl":["X -> Y","X = Y","X := Y","X => Y","X where Y","X when Y","X each Y"],"brack":["X_,_Y","(_Y","[_Y","{_Y","X_)","X_]","X_}"],"custom":[(function(x$14278){return true;})]})))));(SimplePriority$13463=(function(groups$14285,priorities$14286){var $index$14336;var $length$14330;var temp$14324;var acc$14318;var _i$14300;var tracks$14301;var it$0$14289;(it$0$14289=(function(){if((!$13056(SimplePriority$13463)(this))){return Object.create(SimplePriority$13463.prototype);}else{return this;}})());(it$0$14289["groups"]=groups$14285);(_i$14300=0);(tracks$14301=({}));(it$0$14289["prio"]=(((acc$14318=[])),(((temp$14324=groups$14285.gnames)),((($length$14330=temp$14324.length)),((($index$14336=0)),(function(){$14313:for(;($index$14336<$length$14330);($index$14336++)){var t0$14366;var t1$14367;var t2$14368;var t3$14369;var t4$14370;var t5$14371;var t6$14372;var t7$14373;var $index$14448;var $length$14442;var temp$14436;var acc$14430;var $index$14570;var $length$14564;var temp$14558;var acc$14552;var t0$14419;var t1$14420;var ltracks$14359;var lp$14360;var rtracks$14361;var rp$14362;var lt$14363;var rt$14364;var name$14353;var m$14345;(m$14345=temp$14324[$index$14336]);(name$14353=m$14345);acc$14318.push(((((t0$14366=$13092(priorities$14286,name$14353))),(function(){if(((t0$14366 instanceof Array)&&(((t1$14367=t0$14366.length)),((t1$14367===2)&&(((t2$14368=t0$14366[0])),((t2$14368 instanceof Array)&&(((t3$14369=t2$14368.length)),((t3$14369===2)&&(((t4$14370=$16260(Array)(t2$14368[0]))),(t4$14370[0]&&((ltracks$14359=t4$14370[1]),((lp$14360=t2$14368[1]),(((t5$14371=t0$14366[1])),((t5$14371 instanceof Array)&&(((t6$14372=t5$14371.length)),((t6$14372===2)&&(((t7$14373=$16260(Array)(t5$14371[0]))),t7$14373[0]))))))))))))))))){(rtracks$14361=t7$14373[1]);(rp$14362=t5$14371[1]);}else{return $13149($13092(priorities$14286,name$14353),"/home/olivier/git/earl-grey/src/parse.eg",3607,3623);}})()),(((t0$14419=(((acc$14430=[])),(((temp$14436=[ltracks$14359,rtracks$14361])),((($length$14442=temp$14436.length)),((($index$14448=0)),(function(){$14425:for(;($index$14448<$length$14442);($index$14448++)){var $index$14494;var $length$14488;var temp$14482;var rval$14470;var tr$14465;var m$14457;(m$14457=temp$14436[$index$14448]);(tr$14465=m$14457);acc$14430.push((((rval$14470=0)),(((temp$14482=tr$14465)),((($length$14488=temp$14482.length)),((($index$14494=0)),(function(){$14471:for(;($index$14494<$length$14488);($index$14494++)){var t$14533;var t$14519;var m$14503;(m$14503=temp$14482[$index$14494]);if((m$14503==="all")){(rval$14470=(Math.pow(2,31)-1));}else{(t$14519=m$14503);if((!$13092(tracks$14301,t$14519))){(rval$14470=(rval$14470|Math.pow(2,_i$14300)));(tracks$14301[t$14519]=(_i$14300++));}else{(t$14533=m$14503);(rval$14470=(rval$14470|Math.pow(2,$13092(tracks$14301,t$14533))));}}}})()))),rval$14470));}})()))),acc$14430))),(function(){if(((t0$14419 instanceof Array)&&(((t1$14420=t0$14419.length)),(t1$14420===2)))){(lt$14363=t0$14419[0]);(rt$14364=t0$14419[1]);}else{return $13149((((acc$14552=[])),(((temp$14558=[ltracks$14359,rtracks$14361])),((($length$14564=temp$14558.length)),((($index$14570=0)),(function(){$14547:for(;($index$14570<$length$14564);($index$14570++)){var $index$14616;var $length$14610;var temp$14604;var rval$14592;var tr$14587;var m$14579;(m$14579=temp$14558[$index$14570]);(tr$14587=m$14579);acc$14552.push((((rval$14592=0)),(((temp$14604=tr$14587)),((($length$14610=temp$14604.length)),((($index$14616=0)),(function(){$14593:for(;($index$14616<$length$14610);($index$14616++)){var t$14655;var t$14641;var m$14625;(m$14625=temp$14604[$index$14616]);if((m$14625==="all")){(rval$14592=(Math.pow(2,31)-1));}else{(t$14641=m$14625);if((!$13092(tracks$14301,t$14641))){(rval$14592=(rval$14592|Math.pow(2,_i$14300)));(tracks$14301[t$14641]=(_i$14300++));}else{(t$14655=m$14625);(rval$14592=(rval$14592|Math.pow(2,$13092(tracks$14301,t$14655))));}}}})()))),rval$14592));}})()))),acc$14552),"/home/olivier/git/earl-grey/src/parse.eg",3644,3964);}})()),[[lt$14363,lp$14360],[rt$14364,rp$14362]]));}})()))),acc$14318));return it$0$14289;}));(SimplePriority$13463.prototype["compare"]=(function(op1$14667,op2$14668){var t0$14705;var t1$14706;var t2$14707;var t3$14708;var t0$14733;var t1$14734;var t2$14735;var t3$14736;var $14691$14767;var $14686$14761;var i1$14692;var i2$14693;var code1$14694;var ord1$14695;var code2$14696;var ord2$14697;var it$0$14672;var self$14673;(it$0$14672=this);(self$14673=this);(i1$14692=it$0$14672.groups.get(op1$14667));(i2$14693=it$0$14672.groups.get(op2$14668));(t0$14705=$13092(it$0$14672.prio,i1$14692));if(((t0$14705 instanceof Array)&&(((t1$14706=t0$14705.length)),((t1$14706===2)&&(t0$14705[0],(((t2$14707=t0$14705[1])),((t2$14707 instanceof Array)&&(((t3$14708=t2$14707.length)),(t3$14708===2))))))))){(code1$14694=t2$14707[0]);(ord1$14695=t2$14707[1]);}else{$13149($13092(it$0$14672.prio,i1$14692),"/home/olivier/git/earl-grey/src/parse.eg",4091,4101);}(t0$14733=$13092(it$0$14672.prio,i2$14693));if(((t0$14733 instanceof Array)&&(((t1$14734=t0$14733.length)),((t1$14734===2)&&(((t2$14735=t0$14733[0])),((t2$14735 instanceof Array)&&(((t3$14736=t2$14735.length)),(t3$14736===2)))))))){(code2$14696=t2$14735[0]);(ord2$14697=t2$14735[1]);t0$14733[1];}else{$13149($13092(it$0$14672.prio,i2$14693),"/home/olivier/git/earl-grey/src/parse.eg",4128,4138);}($14686$14761=null);$14686$14761;if(((code1$14694&code2$14696)===0)){return NONE$13467;}else{if((ord1$14695>ord2$14697)){return LEFT$13468;}else{if((ord1$14695<ord2$14697)){return RIGHT$13469;}else{if((ord1$14695===ord2$14697)){return BOTH$13470;}else{$13149($14686$14761);}}}}}));$13075(SimplePriority$13463,$13075(((accum$14789=({})),((accum$14789["::name"]="SimplePriority"),accum$14789)),((accum$14793=({})),((accum$14793["::egclass"]=true),accum$14793))));SimplePriority$13463;(MAX$13464=(1/0));(eg_order$13465=(((eg_groups$14804=OperatorGroups$13460($13075(({"sh_ifx":[(function($14815$14818){var t0$14834;var $14820$14829;var ph$14823;(ph$14823=$14815$14818);($14820$14829=ph$14823);if((($14820$14829 instanceof Array)&&(((t0$14834=$14820$14829.length)),((t0$14834===3)&&(($14820$14829[0]==="IFX")&&($14820$14829[1]==="short")))))){$14820$14829[2];return true;}else{$14820$14829;return false;}})],"sh_pfx":[(function($14849$14852){var t0$14868;var $14854$14863;var ph$14857;(ph$14857=$14849$14852);($14854$14863=ph$14857);if((($14854$14863 instanceof Array)&&(((t0$14868=$14854$14863.length)),((t0$14868===3)&&(($14854$14863[0]==="PFX")&&($14854$14863[1]==="short")))))){$14854$14863[2];return true;}else{$14854$14863;return false;}})],"sh_sfx":[(function($14883$14886){var t0$14902;var $14888$14897;var ph$14891;(ph$14891=$14883$14886);($14888$14897=ph$14891);if((($14888$14897 instanceof Array)&&(((t0$14902=$14888$14897.length)),((t0$14902===3)&&(($14888$14897[0]==="SFX")&&($14888$14897[1]==="short")))))){$14888$14897[2];return true;}else{$14888$14897;return false;}})],"wi_ifx":[(function($14917$14920){var t0$14936;var $14922$14931;var ph$14925;(ph$14925=$14917$14920);($14922$14931=ph$14925);if((($14922$14931 instanceof Array)&&(((t0$14936=$14922$14931.length)),((t0$14936===3)&&(($14922$14931[0]==="IFX")&&($14922$14931[1]==="wide")))))){$14922$14931[2];return true;}else{$14922$14931;return false;}})],"wi_pfx":[(function($14951$14954){var t0$14970;var $14956$14965;var ph$14959;(ph$14959=$14951$14954);($14956$14965=ph$14959);if((($14956$14965 instanceof Array)&&(((t0$14970=$14956$14965.length)),((t0$14970===3)&&(($14956$14965[0]==="PFX")&&($14956$14965[1]==="wide")))))){$14956$14965[2];return true;}else{$14956$14965;return false;}})],"wi_sfx":[(function($14985$14988){var t0$15004;var $14990$14999;var ph$14993;(ph$14993=$14985$14988);($14990$14999=ph$14993);if((($14990$14999 instanceof Array)&&(((t0$15004=$14990$14999.length)),((t0$15004===3)&&(($14990$14999[0]==="SFX")&&($14990$14999[1]==="wide")))))){$14990$14999[2];return true;}else{$14990$14999;return false;}})],"comma":["X_,_Y"],"obrack":["(_Y","[_Y","{_Y"],"cbrack":["X_)","X_]","X_}"]}),$13075(((accum$15019=({})),((accum$15019["withp"]=["with Y"]),accum$15019)),$13075(((accum$15023=({})),((accum$15023["with"]=["X with Y"]),accum$15023)),$13075(({"lowprio":["X each Y","X each? Y","X where Y","X !! Y","X -> Y","X => Y","X = Y","X := Y","X += Y","X -= Y","X *= Y","X /= Y","X <<= Y","X >>= Y","X >>>= Y","X ++= Y","X ?= Y","X or= Y","X and= Y","X each= Y","X % Y"]}),$13075(((accum$15027=({})),((accum$15027["when"]=["X when Y"]),accum$15027)),$13075(((accum$15031=({})),((accum$15031["or"]=["X or Y"]),accum$15031)),$13075(((accum$15035=({})),((accum$15035["and"]=["X and Y"]),accum$15035)),$13075(((accum$15039=({})),((accum$15039["not"]=["not Y"]),accum$15039)),({"cmp":["X == Y","X != Y","X >= Y","X <= Y","X > Y","X < Y"],"binxor":["X ^. Y"],"binor":["X |. Y"],"binand":["X &. Y"],"shift":["X << Y","X >> Y","X >>> Y"],"add":["X + Y","X - Y"],"mul":["X * Y","X / Y","X // Y","X mod Y"],"exp":["X ** Y"],"sjuxt":["XWHITEY"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"pfx":["._Y","#_Y","@_Y"],"when2":["when Y"],"pp":["<> Y"],"pipe":["X |> Y"]})))))))))))),((eg_prio$14805=$13075(({"comma":[["all",1],["all",1]],"obrack":[["all",MAX$13464],["all",1]],"cbrack":[["all",1],["all",MAX$13464]]}),$13075(((accum$15051=({})),((accum$15051["with"]=[["all",1999],["all",10]]),accum$15051)),$13075(({"lowprio":[["all",11],["all",10]]}),$13075(((accum$15055=({})),((accum$15055["when"]=[["all",100],["all",101]]),accum$15055)),$13075(((accum$15059=({})),((accum$15059["or"]=[["all",110],["all",111]]),accum$15059)),$13075(((accum$15063=({})),((accum$15063["and"]=[["all",120],["all",121]]),accum$15063)),$13075(((accum$15067=({})),((accum$15067["not"]=[["all",MAX$13464],["all",131]]),accum$15067)),({"cmp":[["all",200],["all",201]],"binxor":[["all",400],["all",401]],"binor":[["all",410],["all",411]],"binand":[["all",420],["all",421]],"shift":[["arith",500],["arith",501]],"add":[["arith",550],["arith",551]],"mul":[["arith",560],["arith",561]],"exp":[["arith",571],["arith",570]],"wjuxt":[["wjuxt",13],["all",12]],"colon":[["all",12],["all",10]],"sjuxt":[["all",2000],["all",2001]],"pfx":[["all",MAX$13464],["all",3000]],"pp":[["all",MAX$13464],["all",5]],"when2":[["all",MAX$13464],["all",101]],"withp":[["all",MAX$13464],["all",10]],"pipe":[["pipe",550],["pipe",551]],"sh_ifx":[["all",1800],["all",1801]],"sh_pfx":[["all",MAX$13464],["all",1901]],"sh_sfx":[["all",1900],["all",MAX$13464]],"wi_ifx":[["customl",900],["customr",901]],"wi_pfx":[["all",MAX$13464],["all",901]],"wi_sfx":[["all",900],["all",MAX$13464]]})))))))))),SimplePriority$13463(eg_groups$14804,eg_prio$14805)));(DONE$13466=-1);(NONE$13467=0);(LEFT$13468=1);(RIGHT$13469=2);(BOTH$13470=3);(oparse$13471=(function(next$15091,order$15092,finalize$15093){var between$15101;var right_op$15102;var stack$15103;var left_op$15104;var current$15105;(between$15101=finalize$15093(next$15091()));(right_op$15102=next$15091());(stack$15103=[]);(left_op$15104=null);(current$15105=null);$15106:while(true){var v$15159;var other$15221;var bridge$15131$15144;var $15126$15139;var o$15133;(o$15133=(function(){if(((!left_op$15104)&&(!right_op$15102))){return DONE$13466;}else{return ((((!left_op$15104)&&RIGHT$13469)||((!right_op$15102)&&LEFT$13468))||order$15092(left_op$15104,right_op$15102));}})());($15126$15139=o$15133);if(($15126$15139===DONE$13466)){return between$15101;}else{if(($15126$15139===LEFT$13468)){current$15105.push(between$15101);(between$15101=finalize$15093(current$15105));(v$15159=stack$15103.pop());(left_op$15104=v$15159[0]);(current$15105=v$15159[1]);}else{if(($15126$15139===RIGHT$13469)){stack$15103.push([left_op$15104,current$15105]);(left_op$15104=right_op$15102);(current$15105=[[right_op$15102],between$15101]);(between$15101=finalize$15093(next$15091()));(right_op$15102=next$15091());}else{(bridge$15131$15144=$15126$15139);if(((bridge$15131$15144===BOTH$13470)||(bridge$15131$15144===NONE$13467))){current$15105[0].push(right_op$15102);current$15105.push(between$15101);(left_op$15104=right_op$15102);(between$15101=finalize$15093(next$15091()));(right_op$15102=next$15091());if((o$15133===NONE$13467)){(current$15105["tainted"]=true);}}else{(other$15221=$15126$15139);throw $13168(["should_never_happen"]).create("undefined priority",({"left":left_op$15104,"right":right_op$15102}));}}}}}}));(finalize$13472=(function($15227$15230){var t0$15246;var $index$15357;var $length$15351;var temp$15345;var $index$15395;var $length$15389;var temp$15383;var $index$15461;var $length$15455;var temp$15449;var acc$15443;var other$15823;var args$15818;var f$15794;var orig_args$15795;var args$15796;var $15764$15777;var $15765$15778;var t0$15773;var t1$15774;var t2$15775;var $15758$15768;var inserted$15600;var result$15601;var t0$15835;var f$15862;var other$15943;var x$15932;var $15908$15919;var $15909$15920;var t0$15917;var $15904$15912;var result$15852;var f$15969;var oloc$16074;var abloc$16075;var oabloc$16076;var rval$16077;var a$16064;var b$16065;var $15317$16025;var $15318$16026;var $15319$16027;var $15320$16028;var t0$16018;var t1$16019;var t2$16020;var t3$16021;var t4$16022;var t5$16023;var $index$16124;var $length$16118;var temp$16112;var acc$16106;var op_strings$16097;var args$16098;var $15314$16014;var commas$15948;var commas$15827;var target$15560;var _b$15561;var body$15562;var f$15544;var body$15545;var f$15512;var arg$15513;var body$15514;var $15322$15503;var $15323$15504;var $15324$15505;var $15325$15506;var $15326$15507;var $15327$15508;var $15328$15509;var t0$15492;var t1$15493;var t2$15494;var t3$15495;var t4$15496;var t5$15497;var t6$15498;var t7$15499;var t8$15500;var bridge$15310$15501;var $15305$15487;var sumloc$15329;var orig_ops$15330;var op$15331;var other$16148;var ops$15296;var args$15297;var value$15287;var value$15282;var value$15277;var value$15267;var $15240$15262;var $15241$15263;var $15242$15264;var t0$15260;var $15232$15255;var ph$15243;var token$15244;(t0$15246=$15227$15230);(token$15244=t0$15246);(ph$15243=t0$15246);($15232$15255=ph$15243);if((($15240$15262=($15232$15255 instanceof Array))&&(((t0$15260=$15232$15255.length)),(($15242$15264=(t0$15260===2))&&($15232$15255[0]==="ID"))))){(value$15267=$15232$15255[1]);return __lt____lt____colon__$13455(["symbol",value$15267],token$15244);}else{if(($15242$15264&&($15232$15255[0]==="ILLEGAL"))){(value$15277=$15232$15255[1]);return __lt____lt____colon__$13455(["char",value$15277],token$15244);}else{if(($15242$15264&&($15232$15255[0]==="NUM"))){(value$15282=$15232$15255[1]);return __lt____lt____colon__$13455(["value",value$15282],token$15244);}else{if(($15242$15264&&($15232$15255[0]==="STR"))){(value$15287=$15232$15255[1]);return __lt____lt____colon__$13455(["value",value$15287],token$15244);}else{if(($15240$15262&&((t0$15260===1)&&($15232$15255[0]==="VOID")))){return __lt____lt____colon__$13455(["void"],token$15244);}else{if(($15240$15262&&(t0$15260>=1))){(ops$15296=$15232$15255[0]);(args$15297=Array.prototype.slice.call($15232$15255,1));(sumloc$15329=ops$15296[0].location);(temp$15345=ops$15296.slice(1));($length$15351=temp$15345.length);($index$15357=0);$15332:for(;($index$15357<$length$15351);($index$15357++)){var op$15374;var m$15366;(m$15366=temp$15345[$index$15357]);(op$15374=m$15366);(sumloc$15329=__plus____plus____colon__$13456(sumloc$15329,op$15374));}(temp$15383=args$15297);($length$15389=temp$15383.length);($index$15395=0);$15335:for(;($index$15395<$length$15389);($index$15395++)){var arg$15427;var t0$15409;var t1$15410;var m$15404;(m$15404=temp$15383[$index$15395]);(t0$15409=m$15404);if(((t0$15409 instanceof Array)&&(((t1$15410=t0$15409.length)),((t1$15410===1)&&(t0$15409[0]==="void"))))){undefined;}else{(arg$15427=m$15404);(sumloc$15329=__plus____plus____colon__$13456(sumloc$15329,arg$15427));}}(orig_ops$15330=ops$15296);(ops$15296=(((acc$15443=[])),(((temp$15449=ops$15296)),((($length$15455=temp$15449.length)),((($index$15461=0)),(function(){$15438:for(;($index$15461<$length$15455);($index$15461++)){var o$15478;var m$15470;(m$15470=temp$15449[$index$15461]);(o$15478=m$15470);acc$15443.push(o$15478[2]);}})()))),acc$15443));(op$15331=ops$15296[0]);($15305$15487=[ops$15296,args$15297]);if((($15322$15503=($15305$15487 instanceof Array))&&(((t0$15492=$15305$15487.length)),(($15324$15505=(t0$15492===2))&&(((t1$15493=$15305$15487[0])),(($15326$15507=(t1$15493 instanceof Array))&&(((t2$15494=t1$15493.length)),((t2$15494===2)&&((t1$15493[0]==="WHITE")&&((t1$15493[1]===":")&&(((t3$15495=$15305$15487[1])),((t3$15495 instanceof Array)&&(((t4$15496=t3$15495.length)),(t4$15496===3)))))))))))))){(f$15512=t3$15495[0]);(arg$15513=t3$15495[1]);(body$15514=t3$15495[2]);return __lt____lt____colon__$13455(["send",f$15512,__lt____lt____colon__$13455(["data",arg$15513,body$15514],__plus____plus____colon__$13456(arg$15513,body$15514))],sumloc$15329);}else{if(($15326$15507&&(($15328$15509=(t2$15494===1))&&((t1$15493[0]===":")&&(((t3$15495=$15305$15487[1])),((t3$15495 instanceof Array)&&(((t4$15496=t3$15495.length)),(t4$15496===2)))))))){(f$15544=t3$15495[0]);(body$15545=t3$15495[1]);return __lt____lt____colon__$13455(["send",f$15544,__lt____lt____colon__$13455(["data",body$15545],body$15545)],sumloc$15329);}else{if(($15328$15509&&((t1$15493[0]==="with")&&(((t3$15495=$15305$15487[1])),((t3$15495 instanceof Array)&&(((t4$15496=t3$15495.length)),((t4$15496===2)&&((target$15560=t3$15495[0]),(((t5$15497=t3$15495[1])),((_b$15561=t5$15497),(((t6$15498=$16260(Body$13458)(t5$15497))),(t6$15498[0]&&(((t7$15499=t6$15498[1])),(((t8$15500=t7$15499.length)),(t8$15500>=0))))))))))))))){(body$15562=Array.prototype.slice.call(t7$15499,0));(inserted$15600=false);(result$15601=transform$13459(target$15560,(function($15608$15611){var t0$15620;var $index$15716;var $length$15710;var temp$15704;var tr$15689;var res$15690;var args$15678;var x$15654;var f$15655;var a$15656;var b$15657;var t0$15634;var t1$15635;var t2$15636;var $15613$15629;var ph$15617;var expr$15618;(t0$15620=$15608$15611);(expr$15618=t0$15620);(ph$15617=t0$15620);($15613$15629=ph$15617);if((($15613$15629 instanceof Array)&&(((t0$15634=$15613$15629.length)),((t0$15634===2)&&(($15613$15629[0]==="symbol")&&($15613$15629[1]==="...")))))){(inserted$15600=true);return __lt____lt____colon__$13455(["multi"].concat(body$15562),_b$15561);}else{(x$15654=$15613$15629);if((x$15654.fromop&&(($15613$15629 instanceof Array)&&(((t0$15634=$15613$15629.length)),((t0$15634===3)&&(($15613$15629[0]==="send")&&((f$15655=$15613$15629[1]),(((t1$15635=$15613$15629[2])),((t1$15635 instanceof Array)&&(((t2$15636=t1$15635.length)),((t2$15636===3)&&(t1$15635[0]==="data")))))))))))){(a$15656=t1$15635[1]);(b$15657=t1$15635[2]);return ["send",this(f$15655),__lt____lt____colon__$13455(["data",this(a$15656),this(b$15657)],__plus____plus____colon__$13456(a$15656,b$15657))];}else{if((($15613$15629 instanceof Array)&&(((t0$15634=$15613$15629.length)),((t0$15634>=1)&&($15613$15629[0]==="data"))))){(args$15678=Array.prototype.slice.call($15613$15629,1));(tr$15689=this);(res$15690=["data"]);(temp$15704=args$15678);($length$15710=temp$15704.length);($index$15716=0);$15691:for(;($index$15716<$length$15710);($index$15716++)){var other$15753;var t0$15730;var t1$15731;var m$15725;(m$15725=temp$15704[$index$15716]);(t0$15730=m$15725);if(((t0$15730 instanceof Array)&&(((t1$15731=t0$15730.length)),((t1$15731===2)&&((t0$15730[0]==="symbol")&&(t0$15730[1]==="...")))))){(inserted$15600=true);(res$15690=res$15690.concat(body$15562));}else{(other$15753=m$15725);res$15690.push(__lt____lt____colon__$13455(tr$15689(other$15753),other$15753));}}return __lt____lt____colon__$13455(res$15690,expr$15618);}else{$13149($15613$15629);}}}})));if((!inserted$15600)){($15758$15768=target$15560);if((($15758$15768 instanceof Array)&&(((t0$15773=$15758$15768.length)),((t0$15773===1)&&($15758$15768[0]==="void"))))){return __lt____lt____colon__$13455(["data"].concat(body$15562),sumloc$15329);}else{$15758$15768;if(target$15560.fromop){return __lt____lt____colon__$13455(["send",target$15560,__lt____lt____colon__$13455(["data"].concat(body$15562),_b$15561)],sumloc$15329);}else{if((($15764$15777=($15758$15768 instanceof Array))&&(((t0$15773=$15758$15768.length)),((t0$15773===3)&&(($15758$15768[0]==="send")&&((f$15794=$15758$15768[1]),(((t1$15774=$15758$15768[2])),((orig_args$15795=t1$15774),((t1$15774 instanceof Array)&&(((t2$15775=t1$15774.length)),((t2$15775>=1)&&(t1$15774[0]==="data")))))))))))){(args$15796=Array.prototype.slice.call(t1$15774,1));return __lt____lt____colon__$13455(["send",f$15794,__lt____lt____colon__$13455(["data"].concat(args$15796).concat(body$15562),__plus____plus____colon__$13456(orig_args$15795,_b$15561))],sumloc$15329);}else{if(($15764$15777&&((t0$15773>=1)&&($15758$15768[0]==="data")))){(args$15818=Array.prototype.slice.call($15758$15768,1));return __lt____lt____colon__$13455(target$15560.concat(body$15562),sumloc$15329);}else{(other$15823=$15758$15768);return __lt____lt____colon__$13455(["send",target$15560,__lt____lt____colon__$13455(["data"].concat(body$15562),_b$15561)],sumloc$15329);}}}}}else{return __lt____lt____colon__$13455(result$15601,sumloc$15329);}}else{if(($15324$15505&&(((bridge$15310$15501=$15305$15487[0])),((((bridge$15310$15501 instanceof Array)&&(((t0$15835=bridge$15310$15501.length)),((t0$15835>=2)&&((bridge$15310$15501[0]==="[")&&((commas$15827=Array.prototype.slice.call(bridge$15310$15501,1,-1)),(bridge$15310$15501[(t0$15835-1)]==="]"))))))||((commas$15827=bridge$15310$15501),true))&&($15305$15487[1],commas$15827.every((function(x$15846){return $16307(x$15846,",");}))))))){if((op$15331==="[")){(args$15297=args$15297.slice(1,-1));}(args$15297=(((f$15862=(function($15866$15869){var other$15898;var t0$15885;var $15871$15880;var ph$15874;(ph$15874=$15866$15869);($15871$15880=ph$15874);if((($15871$15880 instanceof Array)&&(((t0$15885=$15871$15880.length)),((t0$15885===1)&&($15871$15880[0]==="void"))))){return false;}else{(other$15898=$15871$15880);return true;}}))),args$15297.filter(f$15862)));(result$15852=((($15904$15912=args$15297)),(function(){if((($15908$15919=($15904$15912 instanceof Array))&&(((t0$15917=$15904$15912.length)),(t0$15917===0)))){return ["multi"];}else{if(($15908$15919&&(t0$15917===1))){(x$15932=$15904$15912[0]);if(((!isNaN(sumloc$15329.start))&&(!isNaN(sumloc$15329.end)))){(x$15932["location"]=sumloc$15329);}return x$15932;}else{(other$15943=$15904$15912);return ["multi"].concat(args$15297);}}})()));return __lt____lt____colon__$13455(result$15852,sumloc$15329);}else{if(($15324$15505&&(((t1$15493=$15305$15487[0])),(($15326$15507=(t1$15493 instanceof Array))&&(((t2$15494=t1$15493.length)),((t2$15494>=2)&&((t1$15493[0]==="{")&&((commas$15948=Array.prototype.slice.call(t1$15493,1,-1)),((t1$15493[(t2$15494-1)]==="}")&&($15305$15487[1],commas$15948.every((function(x$15964){return $16307(x$15964,",");})))))))))))){(f$15969=(function($15973$15976){var other$16005;var t0$15992;var $15978$15987;var ph$15981;(ph$15981=$15973$15976);($15978$15987=ph$15981);if((($15978$15987 instanceof Array)&&(((t0$15992=$15978$15987.length)),((t0$15992===1)&&($15978$15987[0]==="void"))))){return false;}else{(other$16005=$15978$15987);return true;}}));return __lt____lt____colon__$13455(["data"].concat(args$15297.slice(1,-1).filter(f$15969)),sumloc$15329);}else{if(($15326$15507&&(($15328$15509=(t2$15494===1))&&(t1$15493[0]==="WHITE")))){$15305$15487[1];return __lt____lt____colon__$13455(["send"].concat(args$15297),sumloc$15329);}else{if($15328$15509){t1$15493[0];($15314$16014=$15305$15487[1]);(t0$16018=$15314$16014);if((($15318$16026=(t0$16018 instanceof Array))&&(((t1$16019=t0$16018.length)),(($15320$16028=(t1$16019===2))&&(((t2$16020=t0$16018[0])),((t2$16020 instanceof Array)&&(((t3$16021=t2$16020.length)),((t3$16021===1)&&((t2$16020[0]==="void")&&(((t4$16022=t0$16018[1])),((t4$16022 instanceof Array)&&(((t5$16023=t4$16022.length)),((t5$16023===1)&&(t4$16022[0]==="void")))))))))))))){return __lt____lt____colon__$13455(["symbol",op$15331],orig_ops$15330[0]);}else{if($15320$16028){(a$16064=t0$16018[0]);(b$16065=t0$16018[1]);(oloc$16074=orig_ops$15330[0].location);(abloc$16075=__plus____plus____colon__$13456(a$16064,b$16065));(oabloc$16076=__plus____plus____colon__$13456(orig_ops$15330[0],abloc$16075));(rval$16077=__lt____lt____colon__$13455(["send",__lt____lt____colon__$13455(["symbol",op$15331],oloc$16074),__lt____lt____colon__$13455(["data",a$16064,b$16065],abloc$16075)],__plus____plus____colon__$13456(oloc$16074,abloc$16075)));(rval$16077["fromop"]=true);return rval$16077;}else{$13149($15314$16014,"/home/olivier/git/earl-grey/src/parse.eg",17629,17634);}}}else{if($15324$15505){(op_strings$16097=$15305$15487[0]);(args$16098=$15305$15487[1]);return __lt____lt____colon__$13455(["mismix",(((acc$16106=[])),(((temp$16112=orig_ops$15330)),((($length$16118=temp$16112.length)),((($index$16124=0)),(function(){$16101:for(;($index$16124<$length$16118);($index$16124++)){var op$16141;var m$16133;(m$16133=temp$16112[$index$16124]);(op$16141=m$16133);acc$16106.push(__lt____lt____colon__$13455(["symbol",op$16141[2]],op$16141));}})()))),acc$16106)].concat(args$16098),sumloc$15329);}else{$13149($15305$15487);}}}}}}}}}else{(other$16148=$15232$15255);throw $13168(["should_never_happen"]).create("unknown node (B)",({"node":token$15244}));}}}}}}}));(parse$13473=(function(tokens$16155){var next$16159;(next$16159=(function(){return tokens$16155.shift();}));return oparse$13471(next$16159,eg_order$13465.compare.bind(eg_order$13465),finalize$13472);}));(exports["OperatorGroups"]=OperatorGroups$13460);(exports["SimplePriority"]=SimplePriority$13463);(exports["parse"]=parse$13473);(exports["oparse"]=oparse$13471);(exports["finalize"]=finalize$13472);(exports["DONE"]=DONE$13466);(exports["NONE"]=NONE$13467);(exports["LEFT"]=LEFT$13468);(exports["RIGHT"]=RIGHT$13469);(exports["BOTH"]=BOTH$13470);
