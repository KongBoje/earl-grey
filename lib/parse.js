var $11738=function(type$11741){var f$11745;(f$11745=type$11741["::check"]);if((f$11745===(void 0))){return function(value$11751){return (value$11751 instanceof type$11741);};}else{return function(value$11755){return f$11745.call(type$11741,value$11755);};}};
var $11757=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $11758=function(dest$11761,values$11762){var k$11767;(k$11767=null);$11765:for(k$11767 in values$11762){if(values$11762.hasOwnProperty(k$11767)){(dest$11761[k$11767]=values$11762[k$11767]);}}return dest$11761;};
var $11775=function($11777$11780){var ph$11786;(ph$11786=$11777$11780);var $11782$11792;($11782$11792=ph$11786);var bridge$11784$11797;var x$11801;(bridge$11784$11797=$11782$11792);if((((typeof(bridge$11784$11797)==="string")&&((x$11801=bridge$11784$11797),true))||((typeof(bridge$11784$11797)==="number")&&((x$11801=bridge$11784$11797),true)))){return ["value",x$11801];}else{var other$11812;(other$11812=$11782$11792);return other$11812["::serialize_ast"]();}};
var send$11512;(send$11512=function(obj$11519,$11516$11520){var ph$11526;var msg$11527;var t0$11529;(t0$11529=$11516$11520);(msg$11527=t0$11529);(ph$11526=t0$11529);var $11522$11538;($11522$11538=ph$11526);var bridge$11524$11543;(bridge$11524$11543=$11522$11538);if(((typeof(bridge$11524$11543)==="string")||(typeof(bridge$11524$11543)==="number"))){return obj$11519[msg$11527];}else{var other$11555;(other$11555=$11522$11538);return obj$11519["::send"](msg$11527);}});(Array[":::project"]=function($11561$11564){var ph$11569;var value$11570;var t0$11572;(t0$11572=$11561$11564);(value$11570=t0$11572);(ph$11569=t0$11572);var $11566$11581;($11566$11581=ph$11569);if($11738(Array)($11566$11581)){return [true,value$11570];}else{$11566$11581;return [true,[value$11570]];}});(Array.prototype["::check"]=function(value$11599){if((value$11599 instanceof Array)){var i$11605;(i$11605=0);$11602:for(;(i$11605<this.length);(i$11605++)){if(($11757(this,i$11605)!==$11757(value$11599,i$11605))){return false;}}return true;}else{return false;}});(Array.prototype["::clone"]=function(){return $11758(this.slice(0),this);});(Array.prototype[":::project"]=function(value$11624){if((value$11624 instanceof Array)){var i$11630;(i$11630=0);$11627:for(;(i$11630<this.length);(i$11630++)){if(($11757(this,i$11630)!==$11757(value$11624,i$11630))){return [true,[value$11624]];}}return [true,value$11624.slice(this.length)];}else{return [true,[value$11624]];}});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($11775));});(RegExp.prototype["::check"]=function($11648$11651){var ph$11656;(ph$11656=$11648$11651);var $11653$11662;($11653$11662=ph$11656);var value$11670;if((typeof($11653$11662)==="string")){(value$11670=$11653$11662);if(value$11670.match(this)){return true;}else{return false;}}else{var other$11675;(other$11675=$11653$11662);return false;}});(RegExp.prototype[":::project"]=function($11681$11684){var ph$11689;(ph$11689=$11681$11684);var $11686$11695;($11686$11695=ph$11689);var value$11703;if((typeof($11686$11695)==="string")){(value$11703=$11686$11695);var $11706$11711;($11706$11711=value$11703.match(this));var m$11719;if(($11706$11711===null)){(m$11719=$11706$11711);return [false,null];}else{var m$11724;(m$11724=$11706$11711);return [true,m$11724];}}else{var other$11728;(other$11728=$11686$11695);return [false,null];}});(Function.prototype["::send"]=function(args$11735){return this.apply(this,args$11735);});
var $14816=function(arr$14819){var results$14825;var l$14826;(results$14825=[]);(l$14826=arr$14819.length);var i$14835;(i$14835=0);$14824:for(;(i$14835<l$14826);(i$14835++)){results$14825.push([i$14835,$11757(arr$14819,i$14835)]);}return results$14825;};
var $14583=function(){var $14584$14590;($14584$14590=function(tags$14595){var it$0$14598;(it$0$14598=function(){if((!$11738($14584$14590)(this))){return Object.create($14584$14590.prototype);}else{return this;}}());(it$0$14598["tags"]=tags$14595);return it$0$14598;});($14584$14590.prototype["create"]=function(){var it$0$14618;var self$14619;(it$0$14618=this);(self$14619=this);var $14616$14628;($14616$14628=arguments);var t0$14633;var message$14637;var args$14638;(t0$14633=$14616$14628.length);if((t0$14633>=0)){(message$14637=function(){if((0>=t0$14633)){return "";}else{return $14616$14628[0];}}());(args$14638=Array.prototype.slice.call($14616$14628,1));var e$14651;(e$14651=Error(message$14637));(e$14651["::tags"]=it$0$14618.tags);(e$14651["args"]=args$14638);var temp$14667;(temp$14667=$14816(args$14638));var $length$14673;($length$14673=temp$14667.length);var $index$14679;($index$14679=0);$14652:for(;($index$14679<$length$14673);($index$14679++)){var m$14688;(m$14688=temp$14667[$index$14679]);var t0$14693;var t1$14694;var i$14698;var arg$14699;(t0$14693=m$14688);if(((t0$14693 instanceof Array)&&(((t1$14694=t0$14693.length)),(t1$14694===2)))){(i$14698=t0$14693[0]);(arg$14699=t0$14693[1]);(e$14651[i$14698]=arg$14699);}else{$14564(m$14688);}}(e$14651["length"]=args$14638.length);(e$14651["name"]=["E"].concat(it$0$14618.tags).join("."));return e$14651;}else{$14564($14616$14628);}});($14584$14590.prototype["::check"]=function(e$14729){var it$0$14733;var self$14734;(it$0$14733=this);(self$14734=this);var tags$14744;if(((!e$14729)||(!$11738(Error)(e$14729)))){return false;}(tags$14744=(e$14729["::tags"]||[]));var temp$14755;(temp$14755=it$0$14733.tags);var $length$14761;($length$14761=temp$14755.length);var $index$14767;($index$14767=0);$14745:for(;($index$14767<$length$14761);($index$14767++)){var m$14776;(m$14776=temp$14755[$index$14767]);var tag$14784;(tag$14784=m$14776);if((tags$14744.indexOf(tag$14784)===-1)){return false;}else{false;}}return true;});($14584$14590.prototype["::deconstruct"]=function(e$14793){var it$0$14797;var self$14798;(it$0$14797=this);(self$14798=this);return e$14793.args;});$11758($14584$14590,$11758(function(){var accum$14809;(accum$14809=({}));(accum$14809["::name"]="$14584");return accum$14809;}(),function(){var accum$14813;(accum$14813=({}));(accum$14813["::egclass"]=true);return accum$14813;}()));return $14584$14590;}();
var $14564=function(value$14567,url$14568,start$14569,end$14570){var err$14574;(err$14574=$14583(["match"]).create("Could not find a match for value",({"value":value$14567})));if(url$14568){(err$14574["location"]=["location",url$14568,start$14569,end$14570]);}throw err$14574;};
var $14842=function(obj$14845){var results$14850;(results$14850=[]);var k$14855;(k$14855=null);$14849:for(k$14855 in obj$14845){if(Object.prototype.hasOwnProperty.call(obj$14845,k$14855)){results$14850.push([k$14855,$11757(obj$14845,k$14855)]);}}return results$14850;};
var $14859=function(arrays$14862){var results$14866;(results$14866=[]);var temp$14876;(temp$14876=arrays$14862);var $length$14882;($length$14882=temp$14876.length);var $index$14888;($index$14888=0);$14867:for(;($index$14888<$length$14882);($index$14888++)){var m$14897;(m$14897=temp$14876[$index$14888]);var a$14905;(a$14905=m$14897);(results$14866=results$14866.concat(a$14905));}return results$14866;};
var $14911=function(type$14914){return function(value$14918){var f$14922;(f$14922=type$14914[":::project"]);if((f$14922===(void 0))){(f$14922=type$14914["::project"]);if((f$14922===(void 0))){return [true,type$14914(value$14918)];}else{var rval$14935;(rval$14935=false);try{(rval$14935=[true,f$14922(value$14918)]);}catch(excv$14946){var e$14952;(e$14952=excv$14946);(rval$14935=[false,null]);}return rval$14935;}}else{return f$14922.call(type$14914,value$14918);}};};
var $15114=Object.keys;
var $15115=function($15117$15120,key$15121){var ph$15129;(ph$15129=$15117$15120);var $15123$15135;($15123$15135=ph$15129);var bridge$15125$15140;(bridge$15125$15140=$15123$15135);if(((bridge$15125$15140===null)||(bridge$15125$15140===(void 0)))){return false;}else{var x$15152;if((typeof($15123$15135)==="string")){(x$15152=$15123$15135);return (key$15121 in String.prototype);}else{var x$15157;if((typeof($15123$15135)==="number")){(x$15157=$15123$15135);return (key$15121 in Number.prototype);}else{var x$15162;(x$15162=$15123$15135);return (key$15121 in x$15162);}}}};
var $14958=function($14960$14963,b$14964){var ph$14976;var a$14977;var t0$14979;(t0$14979=$14960$14963);(a$14977=t0$14979);(ph$14976=t0$14979);var $14966$14988;($14966$14988=ph$14976);var bridge$14969$14993;if(($14966$14988===b$14964)){return true;}else{(bridge$14969$14993=$14966$14988);if((function(){var bridge$14970$15007;(bridge$14970$15007=bridge$14969$14993);return (function(){var bridge$14971$15014;(bridge$14971$15014=bridge$14970$15007);return ((typeof(bridge$14971$15014)==="number")||(typeof(bridge$14971$15014)==="string"));}()||(bridge$14970$15007===null));}()||(bridge$14969$14993===(void 0)))){return false;}else{if($11738(Array)($14966$14988)){if(((!$11738(Array)(b$14964))||(a$14977.length!==b$14964.length))){return false;}var i$15030;(i$15030=0);$15026:for(;(i$15030<a$14977.length);(i$15030++)){if((!$14958(a$14977[i$15030],b$14964[i$15030]))){return false;}}return true;}else{$14966$14988;if(((Object.getPrototypeOf(a$14977)===Object.prototype)&&(Object.getPrototypeOf(b$14964)===Object.prototype))){var ka$15044;(ka$15044=$15114(a$14977));if((!$14958(ka$15044.sort(),$15114(b$14964).sort()))){return false;}var temp$15055;(temp$15055=ka$15044);var $length$15061;($length$15061=temp$15055.length);var $index$15067;($index$15067=0);$15045:for(;($index$15067<$length$15061);($index$15067++)){var m$15076;(m$15076=temp$15055[$index$15067]);var k$15084;(k$15084=m$15076);if((!$14958(a$14977[k$15084],b$14964[k$15084]))){return false;}}return true;}else{if($15115($14966$14988,"::serialize")){$14966$14988["::serialize"];var $15091$15096;($15091$15096=b$14964);if($15115($15091$15096,"::serialize")){$15091$15096["::serialize"];return $14958(a$14977["::serialize"](),b$14964["::serialize"]());}else{var otherwise$15108;(otherwise$15108=$15091$15096);return false;}}else{var otherwise$15112;(otherwise$15112=$14966$14988);return false;}}}}}};
var $15164=function(pairs$15167){var rval$15171;(rval$15171=({}));var temp$15181;(temp$15181=pairs$15167);var $length$15187;($length$15187=temp$15181.length);var $index$15193;($index$15193=0);$15172:for(;($index$15193<$length$15187);($index$15193++)){var m$15202;(m$15202=temp$15181[$index$15193]);var t0$15207;var t1$15208;var k$15212;var v$15213;(t0$15207=m$15202);if(((t0$15207 instanceof Array)&&(((t1$15208=t0$15207.length)),(t1$15208===2)))){(k$15212=t0$15207[0]);(v$15213=t0$15207[1]);(rval$15171[k$15212]=v$15213);}else{$14564(m$15202);}}return rval$15171;};var accum$12399;var accum$12403;var accum$12649;var accum$13165;var accum$13169;var accum$13394;var accum$13398;var accum$13402;var accum$13406;var accum$13410;var accum$13422;var accum$13426;var accum$13430;var accum$13434;var accum$13438;var eg_groups$13180;var eg_prio$13181;var $11816$11838;var __lt____lt____colon__$11839;var __plus____plus____colon__$11840;var transform$11841;var OperatorGroups$11842;var parse_op_description$11843;var eg_groups$11844;var SimplePriority$11845;var MAX$11846;var eg_order$11847;var DONE$11848;var NONE$11849;var LEFT$11850;var RIGHT$11851;var BOTH$11852;var oparse$11853;var finalize$11854;var parse$11855;($11816$11838=require("./location"));(__lt____lt____colon__$11839=$11816$11838["<<:"]);(__plus____plus____colon__$11840=$11816$11838["++:"]);(transform$11841=function(expr$11869,cb$11870){var rval$11890;var tr$11875;var result$11876;(tr$11875=function(x$11881){return transform$11841(x$11881,cb$11870);});(result$11876=(((rval$11890=false)),(function(){try{(rval$11890=cb$11870.call(tr$11875,expr$11869));}catch(excv$11901){var name$11953;var args$11954;var v$11948;var s$11943;var $11917$11929;var $11918$11930;var $11919$11931;var t0$11927;var $11912$11922;var e$11907;(e$11907=excv$11901);(rval$11890=((($11912$11922=expr$11869)),function(){if((($11917$11929=($11912$11922 instanceof Array))&&(((t0$11927=$11912$11922.length)),((t0$11927===1)&&($11912$11922[0]==="void"))))){return ["void"];}else{if(($11917$11929&&(($11919$11931=(t0$11927===2))&&($11912$11922[0]==="symbol")))){(s$11943=$11912$11922[1]);return expr$11869;}else{if(($11919$11931&&($11912$11922[0]==="value"))){(v$11948=$11912$11922[1]);return expr$11869;}else{if(($11917$11929&&(t0$11927>=1))){(name$11953=$11912$11922[0]);(args$11954=Array.prototype.slice.call($11912$11922,1));return [name$11953].concat(args$11954.map(tr$11875));}else{$14564($11912$11922);}}}}}()));}}(),rval$11890)));return __lt____lt____colon__$11839(result$11876,expr$11869);});(OperatorGroups$11842=function(groups$11966){var $index$12013;var $length$12007;var temp$12001;var acc$11995;var $index$12073;var $length$12067;var temp$12061;var acc$12055;var $index$12178;var $length$12172;var temp$12166;var acc$12160;var itg$11981;var it$0$11969;(it$0$11969=function(){if((!$11738(OperatorGroups$11842)(this))){return Object.create(OperatorGroups$11842.prototype);}else{return this;}}());(itg$11981=$14842(groups$11966));(it$0$11969["gnames"]=(((acc$11995=[])),(((temp$12001=itg$11981)),((($length$12007=temp$12001.length)),((($index$12013=0)),function(){$11990:for(;($index$12013<$length$12007);($index$12013++)){var name$12032;var t0$12027;var t1$12028;var m$12022;(m$12022=temp$12001[$index$12013]);(t0$12027=m$12022);if(((t0$12027 instanceof Array)&&(((t1$12028=t0$12027.length)),(t1$12028===2)))){(name$12032=t0$12027[0]);t0$12027[1];acc$11995.push(name$12032);}else{$14564(m$12022,"/home/olivier/git/earl-grey/src/parse.eg",503,529);}}}()))),acc$11995));(it$0$11969["groups"]=(((acc$12055=[])),(((temp$12061=itg$11981)),((($length$12067=temp$12061.length)),((($index$12073=0)),function(){$12050:for(;($index$12073<$length$12067);($index$12073++)){var $index$12129;var $length$12123;var temp$12117;var acc$12111;var name$12092;var descrs$12093;var t0$12087;var t1$12088;var m$12082;(m$12082=temp$12061[$index$12073]);(t0$12087=m$12082);if(((t0$12087 instanceof Array)&&(((t1$12088=t0$12087.length)),(t1$12088===2)))){(name$12092=t0$12087[0]);(descrs$12093=t0$12087[1]);acc$12055.push($14859((((acc$12111=[])),(((temp$12117=descrs$12093)),((($length$12123=temp$12117.length)),((($index$12129=0)),function(){$12106:for(;($index$12129<$length$12123);($index$12129++)){var descr$12146;var m$12138;(m$12138=temp$12117[$index$12129]);(descr$12146=m$12138);acc$12111.push(parse_op_description$11843(descr$12146));}}()))),acc$12111)));}else{$14564(m$12082,"/home/olivier/git/earl-grey/src/parse.eg",546,643);}}}()))),acc$12055));(it$0$11969["fns"]=[]);(it$0$11969["to_gid"]=({"IFX":({"wide":({}),"short":({})}),"PFX":({"wide":({}),"short":({})}),"SFX":({"wide":({}),"short":({})})}));(acc$12160=[]);(temp$12166=$14816(it$0$11969.groups));($length$12172=temp$12166.length);($index$12178=0);$11982:for(;($index$12178<$length$12172);($index$12178++)){var $index$12235;var $length$12229;var temp$12223;var acc$12217;var i$12197;var group$12198;var t0$12192;var t1$12193;var m$12187;(m$12187=temp$12166[$index$12178]);(t0$12192=m$12187);if(((t0$12192 instanceof Array)&&(((t1$12193=t0$12192.length)),(t1$12193===2)))){(i$12197=t0$12192[0]);(group$12198=t0$12192[1]);acc$12160.push((((acc$12217=[])),(((temp$12223=group$12198)),((($length$12229=temp$12223.length)),((($index$12235=0)),function(){$12211:for(;($index$12235<$length$12229);($index$12235++)){var f$12275;var fixity$12254;var width$12255;var name$12256;var t0$12249;var t1$12250;var m$12244;(m$12244=temp$12223[$index$12235]);(t0$12249=m$12244);if(((t0$12249 instanceof Array)&&(((t1$12250=t0$12249.length)),(t1$12250===3)))){(fixity$12254=t0$12249[0]);(width$12255=t0$12249[1]);(name$12256=t0$12249[2]);acc$12217.push((($11757($11757(it$0$11969.to_gid,fixity$12254),width$12255)[name$12256]=i$12197)));}else{(f$12275=m$12244);acc$12217.push(it$0$11969.fns.push([f$12275,i$12197]));}}}()))),acc$12217));}else{$14564(m$12187,"/home/olivier/git/earl-grey/src/parse.eg",808,1009);}}acc$12160;return it$0$11969;});(OperatorGroups$11842.prototype["get_name"]=function(o$12285){var it$0$12289;var self$12290;(it$0$12289=this);(self$12290=this);return $11757(it$0$12289.gnames,it$0$12289.get(o$12285));});(OperatorGroups$11842.prototype["get"]=function($12301$12304){var t0$12322;var t1$12323;var $index$12361;var $length$12355;var temp$12349;var attempt$12338;var o$12317;var fixity$12318;var width$12319;var name$12320;var it$0$12308;var self$12309;(it$0$12308=this);(self$12309=this);(t0$12322=$12301$12304);(o$12317=t0$12322);if(((t0$12322 instanceof Array)&&(((t1$12323=t0$12322.length)),(t1$12323===3)))){(fixity$12318=t0$12322[0]);(width$12319=t0$12322[1]);(name$12320=t0$12322[2]);}else{$14564($12301$12304);}(attempt$12338=$11757($11757($11757(it$0$12308.to_gid,fixity$12318),width$12319),name$12320));if((attempt$12338===(void 0))){(temp$12349=it$0$12308.fns);($length$12355=temp$12349.length);($index$12361=0);$12343:for(;($index$12361<$length$12355);($index$12361++)){var f$12380;var i$12381;var t0$12375;var t1$12376;var m$12370;(m$12370=temp$12349[$index$12361]);(t0$12375=m$12370);if(((t0$12375 instanceof Array)&&(((t1$12376=t0$12375.length)),(t1$12376===2)))){(f$12380=t0$12375[0]);(i$12381=t0$12375[1]);if(f$12380(o$12317)){return i$12381;}}else{$14564(m$12370,"/home/olivier/git/earl-grey/src/parse.eg",1188,1271);}}throw $14583(["syntax","unknown_operator"]).create(("Unknown operator: "+[true,String(o$12317)][1]),({"operator":o$12317}));}else{return attempt$12338;}});$11758(OperatorGroups$11842,$11758(((accum$12399=({})),((accum$12399["::name"]="OperatorGroups"),accum$12399)),((accum$12403=({})),((accum$12403["::egclass"]=true),accum$12403))));OperatorGroups$11842;(parse_op_description$11843=function($12409$12412){var otherwise$12502;var $12482$12491;var $12478$12485;var otherwise$12536;var $12516$12525;var $12512$12519;var t0$12472;var t1$12473;var fixity$12469;var short$12470;var other$12540;var x$12446;var w1$12447;var op$12448;var w2$12449;var y$12450;var f$12441;var rx$12435;var t0$12429;var t1$12430;var t2$12431;var $12414$12424;var ph$12418;(ph$12418=$12409$12412);($12414$12424=ph$12418);(rx$12435=RegExp("(?:^((?:X?))((?:[ _]?))((?:[^ _Y]*))((?:[ _]?))((?:Y?))$)",""));if($11738(Function)($12414$12424)){(f$12441=$12414$12424);return f$12441;}else{(t0$12429=$14911(rx$12435)($12414$12424));if((t0$12429[0]&&(((t1$12430=t0$12429[1])),(((t2$12431=t1$12430.length)),(t2$12431===6))))){t1$12430[0];(x$12446=t1$12430[1]);(w1$12447=t1$12430[2]);(op$12448=t1$12430[3]);(w2$12449=t1$12430[4]);(y$12450=t1$12430[5]);(t0$12472=((($12478$12485=null)),($12478$12485,function(){if((x$12446==="")){return ["PFX",(w2$12449==="")];}else{if((y$12450==="")){return ["SFX",(w1$12447==="")];}else{(otherwise$12502=$12478$12485);return ["IFX",((w1$12447==="")||(w2$12449===""))];}}}())));if(((t0$12472 instanceof Array)&&(((t1$12473=t0$12472.length)),(t1$12473===2)))){(fixity$12469=t0$12472[0]);(short$12470=t0$12472[1]);}else{$14564(((($12512$12519=null)),($12512$12519,function(){if((x$12446==="")){return ["PFX",(w2$12449==="")];}else{if((y$12450==="")){return ["SFX",(w1$12447==="")];}else{(otherwise$12536=$12512$12519);return ["IFX",((w1$12447==="")||(w2$12449===""))];}}}())),"/home/olivier/git/earl-grey/src/parse.eg",1642,1860);}if(((w1$12447==="_")||(w2$12449==="_"))){return [[fixity$12469,"short",op$12448],[fixity$12469,"wide",op$12448]];}else{return [[fixity$12469,function(){if(short$12470){return "short";}else{return "wide";}}(),op$12448]];}}else{(other$12540=$12414$12424);throw $14583(["invalid_op_description"]).create(("Invalid operator description: "+other$12540));}}});(eg_groups$11844=OperatorGroups$11842($11758(({"tokenpfx":[".Y","#Y","@Y"],"sjuxt":["XWHITEY"],"ifx":[function($12547$12550){var t0$12566;var $12552$12561;var ph$12555;(ph$12555=$12547$12550);($12552$12561=ph$12555);if((($12552$12561 instanceof Array)&&(((t0$12566=$12552$12561.length)),((t0$12566===3)&&(($12552$12561[0]==="IFX")&&($12552$12561[1]==="short")))))){$12552$12561[2];return true;}else{$12552$12561;return false;}}],"pfx":[function($12581$12584){var t0$12600;var $12586$12595;var ph$12589;(ph$12589=$12581$12584);($12586$12595=ph$12589);if((($12586$12595 instanceof Array)&&(((t0$12600=$12586$12595.length)),((t0$12600===3)&&(($12586$12595[0]==="PFX")&&($12586$12595[1]==="short")))))){$12586$12595[2];return true;}else{$12586$12595;return false;}}],"sfx":[function($12615$12618){var t0$12634;var $12620$12629;var ph$12623;(ph$12623=$12615$12618);($12620$12629=ph$12623);if((($12620$12629 instanceof Array)&&(((t0$12634=$12620$12629.length)),((t0$12634===3)&&(($12620$12629[0]==="SFX")&&($12620$12629[1]==="short")))))){$12620$12629[2];return true;}else{$12620$12629;return false;}}],"pow":["X ** Y"],"mul":["X * Y","X / Y","X // Y","X mod Y","+ Y","- Y"],"add":["X + Y","X - Y"],"cmp":["X < Y","X <= Y","X == Y","X > Y","X >= Y","X != Y"],"cat":["X ++ Y"],"union":["X & Y"],"range":["X .. Y","X ..",".. Y"],"in":["X in Y"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"and":"X and Y","or":"X or Y","not":"not Y"}),$11758(((accum$12649=({})),((accum$12649["with"]=["X with Y"]),accum$12649)),({"decl":["X -> Y","X = Y","X := Y","X => Y","X where Y","X when Y","X each Y"],"brack":["X_,_Y","(_Y","[_Y","{_Y","X_)","X_]","X_}"],"custom":[function(x$12654){return true;}]})))));(SimplePriority$11845=function(groups$12661,priorities$12662){var $index$12712;var $length$12706;var temp$12700;var acc$12694;var _i$12676;var tracks$12677;var it$0$12665;(it$0$12665=function(){if((!$11738(SimplePriority$11845)(this))){return Object.create(SimplePriority$11845.prototype);}else{return this;}}());(it$0$12665["groups"]=groups$12661);(_i$12676=0);(tracks$12677=({}));(it$0$12665["prio"]=(((acc$12694=[])),(((temp$12700=groups$12661.gnames)),((($length$12706=temp$12700.length)),((($index$12712=0)),function(){$12689:for(;($index$12712<$length$12706);($index$12712++)){var t0$12742;var t1$12743;var t2$12744;var t3$12745;var t4$12746;var t5$12747;var t6$12748;var t7$12749;var $index$12824;var $length$12818;var temp$12812;var acc$12806;var $index$12946;var $length$12940;var temp$12934;var acc$12928;var t0$12795;var t1$12796;var ltracks$12735;var lp$12736;var rtracks$12737;var rp$12738;var lt$12739;var rt$12740;var name$12729;var m$12721;(m$12721=temp$12700[$index$12712]);(name$12729=m$12721);acc$12694.push(((((t0$12742=$11757(priorities$12662,name$12729))),function(){if(((t0$12742 instanceof Array)&&(((t1$12743=t0$12742.length)),((t1$12743===2)&&(((t2$12744=t0$12742[0])),((t2$12744 instanceof Array)&&(((t3$12745=t2$12744.length)),((t3$12745===2)&&(((t4$12746=$14911(Array)(t2$12744[0]))),(t4$12746[0]&&((ltracks$12735=t4$12746[1]),((lp$12736=t2$12744[1]),(((t5$12747=t0$12742[1])),((t5$12747 instanceof Array)&&(((t6$12748=t5$12747.length)),((t6$12748===2)&&(((t7$12749=$14911(Array)(t5$12747[0]))),t7$12749[0]))))))))))))))))){(rtracks$12737=t7$12749[1]);(rp$12738=t5$12747[1]);}else{return $14564($11757(priorities$12662,name$12729),"/home/olivier/git/earl-grey/src/parse.eg",3545,3571);}}()),(((t0$12795=(((acc$12806=[])),(((temp$12812=[ltracks$12735,rtracks$12737])),((($length$12818=temp$12812.length)),((($index$12824=0)),function(){$12801:for(;($index$12824<$length$12818);($index$12824++)){var $index$12870;var $length$12864;var temp$12858;var rval$12846;var tr$12841;var m$12833;(m$12833=temp$12812[$index$12824]);(tr$12841=m$12833);acc$12806.push((((rval$12846=0)),(((temp$12858=tr$12841)),((($length$12864=temp$12858.length)),((($index$12870=0)),function(){$12847:for(;($index$12870<$length$12864);($index$12870++)){var t$12909;var t$12895;var m$12879;(m$12879=temp$12858[$index$12870]);if((m$12879==="all")){(rval$12846=(Math.pow(2,31)-1));}else{(t$12895=m$12879);if((!$11757(tracks$12677,t$12895))){(rval$12846=(rval$12846|Math.pow(2,_i$12676)));(tracks$12677[t$12895]=(_i$12676++));}else{(t$12909=m$12879);(rval$12846=(rval$12846|Math.pow(2,$11757(tracks$12677,t$12909))));}}}}()))),rval$12846));}}()))),acc$12806))),function(){if(((t0$12795 instanceof Array)&&(((t1$12796=t0$12795.length)),(t1$12796===2)))){(lt$12739=t0$12795[0]);(rt$12740=t0$12795[1]);}else{return $14564((((acc$12928=[])),(((temp$12934=[ltracks$12735,rtracks$12737])),((($length$12940=temp$12934.length)),((($index$12946=0)),function(){$12923:for(;($index$12946<$length$12940);($index$12946++)){var $index$12992;var $length$12986;var temp$12980;var rval$12968;var tr$12963;var m$12955;(m$12955=temp$12934[$index$12946]);(tr$12963=m$12955);acc$12928.push((((rval$12968=0)),(((temp$12980=tr$12963)),((($length$12986=temp$12980.length)),((($index$12992=0)),function(){$12969:for(;($index$12992<$length$12986);($index$12992++)){var t$13031;var t$13017;var m$13001;(m$13001=temp$12980[$index$12992]);if((m$13001==="all")){(rval$12968=(Math.pow(2,31)-1));}else{(t$13017=m$13001);if((!$11757(tracks$12677,t$13017))){(rval$12968=(rval$12968|Math.pow(2,_i$12676)));(tracks$12677[t$13017]=(_i$12676++));}else{(t$13031=m$13001);(rval$12968=(rval$12968|Math.pow(2,$11757(tracks$12677,t$13031))));}}}}()))),rval$12968));}}()))),acc$12928),"/home/olivier/git/earl-grey/src/parse.eg",3581,3902);}}()),[[lt$12739,lp$12736],[rt$12740,rp$12738]]));}}()))),acc$12694));return it$0$12665;});(SimplePriority$11845.prototype["compare"]=function(op1$13043,op2$13044){var t0$13081;var t1$13082;var t2$13083;var t3$13084;var t0$13109;var t1$13110;var t2$13111;var t3$13112;var $13067$13143;var $13062$13137;var i1$13068;var i2$13069;var code1$13070;var ord1$13071;var code2$13072;var ord2$13073;var it$0$13048;var self$13049;(it$0$13048=this);(self$13049=this);(i1$13068=it$0$13048.groups.get(op1$13043));(i2$13069=it$0$13048.groups.get(op2$13044));(t0$13081=$11757(it$0$13048.prio,i1$13068));if(((t0$13081 instanceof Array)&&(((t1$13082=t0$13081.length)),((t1$13082===2)&&(t0$13081[0],(((t2$13083=t0$13081[1])),((t2$13083 instanceof Array)&&(((t3$13084=t2$13083.length)),(t3$13084===2))))))))){(code1$13070=t2$13083[0]);(ord1$13071=t2$13083[1]);}else{$14564($11757(it$0$13048.prio,i1$13068),"/home/olivier/git/earl-grey/src/parse.eg",4029,4046);}(t0$13109=$11757(it$0$13048.prio,i2$13069));if(((t0$13109 instanceof Array)&&(((t1$13110=t0$13109.length)),((t1$13110===2)&&(((t2$13111=t0$13109[0])),((t2$13111 instanceof Array)&&(((t3$13112=t2$13111.length)),(t3$13112===2)))))))){(code2$13072=t2$13111[0]);(ord2$13073=t2$13111[1]);t0$13109[1];}else{$14564($11757(it$0$13048.prio,i2$13069),"/home/olivier/git/earl-grey/src/parse.eg",4066,4083);}($13062$13137=null);$13062$13137;if(((code1$13070&code2$13072)===0)){throw $14583(["syntax","order"]).create("Cannot mix operators in the given order",({"left":op1$13043,"right":op2$13044}));}else{if((ord1$13071>ord2$13073)){return LEFT$11850;}else{if((ord1$13071<ord2$13073)){return RIGHT$11851;}else{if((ord1$13071===ord2$13073)){return BOTH$11852;}else{$14564($13062$13137);}}}}});$11758(SimplePriority$11845,$11758(((accum$13165=({})),((accum$13165["::name"]="SimplePriority"),accum$13165)),((accum$13169=({})),((accum$13169["::egclass"]=true),accum$13169))));SimplePriority$11845;(MAX$11846=(1/0));(eg_order$11847=(((eg_groups$13180=OperatorGroups$11842($11758(({"sh_ifx":[function($13190$13193){var t0$13209;var $13195$13204;var ph$13198;(ph$13198=$13190$13193);($13195$13204=ph$13198);if((($13195$13204 instanceof Array)&&(((t0$13209=$13195$13204.length)),((t0$13209===3)&&(($13195$13204[0]==="IFX")&&($13195$13204[1]==="short")))))){$13195$13204[2];return true;}else{$13195$13204;return false;}}],"sh_pfx":[function($13224$13227){var t0$13243;var $13229$13238;var ph$13232;(ph$13232=$13224$13227);($13229$13238=ph$13232);if((($13229$13238 instanceof Array)&&(((t0$13243=$13229$13238.length)),((t0$13243===3)&&(($13229$13238[0]==="PFX")&&($13229$13238[1]==="short")))))){$13229$13238[2];return true;}else{$13229$13238;return false;}}],"sh_sfx":[function($13258$13261){var t0$13277;var $13263$13272;var ph$13266;(ph$13266=$13258$13261);($13263$13272=ph$13266);if((($13263$13272 instanceof Array)&&(((t0$13277=$13263$13272.length)),((t0$13277===3)&&(($13263$13272[0]==="SFX")&&($13263$13272[1]==="short")))))){$13263$13272[2];return true;}else{$13263$13272;return false;}}],"wi_ifx":[function($13292$13295){var t0$13311;var $13297$13306;var ph$13300;(ph$13300=$13292$13295);($13297$13306=ph$13300);if((($13297$13306 instanceof Array)&&(((t0$13311=$13297$13306.length)),((t0$13311===3)&&(($13297$13306[0]==="IFX")&&($13297$13306[1]==="wide")))))){$13297$13306[2];return true;}else{$13297$13306;return false;}}],"wi_pfx":[function($13326$13329){var t0$13345;var $13331$13340;var ph$13334;(ph$13334=$13326$13329);($13331$13340=ph$13334);if((($13331$13340 instanceof Array)&&(((t0$13345=$13331$13340.length)),((t0$13345===3)&&(($13331$13340[0]==="PFX")&&($13331$13340[1]==="wide")))))){$13331$13340[2];return true;}else{$13331$13340;return false;}}],"wi_sfx":[function($13360$13363){var t0$13379;var $13365$13374;var ph$13368;(ph$13368=$13360$13363);($13365$13374=ph$13368);if((($13365$13374 instanceof Array)&&(((t0$13379=$13365$13374.length)),((t0$13379===3)&&(($13365$13374[0]==="SFX")&&($13365$13374[1]==="wide")))))){$13365$13374[2];return true;}else{$13365$13374;return false;}}],"comma":["X_,_Y"],"obrack":["(_Y","[_Y","{_Y"],"cbrack":["X_)","X_]","X_}"]}),$11758(((accum$13394=({})),((accum$13394["with"]=["X with Y"]),accum$13394)),$11758(({"lowprio":["X each Y","X each? Y","X where Y","X !! Y","X -> Y","X => Y","X = Y","X := Y","X += Y","X -= Y","X *= Y","X /= Y","X <<= Y","X >>= Y","X >>>= Y","X ++= Y","X ?= Y","X or= Y","X and= Y","X each= Y","X % Y"]}),$11758(((accum$13398=({})),((accum$13398["when"]=["X when Y"]),accum$13398)),$11758(((accum$13402=({})),((accum$13402["or"]=["X or Y"]),accum$13402)),$11758(((accum$13406=({})),((accum$13406["and"]=["X and Y"]),accum$13406)),$11758(((accum$13410=({})),((accum$13410["not"]=["not Y"]),accum$13410)),({"cmp":["X == Y","X != Y","X >= Y","X <= Y","X > Y","X < Y"],"binxor":["X ^. Y"],"binor":["X |. Y"],"binand":["X &. Y"],"shift":["X << Y","X >> Y","X >>> Y"],"add":["X + Y","X - Y"],"mul":["X * Y","X / Y","X // Y","X mod Y"],"exp":["X ** Y"],"sjuxt":["XWHITEY"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"pfx":["._Y","#_Y","@_Y"],"when2":["when Y"],"pp":["<> Y"],"pipe":["X |> Y"]}))))))))))),((eg_prio$13181=$11758(({"comma":[["all",1],["all",1]],"obrack":[["all",MAX$11846],["all",1]],"cbrack":[["all",1],["all",MAX$11846]]}),$11758(((accum$13422=({})),((accum$13422["with"]=[["all",1999],["all",10]]),accum$13422)),$11758(({"lowprio":[["all",11],["all",10]]}),$11758(((accum$13426=({})),((accum$13426["when"]=[["all",100],["all",101]]),accum$13426)),$11758(((accum$13430=({})),((accum$13430["or"]=[["all",110],["all",111]]),accum$13430)),$11758(((accum$13434=({})),((accum$13434["and"]=[["all",120],["all",121]]),accum$13434)),$11758(((accum$13438=({})),((accum$13438["not"]=[["all",MAX$11846],["all",131]]),accum$13438)),({"cmp":[["all",200],["all",201]],"binxor":[["all",400],["all",401]],"binor":[["all",410],["all",411]],"binand":[["all",420],["all",421]],"shift":[["arith",500],["arith",501]],"add":[["arith",550],["arith",551]],"mul":[["arith",560],["arith",561]],"exp":[["arith",571],["arith",570]],"wjuxt":[["all",13],["all",12]],"colon":[["all",12],["all",10]],"sjuxt":[["all",2000],["all",2001]],"pfx":[["all",MAX$11846],["all",3000]],"pp":[["all",MAX$11846],["all",5]],"when2":[["all",MAX$11846],["all",101]],"pipe":[["pipe",550],["pipe",551]],"sh_ifx":[["all",1800],["all",1801]],"sh_pfx":[["all",MAX$11846],["all",1901]],"sh_sfx":[["all",1900],["all",MAX$11846]],"wi_ifx":[["customl",900],["customr",901]],"wi_pfx":[["all",MAX$11846],["all",901]],"wi_sfx":[["all",900],["all",MAX$11846]]})))))))))),SimplePriority$11845(eg_groups$13180,eg_prio$13181)));(DONE$11848=-1);(NONE$11849=0);(LEFT$11850=1);(RIGHT$11851=2);(BOTH$11852=3);(oparse$11853=function(next$13462,order$13463,finalize$13464){var between$13472;var right_op$13473;var stack$13474;var left_op$13475;var current$13476;(between$13472=finalize$13464(next$13462()));(right_op$13473=next$13462());(stack$13474=[]);(left_op$13475=null);(current$13476=null);$13477:while(true){var v$13528;var other$13581;var $13497$13509;var o$13503;(o$13503=function(){if(((!left_op$13475)&&(!right_op$13473))){return DONE$11848;}else{return ((((!left_op$13475)&&RIGHT$11851)||((!right_op$13473)&&LEFT$11850))||order$13463(left_op$13475,right_op$13473));}}());($13497$13509=o$13503);if(($13497$13509===DONE$11848)){return between$13472;}else{if(($13497$13509===LEFT$11850)){current$13476.push(between$13472);(between$13472=finalize$13464(current$13476));(v$13528=stack$13474.pop());(left_op$13475=v$13528[0]);(current$13476=v$13528[1]);}else{if(($13497$13509===RIGHT$11851)){stack$13474.push([left_op$13475,current$13476]);(left_op$13475=right_op$13473);(current$13476=[[right_op$13473],between$13472]);(between$13472=finalize$13464(next$13462()));(right_op$13473=next$13462());}else{if(($13497$13509===BOTH$11852)){current$13476[0].push(right_op$13473);current$13476.push(between$13472);(left_op$13475=right_op$13473);(between$13472=finalize$13464(next$13462()));(right_op$13473=next$13462());}else{(other$13581=$13497$13509);throw $14583(["should_never_happen"]).create("undefined priority",({"left":left_op$13475,"right":right_op$13473}));}}}}}});(finalize$11854=function($13587$13590){var t0$13605;var $index$13710;var $length$13704;var temp$13698;var $index$13748;var $length$13742;var temp$13736;var $index$13799;var $length$13793;var temp$13787;var acc$13781;var other$14161;var args$14156;var f$14132;var orig_args$14133;var args$14134;var $14102$14115;var $14103$14116;var t0$14111;var t1$14112;var t2$14113;var $14096$14106;var inserted$13938;var result$13939;var t0$14173;var f$14200;var other$14281;var x$14270;var $14246$14257;var $14247$14258;var t0$14255;var $14242$14250;var result$14190;var f$14307;var oloc$14412;var abloc$14413;var oabloc$14414;var rval$14415;var a$14402;var b$14403;var $13671$14363;var $13672$14364;var $13673$14365;var $13674$14366;var t0$14356;var t1$14357;var t2$14358;var t3$14359;var t4$14360;var t5$14361;var $index$14469;var $length$14463;var temp$14457;var acc$14451;var tokens$14442;var msg$14443;var op_strings$14435;var args$14436;var $13668$14352;var commas$14286;var commas$14165;var target$13898;var _b$13899;var body$13900;var f$13882;var body$13883;var f$13850;var arg$13851;var body$13852;var $13676$13841;var $13677$13842;var $13678$13843;var $13679$13844;var $13680$13845;var $13681$13846;var $13682$13847;var t0$13830;var t1$13831;var t2$13832;var t3$13833;var t4$13834;var t5$13835;var t6$13836;var t7$13837;var t8$13838;var bridge$13664$13839;var $13659$13825;var sumloc$13683;var orig_ops$13684;var op$13685;var other$14512;var ops$13650;var args$13651;var value$13641;var value$13636;var value$13626;var $13599$13621;var $13600$13622;var $13601$13623;var t0$13619;var $13592$13614;var ph$13602;var token$13603;(t0$13605=$13587$13590);(token$13603=t0$13605);(ph$13602=t0$13605);($13592$13614=ph$13602);if((($13599$13621=($13592$13614 instanceof Array))&&(((t0$13619=$13592$13614.length)),(($13601$13623=(t0$13619===2))&&($13592$13614[0]==="ID"))))){(value$13626=$13592$13614[1]);return __lt____lt____colon__$11839(["symbol",value$13626],token$13603);}else{if(($13601$13623&&($13592$13614[0]==="NUM"))){(value$13636=$13592$13614[1]);return __lt____lt____colon__$11839(["value",value$13636],token$13603);}else{if(($13601$13623&&($13592$13614[0]==="STR"))){(value$13641=$13592$13614[1]);return __lt____lt____colon__$11839(["value",value$13641],token$13603);}else{if(($13599$13621&&((t0$13619===1)&&($13592$13614[0]==="VOID")))){return __lt____lt____colon__$11839(["void"],token$13603);}else{if(($13599$13621&&(t0$13619>=1))){(ops$13650=$13592$13614[0]);(args$13651=Array.prototype.slice.call($13592$13614,1));(sumloc$13683=ops$13650[0].location);(temp$13698=ops$13650.slice(1));($length$13704=temp$13698.length);($index$13710=0);$13686:for(;($index$13710<$length$13704);($index$13710++)){var op$13727;var m$13719;(m$13719=temp$13698[$index$13710]);(op$13727=m$13719);(sumloc$13683=__plus____plus____colon__$11840(sumloc$13683,op$13727));}(temp$13736=args$13651);($length$13742=temp$13736.length);($index$13748=0);$13689:for(;($index$13748<$length$13742);($index$13748++)){var arg$13765;var m$13757;(m$13757=temp$13736[$index$13748]);(arg$13765=m$13757);(sumloc$13683=__plus____plus____colon__$11840(sumloc$13683,arg$13765));}(orig_ops$13684=ops$13650);(ops$13650=(((acc$13781=[])),(((temp$13787=ops$13650)),((($length$13793=temp$13787.length)),((($index$13799=0)),function(){$13776:for(;($index$13799<$length$13793);($index$13799++)){var o$13816;var m$13808;(m$13808=temp$13787[$index$13799]);(o$13816=m$13808);acc$13781.push(o$13816[2]);}}()))),acc$13781));(op$13685=ops$13650[0]);($13659$13825=[ops$13650,args$13651]);if((($13676$13841=($13659$13825 instanceof Array))&&(((t0$13830=$13659$13825.length)),(($13678$13843=(t0$13830===2))&&(((t1$13831=$13659$13825[0])),(($13680$13845=(t1$13831 instanceof Array))&&(((t2$13832=t1$13831.length)),((t2$13832===2)&&((t1$13831[0]==="WHITE")&&((t1$13831[1]===":")&&(((t3$13833=$13659$13825[1])),((t3$13833 instanceof Array)&&(((t4$13834=t3$13833.length)),(t4$13834===3)))))))))))))){(f$13850=t3$13833[0]);(arg$13851=t3$13833[1]);(body$13852=t3$13833[2]);return __lt____lt____colon__$11839(["send",f$13850,__lt____lt____colon__$11839(["data",arg$13851,body$13852],__plus____plus____colon__$11840(arg$13851,body$13852))],sumloc$13683);}else{if(($13680$13845&&(($13682$13847=(t2$13832===1))&&((t1$13831[0]===":")&&(((t3$13833=$13659$13825[1])),((t3$13833 instanceof Array)&&(((t4$13834=t3$13833.length)),(t4$13834===2)))))))){(f$13882=t3$13833[0]);(body$13883=t3$13833[1]);return __lt____lt____colon__$11839(["send",f$13882,__lt____lt____colon__$11839(["data",body$13883],body$13883)],sumloc$13683);}else{if(($13682$13847&&((t1$13831[0]==="with")&&(((t3$13833=$13659$13825[1])),((t3$13833 instanceof Array)&&(((t4$13834=t3$13833.length)),((t4$13834===2)&&((target$13898=t3$13833[0]),(((t5$13835=t3$13833[1])),((_b$13899=t5$13835),(((t6$13836=$14911(["multi"])(t5$13835))),(t6$13836[0]&&(((t7$13837=t6$13836[1])),(((t8$13838=t7$13837.length)),(t8$13838>=0))))))))))))))){(body$13900=Array.prototype.slice.call(t7$13837,0));(inserted$13938=false);(result$13939=transform$11841(target$13898,function($13946$13949){var t0$13958;var $index$14054;var $length$14048;var temp$14042;var tr$14027;var res$14028;var args$14016;var x$13992;var f$13993;var a$13994;var b$13995;var t0$13972;var t1$13973;var t2$13974;var $13951$13967;var ph$13955;var expr$13956;(t0$13958=$13946$13949);(expr$13956=t0$13958);(ph$13955=t0$13958);($13951$13967=ph$13955);if((($13951$13967 instanceof Array)&&(((t0$13972=$13951$13967.length)),((t0$13972===2)&&(($13951$13967[0]==="symbol")&&($13951$13967[1]==="...")))))){(inserted$13938=true);return __lt____lt____colon__$11839(["multi"].concat(body$13900),_b$13899);}else{(x$13992=$13951$13967);if((x$13992.fromop&&(($13951$13967 instanceof Array)&&(((t0$13972=$13951$13967.length)),((t0$13972===3)&&(($13951$13967[0]==="send")&&((f$13993=$13951$13967[1]),(((t1$13973=$13951$13967[2])),((t1$13973 instanceof Array)&&(((t2$13974=t1$13973.length)),((t2$13974===3)&&(t1$13973[0]==="data")))))))))))){(a$13994=t1$13973[1]);(b$13995=t1$13973[2]);return ["send",this(f$13993),__lt____lt____colon__$11839(["data",this(a$13994),this(b$13995)],__plus____plus____colon__$11840(a$13994,b$13995))];}else{if((($13951$13967 instanceof Array)&&(((t0$13972=$13951$13967.length)),((t0$13972>=1)&&($13951$13967[0]==="data"))))){(args$14016=Array.prototype.slice.call($13951$13967,1));(tr$14027=this);(res$14028=["data"]);(temp$14042=args$14016);($length$14048=temp$14042.length);($index$14054=0);$14029:for(;($index$14054<$length$14048);($index$14054++)){var other$14091;var t0$14068;var t1$14069;var m$14063;(m$14063=temp$14042[$index$14054]);(t0$14068=m$14063);if(((t0$14068 instanceof Array)&&(((t1$14069=t0$14068.length)),((t1$14069===2)&&((t0$14068[0]==="symbol")&&(t0$14068[1]==="...")))))){(inserted$13938=true);(res$14028=res$14028.concat(body$13900));}else{(other$14091=m$14063);res$14028.push(__lt____lt____colon__$11839(tr$14027(other$14091),other$14091));}}return __lt____lt____colon__$11839(res$14028,expr$13956);}else{$14564($13951$13967);}}}}));if((!inserted$13938)){($14096$14106=target$13898);if((($14096$14106 instanceof Array)&&(((t0$14111=$14096$14106.length)),((t0$14111===1)&&($14096$14106[0]==="void"))))){return __lt____lt____colon__$11839(["data"].concat(body$13900),sumloc$13683);}else{$14096$14106;if(target$13898.fromop){return __lt____lt____colon__$11839(["send",target$13898,__lt____lt____colon__$11839(["data"].concat(body$13900),_b$13899)],sumloc$13683);}else{if((($14102$14115=($14096$14106 instanceof Array))&&(((t0$14111=$14096$14106.length)),((t0$14111===3)&&(($14096$14106[0]==="send")&&((f$14132=$14096$14106[1]),(((t1$14112=$14096$14106[2])),((orig_args$14133=t1$14112),((t1$14112 instanceof Array)&&(((t2$14113=t1$14112.length)),((t2$14113>=1)&&(t1$14112[0]==="data")))))))))))){(args$14134=Array.prototype.slice.call(t1$14112,1));return __lt____lt____colon__$11839(["send",f$14132,__lt____lt____colon__$11839(["data"].concat(args$14134).concat(body$13900),__plus____plus____colon__$11840(orig_args$14133,_b$13899))],sumloc$13683);}else{if(($14102$14115&&((t0$14111>=1)&&($14096$14106[0]==="data")))){(args$14156=Array.prototype.slice.call($14096$14106,1));return __lt____lt____colon__$11839(target$13898.concat(body$13900),sumloc$13683);}else{(other$14161=$14096$14106);return __lt____lt____colon__$11839(["send",target$13898,__lt____lt____colon__$11839(["data"].concat(body$13900),_b$13899)],sumloc$13683);}}}}}else{return __lt____lt____colon__$11839(result$13939,sumloc$13683);}}else{if(($13678$13843&&(((bridge$13664$13839=$13659$13825[0])),((((bridge$13664$13839 instanceof Array)&&(((t0$14173=bridge$13664$13839.length)),((t0$14173>=2)&&((bridge$13664$13839[0]==="[")&&((commas$14165=Array.prototype.slice.call(bridge$13664$13839,1,-1)),(bridge$13664$13839[(t0$14173-1)]==="]"))))))||((commas$14165=bridge$13664$13839),true))&&($13659$13825[1],commas$14165.every(function(x$14184){return $14958(x$14184,",");})))))){if((op$13685==="[")){(args$13651=args$13651.slice(1,-1));}(args$13651=(((f$14200=function($14204$14207){var other$14236;var t0$14223;var $14209$14218;var ph$14212;(ph$14212=$14204$14207);($14209$14218=ph$14212);if((($14209$14218 instanceof Array)&&(((t0$14223=$14209$14218.length)),((t0$14223===1)&&($14209$14218[0]==="void"))))){return false;}else{(other$14236=$14209$14218);return true;}})),args$13651.filter(f$14200)));(result$14190=((($14242$14250=args$13651)),function(){if((($14246$14257=($14242$14250 instanceof Array))&&(((t0$14255=$14242$14250.length)),(t0$14255===0)))){return ["value",(void 0)];}else{if(($14246$14257&&(t0$14255===1))){(x$14270=$14242$14250[0]);if(((!isNaN(sumloc$13683.start))&&(!isNaN(sumloc$13683.end)))){(x$14270["location"]=sumloc$13683);}return x$14270;}else{(other$14281=$14242$14250);return ["multi"].concat(args$13651);}}}()));return __lt____lt____colon__$11839(result$14190,sumloc$13683);}else{if(($13678$13843&&(((t1$13831=$13659$13825[0])),(($13680$13845=(t1$13831 instanceof Array))&&(((t2$13832=t1$13831.length)),((t2$13832>=2)&&((t1$13831[0]==="{")&&((commas$14286=Array.prototype.slice.call(t1$13831,1,-1)),((t1$13831[(t2$13832-1)]==="}")&&($13659$13825[1],commas$14286.every(function(x$14302){return $14958(x$14302,",");}))))))))))){(f$14307=function($14311$14314){var other$14343;var t0$14330;var $14316$14325;var ph$14319;(ph$14319=$14311$14314);($14316$14325=ph$14319);if((($14316$14325 instanceof Array)&&(((t0$14330=$14316$14325.length)),((t0$14330===1)&&($14316$14325[0]==="void"))))){return false;}else{(other$14343=$14316$14325);return true;}});return __lt____lt____colon__$11839(["data"].concat(args$13651.slice(1,-1).filter(f$14307)),sumloc$13683);}else{if(($13680$13845&&(($13682$13847=(t2$13832===1))&&(t1$13831[0]==="WHITE")))){$13659$13825[1];return __lt____lt____colon__$11839(["send"].concat(args$13651),sumloc$13683);}else{if($13682$13847){t1$13831[0];($13668$14352=$13659$13825[1]);(t0$14356=$13668$14352);if((($13672$14364=(t0$14356 instanceof Array))&&(((t1$14357=t0$14356.length)),(($13674$14366=(t1$14357===2))&&(((t2$14358=t0$14356[0])),((t2$14358 instanceof Array)&&(((t3$14359=t2$14358.length)),((t3$14359===1)&&((t2$14358[0]==="void")&&(((t4$14360=t0$14356[1])),((t4$14360 instanceof Array)&&(((t5$14361=t4$14360.length)),((t5$14361===1)&&(t4$14360[0]==="void")))))))))))))){return __lt____lt____colon__$11839(["symbol",op$13685],orig_ops$13684[0]);}else{if($13674$14366){(a$14402=t0$14356[0]);(b$14403=t0$14356[1]);(oloc$14412=orig_ops$13684[0].location);(abloc$14413=__plus____plus____colon__$11840(a$14402,b$14403));(oabloc$14414=__plus____plus____colon__$11840(orig_ops$13684[0],abloc$14413));(rval$14415=__lt____lt____colon__$11839(["send",__lt____lt____colon__$11839(["symbol",op$13685],oloc$14412),__lt____lt____colon__$11839(["data",a$14402,b$14403],abloc$14413)],__plus____plus____colon__$11840(oloc$14412,abloc$14413)));(rval$14415["fromop"]=true);return rval$14415;}else{$14564($13668$14352,"/home/olivier/git/earl-grey/src/parse.eg",17285,17290);}}}else{if($13678$13843){(op_strings$14435=$13659$13825[0]);(args$14436=$13659$13825[1]);(tokens$14442=$15164((((acc$14451=[])),(((temp$14457=$14816(orig_ops$13684))),((($length$14463=temp$14457.length)),((($index$14469=0)),function(){$14446:for(;($index$14469<$length$14463);($index$14469++)){var i$14488;var op$14489;var t0$14483;var t1$14484;var m$14478;(m$14478=temp$14457[$index$14469]);(t0$14483=m$14478);if(((t0$14483 instanceof Array)&&(((t1$14484=t0$14483.length)),(t1$14484===2)))){(i$14488=t0$14483[0]);(op$14489=t0$14483[1]);acc$14451.push([("token"+String((i$14488+1))),op$14489]);}else{$14564(m$14478,"/home/olivier/git/earl-grey/src/parse.eg",17801,17900);}}}()))),acc$14451)));(msg$14443="Mismatched/missing brackets/tokens");throw $14583(["syntax","mismatch"]).create(msg$14443,tokens$14442);}else{$14564($13659$13825);}}}}}}}}}else{(other$14512=$13592$13614);throw $14583(["should_never_happen"]).create("unknown node (B)",({"node":token$13603}));}}}}}});(parse$11855=function(tokens$14519){var next$14523;(next$14523=function(){return tokens$14519.shift();});return oparse$11853(next$14523,eg_order$11847.compare.bind(eg_order$11847),finalize$11854);});(exports["parse"]=parse$11855);(exports["oparse"]=oparse$11853);(exports["finalize"]=finalize$11854);(exports["DONE"]=DONE$11848);(exports["NONE"]=NONE$11849);(exports["LEFT"]=LEFT$11850);(exports["RIGHT"]=RIGHT$11851);(exports["BOTH"]=BOTH$11852);
