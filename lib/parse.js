var $13073=(function(type$13076){var f$13080;(f$13080=type$13076["::check"]);if((f$13080===(void 0))){return (function(value$13086){return (value$13086 instanceof type$13076);});}else{return (function(value$13090){return f$13080.call(type$13076,value$13090);});}});
var $13092=(function(dest$13095,values$13096){var k$13101;(k$13101=null);$13099:for(k$13101 in values$13096){if(values$13096.hasOwnProperty(k$13101)){(dest$13095[k$13101]=values$13096[k$13101]);}}return dest$13095;});
var $13109=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $13110=(function($13112$13115){var ph$13121;(ph$13121=$13112$13115);var $13117$13127;($13117$13127=ph$13121);var bridge$13119$13132;var x$13136;(bridge$13119$13132=$13117$13127);if((((typeof(bridge$13119$13132)==="string")&&((x$13136=bridge$13119$13132),true))||((typeof(bridge$13119$13132)==="number")&&((x$13136=bridge$13119$13132),true)))){return ["value",x$13136];}else{var other$13147;(other$13147=$13117$13127);return other$13147["::serialize_ast"]();}});
var $13149=(function(obj$13152){var results$13157;(results$13157=[]);var k$13162;(k$13162=null);$13156:for(k$13162 in obj$13152){if(Object.prototype.hasOwnProperty.call(obj$13152,k$13162)){results$13157.push([k$13162,$13109(obj$13152,k$13162)]);}}return results$13157;});
var $13418=(function(arr$13421){var results$13427;var l$13428;(results$13427=[]);(l$13428=arr$13421.length);var i$13437;(i$13437=0);$13426:for(;(i$13437<l$13428);(i$13437++)){results$13427.push([i$13437,$13109(arr$13421,i$13437)]);}return results$13427;});
var $13185=(function(){var $13186$13192;($13186$13192=(function(tags$13197){var it$0$13200;(it$0$13200=(function(){if((!$13073($13186$13192)(this))){return Object.create($13186$13192.prototype);}else{return this;}})());(it$0$13200["tags"]=tags$13197);return it$0$13200;}));($13186$13192.prototype["create"]=(function(){var it$0$13220;var self$13221;(it$0$13220=this);(self$13221=this);var $13218$13230;($13218$13230=arguments);var t0$13235;var message$13239;var args$13240;(t0$13235=$13218$13230.length);if((t0$13235>=0)){(message$13239=(function(){if((0>=t0$13235)){return "";}else{return $13218$13230[0];}})());(args$13240=Array.prototype.slice.call($13218$13230,1));var e$13253;(e$13253=Error(message$13239));(e$13253["::tags"]=it$0$13220.tags);(e$13253["args"]=args$13240);var temp$13269;(temp$13269=$13418(args$13240));var $length$13275;($length$13275=temp$13269.length);var $index$13281;($index$13281=0);$13254:for(;($index$13281<$length$13275);($index$13281++)){var m$13290;(m$13290=temp$13269[$index$13281]);var t0$13295;var t1$13296;var i$13300;var arg$13301;(t0$13295=m$13290);if(((t0$13295 instanceof Array)&&(((t1$13296=t0$13295.length)),(t1$13296===2)))){(i$13300=t0$13295[0]);(arg$13301=t0$13295[1]);(e$13253[i$13300]=arg$13301);}else{$13166(m$13290);}}(e$13253["length"]=args$13240.length);(e$13253["name"]=["E"].concat(it$0$13220.tags).join("."));return e$13253;}else{$13166($13218$13230);}}));($13186$13192.prototype["::check"]=(function(e$13331){var it$0$13335;var self$13336;(it$0$13335=this);(self$13336=this);var tags$13346;if(((!e$13331)||(!$13073(Error)(e$13331)))){return false;}(tags$13346=(e$13331["::tags"]||[]));var temp$13357;(temp$13357=it$0$13335.tags);var $length$13363;($length$13363=temp$13357.length);var $index$13369;($index$13369=0);$13347:for(;($index$13369<$length$13363);($index$13369++)){var m$13378;(m$13378=temp$13357[$index$13369]);var tag$13386;(tag$13386=m$13378);if((tags$13346.indexOf(tag$13386)===-1)){return false;}else{false;}}return true;}));($13186$13192.prototype["::deconstruct"]=(function(e$13395){var it$0$13399;var self$13400;(it$0$13399=this);(self$13400=this);return e$13395.args;}));$13092($13186$13192,$13092((function(){var accum$13411;(accum$13411=({}));(accum$13411["::name"]="$13186");return accum$13411;})(),(function(){var accum$13415;(accum$13415=({}));(accum$13415["::egclass"]=true);return accum$13415;})()));return $13186$13192;})();
var $13166=(function(value$13169,url$13170,start$13171,end$13172){var err$13176;(err$13176=$13185(["match"]).create("Could not find a match for value",({"value":value$13169})));if(url$13170){(err$13176["location"]=["location",url$13170,start$13171,end$13172]);}throw err$13176;});
var send$12718;var __array_methods$12719;var __re_methods$12720;(send$12718=(function(obj$12733,$12730$12734){var ph$12740;var msg$12741;var t0$12743;(t0$12743=$12730$12734);(msg$12741=t0$12743);(ph$12740=t0$12743);var $12736$12752;($12736$12752=ph$12740);var bridge$12738$12757;(bridge$12738$12757=$12736$12752);if(((typeof(bridge$12738$12757)==="string")||(typeof(bridge$12738$12757)==="number"))){return obj$12733[msg$12741];}else{var other$12769;(other$12769=$12736$12752);return obj$12733["::send"](msg$12741);}}));(Array[":::project"]=(function($12775$12778){var ph$12783;var value$12784;var t0$12786;(t0$12786=$12775$12778);(value$12784=t0$12786);(ph$12783=t0$12786);var $12780$12795;($12780$12795=ph$12783);if($13073(Array)($12780$12795)){return [true,value$12784];}else{$12780$12795;return [true,[value$12784]];}}));(__array_methods$12719=$13092((function(){var accum$12816;(accum$12816=({}));(accum$12816["::check"]=(function(value$12821){if((value$12821 instanceof Array)){var i$12827;(i$12827=0);$12824:for(;(i$12827<this.length);(i$12827++)){if(($13109(this,i$12827)!==$13109(value$12821,i$12827))){return false;}}return true;}else{return false;}}));return accum$12816;})(),$13092((function(){var accum$12836;(accum$12836=({}));(accum$12836["::clone"]=(function(){return $13092(this.slice(0),this);}));return accum$12836;})(),$13092((function(){var accum$12843;(accum$12843=({}));(accum$12843[":::project"]=(function(value$12848){if((value$12848 instanceof Array)){var i$12854;(i$12854=0);$12851:for(;(i$12854<this.length);(i$12854++)){if(($13109(this,i$12854)!==$13109(value$12848,i$12854))){return [true,this.concat([value$12848])];}}return [true,value$12848];}else{return [true,this.concat([value$12848])];}}));return accum$12843;})(),(function(){var accum$12863;(accum$12863=({}));(accum$12863["::serialize_ast"]=(function(){return ["array"].concat(this.map($13110));}));return accum$12863;})()))));var temp$12873;(temp$12873=$13149(__array_methods$12719));var $length$12879;($length$12879=temp$12873.length);var $index$12885;($index$12885=0);$12721:for(;($index$12885<$length$12879);($index$12885++)){var m$12894;(m$12894=temp$12873[$index$12885]);var t0$12899;var t1$12900;var k$12904;var v$12905;(t0$12899=m$12894);if(((t0$12899 instanceof Array)&&(((t1$12900=t0$12899.length)),(t1$12900===2)))){(k$12904=t0$12899[0]);(v$12905=t0$12899[1]);if((!$13109(Array.prototype,k$12904))){Object.defineProperty(Array.prototype,k$12904,({"enumerable":false,"value":v$12905}));}}else{$13166(m$12894);}}(__re_methods$12720=$13092((function(){var accum$12925;(accum$12925=({}));(accum$12925["::check"]=(function($12929$12932){var ph$12937;(ph$12937=$12929$12932);var $12934$12943;($12934$12943=ph$12937);var value$12951;if((typeof($12934$12943)==="string")){(value$12951=$12934$12943);if(value$12951.match(this)){return true;}else{return false;}}else{var other$12956;(other$12956=$12934$12943);return false;}}));return accum$12925;})(),(function(){var accum$12959;(accum$12959=({}));(accum$12959[":::project"]=(function($12963$12966){var ph$12971;(ph$12971=$12963$12966);var $12968$12977;($12968$12977=ph$12971);var value$12985;if((typeof($12968$12977)==="string")){(value$12985=$12968$12977);var $12988$12993;($12988$12993=value$12985.match(this));var m$13001;if(($12988$12993===null)){(m$13001=$12988$12993);return [false,null];}else{var m$13006;(m$13006=$12988$12993);return [true,m$13006];}}else{var other$13010;(other$13010=$12968$12977);return [false,null];}}));return accum$12959;})()));var temp$13016;(temp$13016=$13149(__re_methods$12720));var $length$13022;($length$13022=temp$13016.length);var $index$13028;($index$13028=0);$12724:for(;($index$13028<$length$13022);($index$13028++)){var m$13037;(m$13037=temp$13016[$index$13028]);var t0$13042;var t1$13043;var k$13047;var v$13048;(t0$13042=m$13037);if(((t0$13042 instanceof Array)&&(((t1$13043=t0$13042.length)),(t1$13043===2)))){(k$13047=t0$13042[0]);(v$13048=t0$13042[1]);if((!$13109(RegExp.prototype,k$13047))){Object.defineProperty(RegExp.prototype,k$13047,({"enumerable":false,"value":v$13048}));}}else{$13166(m$13037);}}if((!Function.prototype["::send"])){Object.defineProperty(Function.prototype,"::send",$13092(({"enumerable":false}),(function(){var accum$13066;(accum$13066=({}));(accum$13066["value"]=(function(args$13071){return this.apply(this,args$13071);}));return accum$13066;})()));}
var $16225=(function(arrays$16228){var results$16232;(results$16232=[]);var temp$16242;(temp$16242=arrays$16228);var $length$16248;($length$16248=temp$16242.length);var $index$16254;($index$16254=0);$16233:for(;($index$16254<$length$16248);($index$16254++)){var m$16263;(m$16263=temp$16242[$index$16254]);var a$16271;(a$16271=m$16263);(results$16232=results$16232.concat(a$16271));}return results$16232;});
var $16277=(function(type$16280){return (function(value$16284){var f$16288;(f$16288=type$16280[":::project"]);if((f$16288===(void 0))){(f$16288=type$16280["::project"]);if((f$16288===(void 0))){return [true,type$16280(value$16284)];}else{var rval$16301;(rval$16301=false);try{(rval$16301=[true,f$16288(value$16284)]);}catch(excv$16312){var e$16318;(e$16318=excv$16312);(rval$16301=[false,null]);}return rval$16301;}}else{return f$16288.call(type$16280,value$16284);}});});
var $16496=Object.keys;
var $16497=(function($16499$16502,key$16503){var ph$16511;(ph$16511=$16499$16502);var $16505$16517;($16505$16517=ph$16511);var bridge$16507$16522;(bridge$16507$16522=$16505$16517);if(((bridge$16507$16522===null)||(bridge$16507$16522===(void 0)))){return false;}else{var x$16534;if((typeof($16505$16517)==="string")){(x$16534=$16505$16517);return (key$16503 in String.prototype);}else{var x$16539;if((typeof($16505$16517)==="number")){(x$16539=$16505$16517);return (key$16503 in Number.prototype);}else{var x$16544;(x$16544=$16505$16517);return (key$16503 in x$16544);}}}});
var $16324=(function($16326$16329,b$16330){var ph$16344;var a$16345;var t0$16347;(t0$16347=$16326$16329);(a$16345=t0$16347);(ph$16344=t0$16347);var $16332$16356;($16332$16356=ph$16344);var bridge$16335$16361;if(($16332$16356===b$16330)){return true;}else{(bridge$16335$16361=$16332$16356);if(((function(){var bridge$16336$16375;(bridge$16336$16375=bridge$16335$16361);return ((function(){var bridge$16337$16382;(bridge$16337$16382=bridge$16336$16375);return ((function(){var bridge$16338$16389;(bridge$16338$16389=bridge$16337$16382);return ((function(){var bridge$16339$16396;(bridge$16339$16396=bridge$16338$16389);return ((typeof(bridge$16339$16396)==="number")||(typeof(bridge$16339$16396)==="string"));})()||(bridge$16338$16389===null));})()||(bridge$16337$16382===(void 0)));})()||(bridge$16336$16375===true));})()||(bridge$16335$16361===false))){return false;}else{if($13073(Array)($16332$16356)){if(((!$13073(Array)(b$16330))||(a$16345.length!==b$16330.length))){return false;}var i$16412;(i$16412=0);$16408:for(;(i$16412<a$16345.length);(i$16412++)){if((!$16324(a$16345[i$16412],b$16330[i$16412]))){return false;}}return true;}else{$16332$16356;if((((Object.getPrototypeOf(a$16345)===Object.prototype)&&$13073(Object)(b$16330))&&(Object.getPrototypeOf(b$16330)===Object.prototype))){var ka$16426;(ka$16426=$16496(a$16345));if((!$16324(ka$16426.sort(),$16496(b$16330).sort()))){return false;}var temp$16437;(temp$16437=ka$16426);var $length$16443;($length$16443=temp$16437.length);var $index$16449;($index$16449=0);$16427:for(;($index$16449<$length$16443);($index$16449++)){var m$16458;(m$16458=temp$16437[$index$16449]);var k$16466;(k$16466=m$16458);if((!$16324(a$16345[k$16466],b$16330[k$16466]))){return false;}}return true;}else{if($16497($16332$16356,"::serialize")){$16332$16356["::serialize"];var $16473$16478;($16473$16478=b$16330);if($16497($16473$16478,"::serialize")){$16473$16478["::serialize"];return $16324(a$16345["::serialize"](),b$16330["::serialize"]());}else{var otherwise$16490;(otherwise$16490=$16473$16478);return false;}}else{var otherwise$16494;(otherwise$16494=$16332$16356);return false;}}}}}});var accum$14040;var accum$14044;var accum$14290;var accum$14806;var accum$14810;var accum$15036;var accum$15040;var accum$15044;var accum$15048;var accum$15052;var accum$15056;var accum$15068;var accum$15072;var accum$15076;var accum$15080;var accum$15084;var eg_groups$14821;var eg_prio$14822;var $13446$13471;var __lt____lt____colon__$13472;var __plus____plus____colon__$13473;var $13447$13474;var Body$13475;var transform$13476;var OperatorGroups$13477;var parse_op_description$13478;var eg_groups$13479;var SimplePriority$13480;var MAX$13481;var eg_order$13482;var DONE$13483;var NONE$13484;var LEFT$13485;var RIGHT$13486;var BOTH$13487;var oparse$13488;var finalize$13489;var parse$13490;($13446$13471=require("./location"));(__lt____lt____colon__$13472=$13446$13471["<<:"]);(__plus____plus____colon__$13473=$13446$13471["++:"]);($13447$13474=require("./util"));(Body$13475=$13447$13474.Body);(transform$13476=(function(expr$13510,cb$13511){var rval$13531;var tr$13516;var result$13517;(tr$13516=(function(x$13522){return transform$13476(x$13522,cb$13511);}));(result$13517=(((rval$13531=false)),((function(){try{(rval$13531=cb$13511.call(tr$13516,expr$13510));}catch(excv$13542){var name$13594;var args$13595;var v$13589;var s$13584;var $13558$13570;var $13559$13571;var $13560$13572;var t0$13568;var $13553$13563;var e$13548;(e$13548=excv$13542);(rval$13531=((($13553$13563=expr$13510)),(function(){if((($13558$13570=($13553$13563 instanceof Array))&&(((t0$13568=$13553$13563.length)),((t0$13568===1)&&($13553$13563[0]==="void"))))){return ["void"];}else{if(($13558$13570&&(($13560$13572=(t0$13568===2))&&($13553$13563[0]==="symbol")))){(s$13584=$13553$13563[1]);return expr$13510;}else{if(($13560$13572&&($13553$13563[0]==="value"))){(v$13589=$13553$13563[1]);return expr$13510;}else{if(($13558$13570&&(t0$13568>=1))){(name$13594=$13553$13563[0]);(args$13595=Array.prototype.slice.call($13553$13563,1));return [name$13594].concat(args$13595.map(tr$13516));}else{$13166($13553$13563);}}}}})()));}})(),rval$13531)));return __lt____lt____colon__$13472(result$13517,expr$13510);}));(OperatorGroups$13477=(function(groups$13607){var $index$13654;var $length$13648;var temp$13642;var acc$13636;var $index$13714;var $length$13708;var temp$13702;var acc$13696;var $index$13819;var $length$13813;var temp$13807;var acc$13801;var itg$13622;var it$0$13610;(it$0$13610=(function(){if((!$13073(OperatorGroups$13477)(this))){return Object.create(OperatorGroups$13477.prototype);}else{return this;}})());(itg$13622=$13149(groups$13607));(it$0$13610["gnames"]=(((acc$13636=[])),(((temp$13642=itg$13622)),((($length$13648=temp$13642.length)),((($index$13654=0)),(function(){$13631:for(;($index$13654<$length$13648);($index$13654++)){var name$13673;var t0$13668;var t1$13669;var m$13663;(m$13663=temp$13642[$index$13654]);(t0$13668=m$13663);if(((t0$13668 instanceof Array)&&(((t1$13669=t0$13668.length)),(t1$13669===2)))){(name$13673=t0$13668[0]);t0$13668[1];acc$13636.push(name$13673);}else{$13166(m$13663,"/home/olivier/git/earl-grey/src/parse.eg",565,591);}}})()))),acc$13636));(it$0$13610["groups"]=(((acc$13696=[])),(((temp$13702=itg$13622)),((($length$13708=temp$13702.length)),((($index$13714=0)),(function(){$13691:for(;($index$13714<$length$13708);($index$13714++)){var $index$13770;var $length$13764;var temp$13758;var acc$13752;var name$13733;var descrs$13734;var t0$13728;var t1$13729;var m$13723;(m$13723=temp$13702[$index$13714]);(t0$13728=m$13723);if(((t0$13728 instanceof Array)&&(((t1$13729=t0$13728.length)),(t1$13729===2)))){(name$13733=t0$13728[0]);(descrs$13734=t0$13728[1]);acc$13696.push($16225((((acc$13752=[])),(((temp$13758=descrs$13734)),((($length$13764=temp$13758.length)),((($index$13770=0)),(function(){$13747:for(;($index$13770<$length$13764);($index$13770++)){var descr$13787;var m$13779;(m$13779=temp$13758[$index$13770]);(descr$13787=m$13779);acc$13752.push(parse_op_description$13478(descr$13787));}})()))),acc$13752)));}else{$13166(m$13723,"/home/olivier/git/earl-grey/src/parse.eg",608,705);}}})()))),acc$13696));(it$0$13610["fns"]=[]);(it$0$13610["to_gid"]=({"IFX":({"wide":({}),"short":({})}),"PFX":({"wide":({}),"short":({})}),"SFX":({"wide":({}),"short":({})})}));(acc$13801=[]);(temp$13807=$13418(it$0$13610.groups));($length$13813=temp$13807.length);($index$13819=0);$13623:for(;($index$13819<$length$13813);($index$13819++)){var $index$13876;var $length$13870;var temp$13864;var acc$13858;var i$13838;var group$13839;var t0$13833;var t1$13834;var m$13828;(m$13828=temp$13807[$index$13819]);(t0$13833=m$13828);if(((t0$13833 instanceof Array)&&(((t1$13834=t0$13833.length)),(t1$13834===2)))){(i$13838=t0$13833[0]);(group$13839=t0$13833[1]);acc$13801.push((((acc$13858=[])),(((temp$13864=group$13839)),((($length$13870=temp$13864.length)),((($index$13876=0)),(function(){$13852:for(;($index$13876<$length$13870);($index$13876++)){var f$13916;var fixity$13895;var width$13896;var name$13897;var t0$13890;var t1$13891;var m$13885;(m$13885=temp$13864[$index$13876]);(t0$13890=m$13885);if(((t0$13890 instanceof Array)&&(((t1$13891=t0$13890.length)),(t1$13891===3)))){(fixity$13895=t0$13890[0]);(width$13896=t0$13890[1]);(name$13897=t0$13890[2]);acc$13858.push((($13109($13109(it$0$13610.to_gid,fixity$13895),width$13896)[name$13897]=i$13838)));}else{(f$13916=m$13885);acc$13858.push(it$0$13610.fns.push([f$13916,i$13838]));}}})()))),acc$13858));}else{$13166(m$13828,"/home/olivier/git/earl-grey/src/parse.eg",870,1071);}}acc$13801;return it$0$13610;}));(OperatorGroups$13477.prototype["get_name"]=(function(o$13926){var it$0$13930;var self$13931;(it$0$13930=this);(self$13931=this);return $13109(it$0$13930.gnames,it$0$13930.get(o$13926));}));(OperatorGroups$13477.prototype["get"]=(function($13942$13945){var t0$13963;var t1$13964;var $index$14002;var $length$13996;var temp$13990;var attempt$13979;var o$13958;var fixity$13959;var width$13960;var name$13961;var it$0$13949;var self$13950;(it$0$13949=this);(self$13950=this);(t0$13963=$13942$13945);(o$13958=t0$13963);if(((t0$13963 instanceof Array)&&(((t1$13964=t0$13963.length)),(t1$13964===3)))){(fixity$13959=t0$13963[0]);(width$13960=t0$13963[1]);(name$13961=t0$13963[2]);}else{$13166($13942$13945);}(attempt$13979=$13109($13109($13109(it$0$13949.to_gid,fixity$13959),width$13960),name$13961));if((attempt$13979===(void 0))){(temp$13990=it$0$13949.fns);($length$13996=temp$13990.length);($index$14002=0);$13984:for(;($index$14002<$length$13996);($index$14002++)){var f$14021;var i$14022;var t0$14016;var t1$14017;var m$14011;(m$14011=temp$13990[$index$14002]);(t0$14016=m$14011);if(((t0$14016 instanceof Array)&&(((t1$14017=t0$14016.length)),(t1$14017===2)))){(f$14021=t0$14016[0]);(i$14022=t0$14016[1]);if(f$14021(o$13958)){return i$14022;}}else{$13166(m$14011,"/home/olivier/git/earl-grey/src/parse.eg",1250,1333);}}throw $13185(["syntax","unknown_operator"]).create(("Unknown operator: "+[true,String(o$13958)][1]),({"operator":o$13958}));}else{return attempt$13979;}}));$13092(OperatorGroups$13477,$13092(((accum$14040=({})),((accum$14040["::name"]="OperatorGroups"),accum$14040)),((accum$14044=({})),((accum$14044["::egclass"]=true),accum$14044))));OperatorGroups$13477;(parse_op_description$13478=(function($14050$14053){var otherwise$14143;var $14123$14132;var $14119$14126;var otherwise$14177;var $14157$14166;var $14153$14160;var t0$14113;var t1$14114;var fixity$14110;var short$14111;var other$14181;var x$14087;var w1$14088;var op$14089;var w2$14090;var y$14091;var f$14082;var rx$14076;var t0$14070;var t1$14071;var t2$14072;var $14055$14065;var ph$14059;(ph$14059=$14050$14053);($14055$14065=ph$14059);(rx$14076=RegExp("(?:^((?:X?))((?:[ _]?))((?:[^ _Y]*))((?:[ _]?))((?:Y?))$)",""));if($13073(Function)($14055$14065)){(f$14082=$14055$14065);return f$14082;}else{(t0$14070=$16277(rx$14076)($14055$14065));if((t0$14070[0]&&(((t1$14071=t0$14070[1])),(((t2$14072=t1$14071.length)),(t2$14072===6))))){t1$14071[0];(x$14087=t1$14071[1]);(w1$14088=t1$14071[2]);(op$14089=t1$14071[3]);(w2$14090=t1$14071[4]);(y$14091=t1$14071[5]);(t0$14113=((($14119$14126=null)),($14119$14126,(function(){if((x$14087==="")){return ["PFX",(w2$14090==="")];}else{if((y$14091==="")){return ["SFX",(w1$14088==="")];}else{(otherwise$14143=$14119$14126);return ["IFX",((w1$14088==="")||(w2$14090===""))];}}})())));if(((t0$14113 instanceof Array)&&(((t1$14114=t0$14113.length)),(t1$14114===2)))){(fixity$14110=t0$14113[0]);(short$14111=t0$14113[1]);}else{$13166(((($14153$14160=null)),($14153$14160,(function(){if((x$14087==="")){return ["PFX",(w2$14090==="")];}else{if((y$14091==="")){return ["SFX",(w1$14088==="")];}else{(otherwise$14177=$14153$14160);return ["IFX",((w1$14088==="")||(w2$14090===""))];}}})())),"/home/olivier/git/earl-grey/src/parse.eg",1714,1922);}if(((w1$14088==="_")||(w2$14090==="_"))){return [[fixity$14110,"short",op$14089],[fixity$14110,"wide",op$14089]];}else{return [[fixity$14110,(function(){if(short$14111){return "short";}else{return "wide";}})(),op$14089]];}}else{(other$14181=$14055$14065);throw $13185(["invalid_op_description"]).create(("Invalid operator description: "+other$14181));}}}));(eg_groups$13479=OperatorGroups$13477($13092(({"tokenpfx":[".Y","#Y","@Y"],"sjuxt":["XWHITEY"],"ifx":[(function($14188$14191){var t0$14207;var $14193$14202;var ph$14196;(ph$14196=$14188$14191);($14193$14202=ph$14196);if((($14193$14202 instanceof Array)&&(((t0$14207=$14193$14202.length)),((t0$14207===3)&&(($14193$14202[0]==="IFX")&&($14193$14202[1]==="short")))))){$14193$14202[2];return true;}else{$14193$14202;return false;}})],"pfx":[(function($14222$14225){var t0$14241;var $14227$14236;var ph$14230;(ph$14230=$14222$14225);($14227$14236=ph$14230);if((($14227$14236 instanceof Array)&&(((t0$14241=$14227$14236.length)),((t0$14241===3)&&(($14227$14236[0]==="PFX")&&($14227$14236[1]==="short")))))){$14227$14236[2];return true;}else{$14227$14236;return false;}})],"sfx":[(function($14256$14259){var t0$14275;var $14261$14270;var ph$14264;(ph$14264=$14256$14259);($14261$14270=ph$14264);if((($14261$14270 instanceof Array)&&(((t0$14275=$14261$14270.length)),((t0$14275===3)&&(($14261$14270[0]==="SFX")&&($14261$14270[1]==="short")))))){$14261$14270[2];return true;}else{$14261$14270;return false;}})],"pow":["X ** Y"],"mul":["X * Y","X / Y","X // Y","X mod Y","+ Y","- Y"],"add":["X + Y","X - Y"],"cmp":["X < Y","X <= Y","X == Y","X > Y","X >= Y","X != Y"],"cat":["X ++ Y"],"union":["X & Y"],"range":["X .. Y","X ..",".. Y"],"in":["X in Y"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"and":"X and Y","or":"X or Y","not":"not Y"}),$13092(((accum$14290=({})),((accum$14290["with"]=["X with Y"]),accum$14290)),({"decl":["X -> Y","X = Y","X := Y","X => Y","X where Y","X when Y","X each Y"],"brack":["X_,_Y","(_Y","[_Y","{_Y","X_)","X_]","X_}"],"custom":[(function(x$14295){return true;})]})))));(SimplePriority$13480=(function(groups$14302,priorities$14303){var $index$14353;var $length$14347;var temp$14341;var acc$14335;var _i$14317;var tracks$14318;var it$0$14306;(it$0$14306=(function(){if((!$13073(SimplePriority$13480)(this))){return Object.create(SimplePriority$13480.prototype);}else{return this;}})());(it$0$14306["groups"]=groups$14302);(_i$14317=0);(tracks$14318=({}));(it$0$14306["prio"]=(((acc$14335=[])),(((temp$14341=groups$14302.gnames)),((($length$14347=temp$14341.length)),((($index$14353=0)),(function(){$14330:for(;($index$14353<$length$14347);($index$14353++)){var t0$14383;var t1$14384;var t2$14385;var t3$14386;var t4$14387;var t5$14388;var t6$14389;var t7$14390;var $index$14465;var $length$14459;var temp$14453;var acc$14447;var $index$14587;var $length$14581;var temp$14575;var acc$14569;var t0$14436;var t1$14437;var ltracks$14376;var lp$14377;var rtracks$14378;var rp$14379;var lt$14380;var rt$14381;var name$14370;var m$14362;(m$14362=temp$14341[$index$14353]);(name$14370=m$14362);acc$14335.push(((((t0$14383=$13109(priorities$14303,name$14370))),(function(){if(((t0$14383 instanceof Array)&&(((t1$14384=t0$14383.length)),((t1$14384===2)&&(((t2$14385=t0$14383[0])),((t2$14385 instanceof Array)&&(((t3$14386=t2$14385.length)),((t3$14386===2)&&(((t4$14387=$16277(Array)(t2$14385[0]))),(t4$14387[0]&&((ltracks$14376=t4$14387[1]),((lp$14377=t2$14385[1]),(((t5$14388=t0$14383[1])),((t5$14388 instanceof Array)&&(((t6$14389=t5$14388.length)),((t6$14389===2)&&(((t7$14390=$16277(Array)(t5$14388[0]))),t7$14390[0]))))))))))))))))){(rtracks$14378=t7$14390[1]);(rp$14379=t5$14388[1]);}else{return $13166($13109(priorities$14303,name$14370),"/home/olivier/git/earl-grey/src/parse.eg",3607,3623);}})()),(((t0$14436=(((acc$14447=[])),(((temp$14453=[ltracks$14376,rtracks$14378])),((($length$14459=temp$14453.length)),((($index$14465=0)),(function(){$14442:for(;($index$14465<$length$14459);($index$14465++)){var $index$14511;var $length$14505;var temp$14499;var rval$14487;var tr$14482;var m$14474;(m$14474=temp$14453[$index$14465]);(tr$14482=m$14474);acc$14447.push((((rval$14487=0)),(((temp$14499=tr$14482)),((($length$14505=temp$14499.length)),((($index$14511=0)),(function(){$14488:for(;($index$14511<$length$14505);($index$14511++)){var t$14550;var t$14536;var m$14520;(m$14520=temp$14499[$index$14511]);if((m$14520==="all")){(rval$14487=(Math.pow(2,31)-1));}else{(t$14536=m$14520);if((!$13109(tracks$14318,t$14536))){(rval$14487=(rval$14487|Math.pow(2,_i$14317)));(tracks$14318[t$14536]=(_i$14317++));}else{(t$14550=m$14520);(rval$14487=(rval$14487|Math.pow(2,$13109(tracks$14318,t$14550))));}}}})()))),rval$14487));}})()))),acc$14447))),(function(){if(((t0$14436 instanceof Array)&&(((t1$14437=t0$14436.length)),(t1$14437===2)))){(lt$14380=t0$14436[0]);(rt$14381=t0$14436[1]);}else{return $13166((((acc$14569=[])),(((temp$14575=[ltracks$14376,rtracks$14378])),((($length$14581=temp$14575.length)),((($index$14587=0)),(function(){$14564:for(;($index$14587<$length$14581);($index$14587++)){var $index$14633;var $length$14627;var temp$14621;var rval$14609;var tr$14604;var m$14596;(m$14596=temp$14575[$index$14587]);(tr$14604=m$14596);acc$14569.push((((rval$14609=0)),(((temp$14621=tr$14604)),((($length$14627=temp$14621.length)),((($index$14633=0)),(function(){$14610:for(;($index$14633<$length$14627);($index$14633++)){var t$14672;var t$14658;var m$14642;(m$14642=temp$14621[$index$14633]);if((m$14642==="all")){(rval$14609=(Math.pow(2,31)-1));}else{(t$14658=m$14642);if((!$13109(tracks$14318,t$14658))){(rval$14609=(rval$14609|Math.pow(2,_i$14317)));(tracks$14318[t$14658]=(_i$14317++));}else{(t$14672=m$14642);(rval$14609=(rval$14609|Math.pow(2,$13109(tracks$14318,t$14672))));}}}})()))),rval$14609));}})()))),acc$14569),"/home/olivier/git/earl-grey/src/parse.eg",3644,3964);}})()),[[lt$14380,lp$14377],[rt$14381,rp$14379]]));}})()))),acc$14335));return it$0$14306;}));(SimplePriority$13480.prototype["compare"]=(function(op1$14684,op2$14685){var t0$14722;var t1$14723;var t2$14724;var t3$14725;var t0$14750;var t1$14751;var t2$14752;var t3$14753;var $14708$14784;var $14703$14778;var i1$14709;var i2$14710;var code1$14711;var ord1$14712;var code2$14713;var ord2$14714;var it$0$14689;var self$14690;(it$0$14689=this);(self$14690=this);(i1$14709=it$0$14689.groups.get(op1$14684));(i2$14710=it$0$14689.groups.get(op2$14685));(t0$14722=$13109(it$0$14689.prio,i1$14709));if(((t0$14722 instanceof Array)&&(((t1$14723=t0$14722.length)),((t1$14723===2)&&(t0$14722[0],(((t2$14724=t0$14722[1])),((t2$14724 instanceof Array)&&(((t3$14725=t2$14724.length)),(t3$14725===2))))))))){(code1$14711=t2$14724[0]);(ord1$14712=t2$14724[1]);}else{$13166($13109(it$0$14689.prio,i1$14709),"/home/olivier/git/earl-grey/src/parse.eg",4091,4101);}(t0$14750=$13109(it$0$14689.prio,i2$14710));if(((t0$14750 instanceof Array)&&(((t1$14751=t0$14750.length)),((t1$14751===2)&&(((t2$14752=t0$14750[0])),((t2$14752 instanceof Array)&&(((t3$14753=t2$14752.length)),(t3$14753===2)))))))){(code2$14713=t2$14752[0]);(ord2$14714=t2$14752[1]);t0$14750[1];}else{$13166($13109(it$0$14689.prio,i2$14710),"/home/olivier/git/earl-grey/src/parse.eg",4128,4138);}($14703$14778=null);$14703$14778;if(((code1$14711&code2$14713)===0)){return NONE$13484;}else{if((ord1$14712>ord2$14714)){return LEFT$13485;}else{if((ord1$14712<ord2$14714)){return RIGHT$13486;}else{if((ord1$14712===ord2$14714)){return BOTH$13487;}else{$13166($14703$14778);}}}}}));$13092(SimplePriority$13480,$13092(((accum$14806=({})),((accum$14806["::name"]="SimplePriority"),accum$14806)),((accum$14810=({})),((accum$14810["::egclass"]=true),accum$14810))));SimplePriority$13480;(MAX$13481=(1/0));(eg_order$13482=(((eg_groups$14821=OperatorGroups$13477($13092(({"sh_ifx":[(function($14832$14835){var t0$14851;var $14837$14846;var ph$14840;(ph$14840=$14832$14835);($14837$14846=ph$14840);if((($14837$14846 instanceof Array)&&(((t0$14851=$14837$14846.length)),((t0$14851===3)&&(($14837$14846[0]==="IFX")&&($14837$14846[1]==="short")))))){$14837$14846[2];return true;}else{$14837$14846;return false;}})],"sh_pfx":[(function($14866$14869){var t0$14885;var $14871$14880;var ph$14874;(ph$14874=$14866$14869);($14871$14880=ph$14874);if((($14871$14880 instanceof Array)&&(((t0$14885=$14871$14880.length)),((t0$14885===3)&&(($14871$14880[0]==="PFX")&&($14871$14880[1]==="short")))))){$14871$14880[2];return true;}else{$14871$14880;return false;}})],"sh_sfx":[(function($14900$14903){var t0$14919;var $14905$14914;var ph$14908;(ph$14908=$14900$14903);($14905$14914=ph$14908);if((($14905$14914 instanceof Array)&&(((t0$14919=$14905$14914.length)),((t0$14919===3)&&(($14905$14914[0]==="SFX")&&($14905$14914[1]==="short")))))){$14905$14914[2];return true;}else{$14905$14914;return false;}})],"wi_ifx":[(function($14934$14937){var t0$14953;var $14939$14948;var ph$14942;(ph$14942=$14934$14937);($14939$14948=ph$14942);if((($14939$14948 instanceof Array)&&(((t0$14953=$14939$14948.length)),((t0$14953===3)&&(($14939$14948[0]==="IFX")&&($14939$14948[1]==="wide")))))){$14939$14948[2];return true;}else{$14939$14948;return false;}})],"wi_pfx":[(function($14968$14971){var t0$14987;var $14973$14982;var ph$14976;(ph$14976=$14968$14971);($14973$14982=ph$14976);if((($14973$14982 instanceof Array)&&(((t0$14987=$14973$14982.length)),((t0$14987===3)&&(($14973$14982[0]==="PFX")&&($14973$14982[1]==="wide")))))){$14973$14982[2];return true;}else{$14973$14982;return false;}})],"wi_sfx":[(function($15002$15005){var t0$15021;var $15007$15016;var ph$15010;(ph$15010=$15002$15005);($15007$15016=ph$15010);if((($15007$15016 instanceof Array)&&(((t0$15021=$15007$15016.length)),((t0$15021===3)&&(($15007$15016[0]==="SFX")&&($15007$15016[1]==="wide")))))){$15007$15016[2];return true;}else{$15007$15016;return false;}})],"comma":["X_,_Y"],"obrack":["(_Y","[_Y","{_Y"],"cbrack":["X_)","X_]","X_}"]}),$13092(((accum$15036=({})),((accum$15036["withp"]=["with Y"]),accum$15036)),$13092(((accum$15040=({})),((accum$15040["with"]=["X with Y"]),accum$15040)),$13092(({"lowprio":["X each Y","X each? Y","X where Y","X !! Y","X -> Y","X => Y","X = Y","X := Y","X += Y","X -= Y","X *= Y","X /= Y","X <<= Y","X >>= Y","X >>>= Y","X ++= Y","X ?= Y","X or= Y","X and= Y","X each= Y","X % Y"]}),$13092(((accum$15044=({})),((accum$15044["when"]=["X when Y"]),accum$15044)),$13092(((accum$15048=({})),((accum$15048["or"]=["X or Y"]),accum$15048)),$13092(((accum$15052=({})),((accum$15052["and"]=["X and Y"]),accum$15052)),$13092(((accum$15056=({})),((accum$15056["not"]=["not Y"]),accum$15056)),({"cmp":["X == Y","X != Y","X >= Y","X <= Y","X > Y","X < Y"],"binxor":["X ^. Y"],"binor":["X |. Y"],"binand":["X &. Y"],"shift":["X << Y","X >> Y","X >>> Y"],"add":["X + Y","X - Y"],"mul":["X * Y","X / Y","X // Y","X mod Y"],"exp":["X ** Y"],"sjuxt":["XWHITEY"],"wjuxt":["X WHITE Y"],"colon":["X_:_Y"],"pfx":["._Y","#_Y","@_Y"],"when2":["when Y"],"pp":["<> Y"],"pipe":["X |> Y"]})))))))))))),((eg_prio$14822=$13092(({"comma":[["all",1],["all",1]],"obrack":[["all",MAX$13481],["all",1]],"cbrack":[["all",1],["all",MAX$13481]]}),$13092(((accum$15068=({})),((accum$15068["with"]=[["all",1999],["all",10]]),accum$15068)),$13092(({"lowprio":[["all",11],["all",10]]}),$13092(((accum$15072=({})),((accum$15072["when"]=[["all",100],["all",101]]),accum$15072)),$13092(((accum$15076=({})),((accum$15076["or"]=[["all",110],["all",111]]),accum$15076)),$13092(((accum$15080=({})),((accum$15080["and"]=[["all",120],["all",121]]),accum$15080)),$13092(((accum$15084=({})),((accum$15084["not"]=[["all",MAX$13481],["all",131]]),accum$15084)),({"cmp":[["all",200],["all",201]],"binxor":[["all",400],["all",401]],"binor":[["all",410],["all",411]],"binand":[["all",420],["all",421]],"shift":[["arith",500],["arith",501]],"add":[["arith",550],["arith",551]],"mul":[["arith",560],["arith",561]],"exp":[["arith",571],["arith",570]],"wjuxt":[["wjuxt",13],["all",12]],"colon":[["all",12],["all",10]],"sjuxt":[["all",2000],["all",2001]],"pfx":[["all",MAX$13481],["all",3000]],"pp":[["all",MAX$13481],["all",5]],"when2":[["all",MAX$13481],["all",101]],"withp":[["all",MAX$13481],["all",10]],"pipe":[["pipe",550],["pipe",551]],"sh_ifx":[["all",1800],["all",1801]],"sh_pfx":[["all",MAX$13481],["all",1901]],"sh_sfx":[["all",1900],["all",MAX$13481]],"wi_ifx":[["customl",900],["customr",901]],"wi_pfx":[["all",MAX$13481],["all",901]],"wi_sfx":[["all",900],["all",MAX$13481]]})))))))))),SimplePriority$13480(eg_groups$14821,eg_prio$14822)));(DONE$13483=-1);(NONE$13484=0);(LEFT$13485=1);(RIGHT$13486=2);(BOTH$13487=3);(oparse$13488=(function(next$15108,order$15109,finalize$15110){var between$15118;var right_op$15119;var stack$15120;var left_op$15121;var current$15122;(between$15118=finalize$15110(next$15108()));(right_op$15119=next$15108());(stack$15120=[]);(left_op$15121=null);(current$15122=null);$15123:while(true){var v$15176;var other$15238;var bridge$15148$15161;var $15143$15156;var o$15150;(o$15150=(function(){if(((!left_op$15121)&&(!right_op$15119))){return DONE$13483;}else{return ((((!left_op$15121)&&RIGHT$13486)||((!right_op$15119)&&LEFT$13485))||order$15109(left_op$15121,right_op$15119));}})());($15143$15156=o$15150);if(($15143$15156===DONE$13483)){return between$15118;}else{if(($15143$15156===LEFT$13485)){current$15122.push(between$15118);(between$15118=finalize$15110(current$15122));(v$15176=stack$15120.pop());(left_op$15121=v$15176[0]);(current$15122=v$15176[1]);}else{if(($15143$15156===RIGHT$13486)){stack$15120.push([left_op$15121,current$15122]);(left_op$15121=right_op$15119);(current$15122=[[right_op$15119],between$15118]);(between$15118=finalize$15110(next$15108()));(right_op$15119=next$15108());}else{(bridge$15148$15161=$15143$15156);if(((bridge$15148$15161===BOTH$13487)||(bridge$15148$15161===NONE$13484))){current$15122[0].push(right_op$15119);current$15122.push(between$15118);(left_op$15121=right_op$15119);(between$15118=finalize$15110(next$15108()));(right_op$15119=next$15108());if((o$15150===NONE$13484)){(current$15122["tainted"]=true);}}else{(other$15238=$15143$15156);throw $13185(["should_never_happen"]).create("undefined priority",({"left":left_op$15121,"right":right_op$15119}));}}}}}}));(finalize$13489=(function($15244$15247){var t0$15263;var $index$15374;var $length$15368;var temp$15362;var $index$15412;var $length$15406;var temp$15400;var $index$15478;var $length$15472;var temp$15466;var acc$15460;var other$15840;var args$15835;var f$15811;var orig_args$15812;var args$15813;var $15781$15794;var $15782$15795;var t0$15790;var t1$15791;var t2$15792;var $15775$15785;var inserted$15617;var result$15618;var t0$15852;var f$15879;var other$15960;var x$15949;var $15925$15936;var $15926$15937;var t0$15934;var $15921$15929;var result$15869;var f$15986;var oloc$16091;var abloc$16092;var oabloc$16093;var rval$16094;var a$16081;var b$16082;var $15334$16042;var $15335$16043;var $15336$16044;var $15337$16045;var t0$16035;var t1$16036;var t2$16037;var t3$16038;var t4$16039;var t5$16040;var $index$16141;var $length$16135;var temp$16129;var acc$16123;var op_strings$16114;var args$16115;var $15331$16031;var commas$15965;var commas$15844;var target$15577;var _b$15578;var body$15579;var f$15561;var body$15562;var f$15529;var arg$15530;var body$15531;var $15339$15520;var $15340$15521;var $15341$15522;var $15342$15523;var $15343$15524;var $15344$15525;var $15345$15526;var t0$15509;var t1$15510;var t2$15511;var t3$15512;var t4$15513;var t5$15514;var t6$15515;var t7$15516;var t8$15517;var bridge$15327$15518;var $15322$15504;var sumloc$15346;var orig_ops$15347;var op$15348;var other$16165;var ops$15313;var args$15314;var value$15304;var value$15299;var value$15294;var value$15284;var $15257$15279;var $15258$15280;var $15259$15281;var t0$15277;var $15249$15272;var ph$15260;var token$15261;(t0$15263=$15244$15247);(token$15261=t0$15263);(ph$15260=t0$15263);($15249$15272=ph$15260);if((($15257$15279=($15249$15272 instanceof Array))&&(((t0$15277=$15249$15272.length)),(($15259$15281=(t0$15277===2))&&($15249$15272[0]==="ID"))))){(value$15284=$15249$15272[1]);return __lt____lt____colon__$13472(["symbol",value$15284],token$15261);}else{if(($15259$15281&&($15249$15272[0]==="ILLEGAL"))){(value$15294=$15249$15272[1]);return __lt____lt____colon__$13472(["char",value$15294],token$15261);}else{if(($15259$15281&&($15249$15272[0]==="NUM"))){(value$15299=$15249$15272[1]);return __lt____lt____colon__$13472(["value",value$15299],token$15261);}else{if(($15259$15281&&($15249$15272[0]==="STR"))){(value$15304=$15249$15272[1]);return __lt____lt____colon__$13472(["value",value$15304],token$15261);}else{if(($15257$15279&&((t0$15277===1)&&($15249$15272[0]==="VOID")))){return __lt____lt____colon__$13472(["void"],token$15261);}else{if(($15257$15279&&(t0$15277>=1))){(ops$15313=$15249$15272[0]);(args$15314=Array.prototype.slice.call($15249$15272,1));(sumloc$15346=ops$15313[0].location);(temp$15362=ops$15313.slice(1));($length$15368=temp$15362.length);($index$15374=0);$15349:for(;($index$15374<$length$15368);($index$15374++)){var op$15391;var m$15383;(m$15383=temp$15362[$index$15374]);(op$15391=m$15383);(sumloc$15346=__plus____plus____colon__$13473(sumloc$15346,op$15391));}(temp$15400=args$15314);($length$15406=temp$15400.length);($index$15412=0);$15352:for(;($index$15412<$length$15406);($index$15412++)){var arg$15444;var t0$15426;var t1$15427;var m$15421;(m$15421=temp$15400[$index$15412]);(t0$15426=m$15421);if(((t0$15426 instanceof Array)&&(((t1$15427=t0$15426.length)),((t1$15427===1)&&(t0$15426[0]==="void"))))){undefined;}else{(arg$15444=m$15421);(sumloc$15346=__plus____plus____colon__$13473(sumloc$15346,arg$15444));}}(orig_ops$15347=ops$15313);(ops$15313=(((acc$15460=[])),(((temp$15466=ops$15313)),((($length$15472=temp$15466.length)),((($index$15478=0)),(function(){$15455:for(;($index$15478<$length$15472);($index$15478++)){var o$15495;var m$15487;(m$15487=temp$15466[$index$15478]);(o$15495=m$15487);acc$15460.push(o$15495[2]);}})()))),acc$15460));(op$15348=ops$15313[0]);($15322$15504=[ops$15313,args$15314]);if((($15339$15520=($15322$15504 instanceof Array))&&(((t0$15509=$15322$15504.length)),(($15341$15522=(t0$15509===2))&&(((t1$15510=$15322$15504[0])),(($15343$15524=(t1$15510 instanceof Array))&&(((t2$15511=t1$15510.length)),((t2$15511===2)&&((t1$15510[0]==="WHITE")&&((t1$15510[1]===":")&&(((t3$15512=$15322$15504[1])),((t3$15512 instanceof Array)&&(((t4$15513=t3$15512.length)),(t4$15513===3)))))))))))))){(f$15529=t3$15512[0]);(arg$15530=t3$15512[1]);(body$15531=t3$15512[2]);return __lt____lt____colon__$13472(["send",f$15529,__lt____lt____colon__$13472(["data",arg$15530,body$15531],__plus____plus____colon__$13473(arg$15530,body$15531))],sumloc$15346);}else{if(($15343$15524&&(($15345$15526=(t2$15511===1))&&((t1$15510[0]===":")&&(((t3$15512=$15322$15504[1])),((t3$15512 instanceof Array)&&(((t4$15513=t3$15512.length)),(t4$15513===2)))))))){(f$15561=t3$15512[0]);(body$15562=t3$15512[1]);return __lt____lt____colon__$13472(["send",f$15561,__lt____lt____colon__$13472(["data",body$15562],body$15562)],sumloc$15346);}else{if(($15345$15526&&((t1$15510[0]==="with")&&(((t3$15512=$15322$15504[1])),((t3$15512 instanceof Array)&&(((t4$15513=t3$15512.length)),((t4$15513===2)&&((target$15577=t3$15512[0]),(((t5$15514=t3$15512[1])),((_b$15578=t5$15514),(((t6$15515=$16277(Body$13475)(t5$15514))),(t6$15515[0]&&(((t7$15516=t6$15515[1])),(((t8$15517=t7$15516.length)),(t8$15517>=0))))))))))))))){(body$15579=Array.prototype.slice.call(t7$15516,0));(inserted$15617=false);(result$15618=transform$13476(target$15577,(function($15625$15628){var t0$15637;var $index$15733;var $length$15727;var temp$15721;var tr$15706;var res$15707;var args$15695;var x$15671;var f$15672;var a$15673;var b$15674;var t0$15651;var t1$15652;var t2$15653;var $15630$15646;var ph$15634;var expr$15635;(t0$15637=$15625$15628);(expr$15635=t0$15637);(ph$15634=t0$15637);($15630$15646=ph$15634);if((($15630$15646 instanceof Array)&&(((t0$15651=$15630$15646.length)),((t0$15651===2)&&(($15630$15646[0]==="symbol")&&($15630$15646[1]==="...")))))){(inserted$15617=true);return __lt____lt____colon__$13472(["multi"].concat(body$15579),_b$15578);}else{(x$15671=$15630$15646);if((x$15671.fromop&&(($15630$15646 instanceof Array)&&(((t0$15651=$15630$15646.length)),((t0$15651===3)&&(($15630$15646[0]==="send")&&((f$15672=$15630$15646[1]),(((t1$15652=$15630$15646[2])),((t1$15652 instanceof Array)&&(((t2$15653=t1$15652.length)),((t2$15653===3)&&(t1$15652[0]==="data")))))))))))){(a$15673=t1$15652[1]);(b$15674=t1$15652[2]);return ["send",this(f$15672),__lt____lt____colon__$13472(["data",this(a$15673),this(b$15674)],__plus____plus____colon__$13473(a$15673,b$15674))];}else{if((($15630$15646 instanceof Array)&&(((t0$15651=$15630$15646.length)),((t0$15651>=1)&&($15630$15646[0]==="data"))))){(args$15695=Array.prototype.slice.call($15630$15646,1));(tr$15706=this);(res$15707=["data"]);(temp$15721=args$15695);($length$15727=temp$15721.length);($index$15733=0);$15708:for(;($index$15733<$length$15727);($index$15733++)){var other$15770;var t0$15747;var t1$15748;var m$15742;(m$15742=temp$15721[$index$15733]);(t0$15747=m$15742);if(((t0$15747 instanceof Array)&&(((t1$15748=t0$15747.length)),((t1$15748===2)&&((t0$15747[0]==="symbol")&&(t0$15747[1]==="...")))))){(inserted$15617=true);(res$15707=res$15707.concat(body$15579));}else{(other$15770=m$15742);res$15707.push(__lt____lt____colon__$13472(tr$15706(other$15770),other$15770));}}return __lt____lt____colon__$13472(res$15707,expr$15635);}else{$13166($15630$15646);}}}})));if((!inserted$15617)){($15775$15785=target$15577);if((($15775$15785 instanceof Array)&&(((t0$15790=$15775$15785.length)),((t0$15790===1)&&($15775$15785[0]==="void"))))){return __lt____lt____colon__$13472(["data"].concat(body$15579),sumloc$15346);}else{$15775$15785;if(target$15577.fromop){return __lt____lt____colon__$13472(["send",target$15577,__lt____lt____colon__$13472(["data"].concat(body$15579),_b$15578)],sumloc$15346);}else{if((($15781$15794=($15775$15785 instanceof Array))&&(((t0$15790=$15775$15785.length)),((t0$15790===3)&&(($15775$15785[0]==="send")&&((f$15811=$15775$15785[1]),(((t1$15791=$15775$15785[2])),((orig_args$15812=t1$15791),((t1$15791 instanceof Array)&&(((t2$15792=t1$15791.length)),((t2$15792>=1)&&(t1$15791[0]==="data")))))))))))){(args$15813=Array.prototype.slice.call(t1$15791,1));return __lt____lt____colon__$13472(["send",f$15811,__lt____lt____colon__$13472(["data"].concat(args$15813).concat(body$15579),__plus____plus____colon__$13473(orig_args$15812,_b$15578))],sumloc$15346);}else{if(($15781$15794&&((t0$15790>=1)&&($15775$15785[0]==="data")))){(args$15835=Array.prototype.slice.call($15775$15785,1));return __lt____lt____colon__$13472(target$15577.concat(body$15579),sumloc$15346);}else{(other$15840=$15775$15785);return __lt____lt____colon__$13472(["send",target$15577,__lt____lt____colon__$13472(["data"].concat(body$15579),_b$15578)],sumloc$15346);}}}}}else{return __lt____lt____colon__$13472(result$15618,sumloc$15346);}}else{if(($15341$15522&&(((bridge$15327$15518=$15322$15504[0])),((((bridge$15327$15518 instanceof Array)&&(((t0$15852=bridge$15327$15518.length)),((t0$15852>=2)&&((bridge$15327$15518[0]==="[")&&((commas$15844=Array.prototype.slice.call(bridge$15327$15518,1,-1)),(bridge$15327$15518[(t0$15852-1)]==="]"))))))||((commas$15844=bridge$15327$15518),true))&&($15322$15504[1],commas$15844.every((function(x$15863){return $16324(x$15863,",");}))))))){if((op$15348==="[")){(args$15314=args$15314.slice(1,-1));}(args$15314=(((f$15879=(function($15883$15886){var other$15915;var t0$15902;var $15888$15897;var ph$15891;(ph$15891=$15883$15886);($15888$15897=ph$15891);if((($15888$15897 instanceof Array)&&(((t0$15902=$15888$15897.length)),((t0$15902===1)&&($15888$15897[0]==="void"))))){return false;}else{(other$15915=$15888$15897);return true;}}))),args$15314.filter(f$15879)));(result$15869=((($15921$15929=args$15314)),(function(){if((($15925$15936=($15921$15929 instanceof Array))&&(((t0$15934=$15921$15929.length)),(t0$15934===0)))){return ["multi"];}else{if(($15925$15936&&(t0$15934===1))){(x$15949=$15921$15929[0]);if(((!isNaN(sumloc$15346.start))&&(!isNaN(sumloc$15346.end)))){(x$15949["location"]=sumloc$15346);}return x$15949;}else{(other$15960=$15921$15929);return ["multi"].concat(args$15314);}}})()));return __lt____lt____colon__$13472(result$15869,sumloc$15346);}else{if(($15341$15522&&(((t1$15510=$15322$15504[0])),(($15343$15524=(t1$15510 instanceof Array))&&(((t2$15511=t1$15510.length)),((t2$15511>=2)&&((t1$15510[0]==="{")&&((commas$15965=Array.prototype.slice.call(t1$15510,1,-1)),((t1$15510[(t2$15511-1)]==="}")&&($15322$15504[1],commas$15965.every((function(x$15981){return $16324(x$15981,",");})))))))))))){(f$15986=(function($15990$15993){var other$16022;var t0$16009;var $15995$16004;var ph$15998;(ph$15998=$15990$15993);($15995$16004=ph$15998);if((($15995$16004 instanceof Array)&&(((t0$16009=$15995$16004.length)),((t0$16009===1)&&($15995$16004[0]==="void"))))){return false;}else{(other$16022=$15995$16004);return true;}}));return __lt____lt____colon__$13472(["data"].concat(args$15314.slice(1,-1).filter(f$15986)),sumloc$15346);}else{if(($15343$15524&&(($15345$15526=(t2$15511===1))&&(t1$15510[0]==="WHITE")))){$15322$15504[1];return __lt____lt____colon__$13472(["send"].concat(args$15314),sumloc$15346);}else{if($15345$15526){t1$15510[0];($15331$16031=$15322$15504[1]);(t0$16035=$15331$16031);if((($15335$16043=(t0$16035 instanceof Array))&&(((t1$16036=t0$16035.length)),(($15337$16045=(t1$16036===2))&&(((t2$16037=t0$16035[0])),((t2$16037 instanceof Array)&&(((t3$16038=t2$16037.length)),((t3$16038===1)&&((t2$16037[0]==="void")&&(((t4$16039=t0$16035[1])),((t4$16039 instanceof Array)&&(((t5$16040=t4$16039.length)),((t5$16040===1)&&(t4$16039[0]==="void")))))))))))))){return __lt____lt____colon__$13472(["symbol",op$15348],orig_ops$15347[0]);}else{if($15337$16045){(a$16081=t0$16035[0]);(b$16082=t0$16035[1]);(oloc$16091=orig_ops$15347[0].location);(abloc$16092=__plus____plus____colon__$13473(a$16081,b$16082));(oabloc$16093=__plus____plus____colon__$13473(orig_ops$15347[0],abloc$16092));(rval$16094=__lt____lt____colon__$13472(["send",__lt____lt____colon__$13472(["symbol",op$15348],oloc$16091),__lt____lt____colon__$13472(["data",a$16081,b$16082],abloc$16092)],__plus____plus____colon__$13473(oloc$16091,abloc$16092)));(rval$16094["fromop"]=true);return rval$16094;}else{$13166($15331$16031,"/home/olivier/git/earl-grey/src/parse.eg",17629,17634);}}}else{if($15341$15522){(op_strings$16114=$15322$15504[0]);(args$16115=$15322$15504[1]);return __lt____lt____colon__$13472(["mismix",(((acc$16123=[])),(((temp$16129=orig_ops$15347)),((($length$16135=temp$16129.length)),((($index$16141=0)),(function(){$16118:for(;($index$16141<$length$16135);($index$16141++)){var op$16158;var m$16150;(m$16150=temp$16129[$index$16141]);(op$16158=m$16150);acc$16123.push(__lt____lt____colon__$13472(["symbol",op$16158[2]],op$16158));}})()))),acc$16123)].concat(args$16115),sumloc$15346);}else{$13166($15322$15504);}}}}}}}}}else{(other$16165=$15249$15272);throw $13185(["should_never_happen"]).create("unknown node (B)",({"node":token$15261}));}}}}}}}));(parse$13490=(function(tokens$16172){var next$16176;(next$16176=(function(){return tokens$16172.shift();}));return oparse$13488(next$16176,eg_order$13482.compare.bind(eg_order$13482),finalize$13489);}));(exports["OperatorGroups"]=OperatorGroups$13477);(exports["SimplePriority"]=SimplePriority$13480);(exports["parse"]=parse$13490);(exports["oparse"]=oparse$13488);(exports["finalize"]=finalize$13489);(exports["DONE"]=DONE$13483);(exports["NONE"]=NONE$13484);(exports["LEFT"]=LEFT$13485);(exports["RIGHT"]=RIGHT$13486);(exports["BOTH"]=BOTH$13487);
