var $6546=function(type$6548){var f$6551;(f$6551=type$6548["::check"]);;if((f$6551===(void 0))){return function(value$6556){return (value$6556 instanceof type$6548);};}else{return function(value$6559){return f$6551.call(type$6548,value$6559);};}};
var $6561=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $6562=function($6563$6565){var ph$6569;(ph$6569=$6563$6565);;var $6567$6574;($6567$6574=ph$6569);;var bridge$6568$6579;var x$6583;(bridge$6568$6579=$6567$6574);if((((typeof(bridge$6568$6579)==="string")&&((x$6583=bridge$6568$6579),true))||((typeof(bridge$6568$6579)==="number")&&((x$6583=bridge$6568$6579),true)))){return ["value",x$6583];}else{var other$6590;(other$6590=$6567$6574);return other$6590["::serialize_ast"]();}};
var send$6430;(send$6430=function(obj$6435,$6433$6436){var ph$6440;var msg$6441;var t0$6443;(t0$6443=$6433$6436);(msg$6441=t0$6443);(ph$6440=t0$6443);;var $6438$6447;($6438$6447=ph$6440);;var bridge$6439$6452;(bridge$6439$6452=$6438$6447);if(((typeof(bridge$6439$6452)==="string")||(typeof(bridge$6439$6452)==="number"))){return obj$6435[msg$6441];}else{var other$6460;(other$6460=$6438$6447);return obj$6435["::send"](msg$6441);}});;(Array[":::project"]=function($6463$6465){var ph$6468;var value$6469;var t0$6471;(t0$6471=$6463$6465);(value$6469=t0$6471);(ph$6468=t0$6471);;var $6467$6475;($6467$6475=ph$6468);;if($6546(Array)($6467$6475)){return [true,value$6469];}else{$6467$6475;return [true,[value$6469]];}});(Array.prototype["::check"]=function(value$6489){if((value$6489 instanceof Array)){var i$6494;(i$6494=0);;$6492:for(;(i$6494<this.length);(i$6494++)){if(($6561(this,i$6494)!==$6561(value$6489,i$6494))){return false;}}return true;}else{return false;}});(Array.prototype["::clone"]=function(){return this.slice(0);});(Array.prototype[":::project"]=function(value$6505){if((value$6505 instanceof Array)){var i$6510;(i$6510=0);;$6508:for(;(i$6510<this.length);(i$6510++)){if(($6561(this,i$6510)!==$6561(value$6505,i$6510))){return [true,[value$6505]];}}return [true,value$6505.slice(this.length)];}else{return [true,[value$6505]];}});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($6562));});(RegExp.prototype["::check"]=function(value$6521){return value$6521.match(this);});(RegExp.prototype[":::project"]=function(value$6524){var $6526$6528;($6526$6528=value$6524.match(this));;var m$6536;if(($6526$6528===null)){(m$6536=$6526$6528);return [false,null];}else{var m$6541;(m$6541=$6526$6528);return [true,m$6541];}});(Function.prototype["::send"]=function(args$6544){return this.apply(this,args$6544);});
var $7552=function(dest$7554,values$7555){var k$7560;(k$7560=null);$7558:for(k$7560 in values$7555){if(values$7555.hasOwnProperty(k$7560)){(dest$7554[k$7560]=values$7555[k$7560]);}}return dest$7554;};
var $7445=function(){var $7446$7448;($7446$7448=function(tags$7452){var it$0$7455;(it$0$7455=function(){if((!$6546($7446$7448)(this))){return Object.create($7446$7448.prototype);}else{return this;}}());;(it$0$7455["tags"]=tags$7452);return it$0$7455;});;($7446$7448.prototype["create"]=function(){var $7464$7466;($7464$7466=arguments);;var t0$7471;var message$7475;var args$7476;(t0$7471=$7464$7466.length);if((t0$7471>=0)){(message$7475=function(){if((0>=t0$7471)){return "";}else{return $7464$7466[0];}}());(args$7476=Array.prototype.slice.call($7464$7466,1));var it$0$7480;(it$0$7480=this);;var e$7485;(e$7485=Error(message$7475));;(e$7485["::tags"]=it$0$7480.tags);(e$7485["args"]=args$7476);(e$7485["name"]=["E"].concat(it$0$7480.tags).join("."));return e$7485;}else{$7432($7464$7466);}});($7446$7448.prototype["::check"]=function(e$7494){var it$0$7497;(it$0$7497=this);;var tags$7502;if(((!e$7494)||(!$6546(Error)(e$7494)))){return false;}(tags$7502=(e$7494["::tags"]||[]));;var temp$7511;(temp$7511=it$0$7497.tags);;var $length$7516;($length$7516=temp$7511.length);;var $index$7521;($index$7521=0);;$7503:for(;($index$7521<$length$7516);($index$7521++)){var m$7529;(m$7529=temp$7511[$index$7521]);;var tag$7537;(tag$7537=m$7529);if((tags$7502.indexOf(tag$7537)===(-1))){return false;}else{false;;}}return true;});($7446$7448.prototype["::deconstruct"]=function(e$7545){var it$0$7548;(it$0$7548=this);;return e$7545.args;});$7552($7446$7448,({}));return $7446$7448;}();
var $7432=function(value$7434,url$7435,start$7436,end$7437){var err$7440;(err$7440=$7445(["match"]).create("Could not find a match for value",({"value":value$7434})));;if(url$7435){(err$7440["location"]=["location",url$7435,start$7436,end$7437]);}throw err$7440;};
var $7564=function(type$7566){return function(value$7569){var f$7572;(f$7572=type$7566[":::project"]);;if((f$7572===(void 0))){var f$7577;(f$7577=type$7566["::project"]);;if((f$7577===(void 0))){return [true,type$7566(value$7569)];}else{var rval$7582;(rval$7582=false);;try{(rval$7582=[true,f$7577(value$7569)]);}catch(excv$7588){var e$7594;(e$7594=excv$7588);(rval$7582=[false,null]);}return rval$7582;}}else{return f$7572.call(type$7566,value$7569);}};};var $6593$6594;var __lt____lt____colon__$6595;var __plus____plus____colon__$6596;var transform$6597;var MAX$6598;var order_map$6599;var DONE$6600;var NONE$6601;var LEFT$6602;var RIGHT$6603;var BOTH$6604;var oparse$6605;var consult$6606;var order$6607;var finalize$6608;var parse$6609;($6593$6594=require("./location"));;(__lt____lt____colon__$6595=$6593$6594["<<:"]);;(__plus____plus____colon__$6596=$6593$6594["++:"]);;(transform$6597=function(expr$6622,cb$6623){var rval$6637;var tr$6626;var result$6627;(tr$6626=function(x$6631){return transform$6597(x$6631,cb$6623);});;(result$6627=(((rval$6637=false)),(function(){try{(rval$6637=cb$6623.call(tr$6626,expr$6622));}catch(excv$6643){var name$6683;var args$6684;var v$6678;var s$6673;var $6652$6663;var $6653$6664;var $6654$6665;var t0$6661;var $6651$6656;var e$6649;(e$6649=excv$6643);(rval$6637=((($6651$6656=expr$6622)),function(){if((($6652$6663=($6651$6656 instanceof Array))&&((t0$6661=$6651$6656.length),((t0$6661===1)&&($6651$6656[0]==="void"))))){return ["void"];}else{if(($6652$6663&&(($6654$6665=(t0$6661===2))&&($6651$6656[0]==="symbol")))){(s$6673=$6651$6656[1]);return expr$6622;}else{if(($6654$6665&&($6651$6656[0]==="value"))){(v$6678=$6651$6656[1]);return expr$6622;}else{if(($6652$6663&&(t0$6661>=1))){(name$6683=$6651$6656[0]);(args$6684=Array.prototype.slice.call($6651$6656,1));return [name$6683].concat(args$6684.map(tr$6626));}else{$7432($6651$6656);}}}}}()));}}(),rval$6637)));;return __lt____lt____colon__$6595(result$6627,expr$6622);});;(MAX$6598=(1/0));;(order_map$6599=({"IFX":({"wide":({",":[[15,1],[15,1]],"with":[[15,1999],[15,10]],"each":[[15,11],[15,10]],"each?":[[15,11],[15,10]],"where":[[15,11],[15,10]],"!!":[[15,11],[15,10]],"|>":[[15,11],[15,10]],"->":[[15,11],[15,10]],"=>":[[15,11],[15,10]],"=":[[15,11],[15,10]],":=":[[15,11],[15,10]],"+=":[[15,11],[15,10]],"-=":[[15,11],[15,10]],"*=":[[15,11],[15,10]],"/=":[[15,11],[15,10]],"<<=":[[15,11],[15,10]],">>=":[[15,11],[15,10]],">>>=":[[15,11],[15,10]],"++=":[[15,11],[15,10]],"?=":[[15,11],[15,10]],"or=":[[15,11],[15,10]],"and=":[[15,11],[15,10]],"each=":[[15,11],[15,10]],"%":[[15,11],[15,10]],"when":[[15,100],[15,101]],"||":[[15,110],[15,111]],"&&":[[15,120],[15,121]],"or":[[15,110],[15,111]],"and":[[15,120],[15,121]],"not":[[15,130],[15,131]],"==":[[15,200],[15,201]],"!=":[[15,200],[15,201]],">=":[[15,200],[15,201]],"<=":[[15,200],[15,201]],">":[[15,200],[15,201]],"<":[[15,200],[15,201]],"^.":[[15,400],[15,401]],"|.":[[15,410],[15,411]],"&.":[[15,420],[15,421]],"<<":[[1,500],[1,501]],">>":[[1,500],[1,501]],">>>":[[1,500],[1,501]],"+":[[1,550],[1,551]],"-":[[1,550],[1,551]],"*":[[1,560],[1,561]],"/":[[1,560],[1,561]],"mod":[[1,560],[1,561]],"**":[[1,571],[1,570]],"DEFAULT":[[8,900],[4,901]],"WHITE":[[15,1002],[15,1001]],":":[[15,1001],[15,2]]}),"short":({"DEFAULT":[[15,1800],[15,1801]],"WHITE":[[15,2000],[15,2001]],",":[[15,1],[15,1]],":":[[15,1001],[15,2]]})}),"PFX":({"wide":({"DEFAULT":[[15,MAX$6598],[15,900]],"when":[[15,MAX$6598],[15,101]],"not":[[15,MAX$6598],[15,131]],".":[[15,MAX$6598],[15,3000]],"#":[[15,MAX$6598],[15,3000]],"@":[[15,MAX$6598],[15,3000]],"<>":[[15,MAX$6598],[15,5]],"(":[[15,MAX$6598],[15,1]],"[":[[15,MAX$6598],[15,1]],"{":[[15,MAX$6598],[15,1]]}),"short":({"DEFAULT":[[15,MAX$6598],[15,1901]],".":[[15,MAX$6598],[15,3000]],"#":[[15,MAX$6598],[15,3000]],"@":[[15,MAX$6598],[15,3000]],"(":[[15,MAX$6598],[15,1]],"[":[[15,MAX$6598],[15,1]],"{":[[15,MAX$6598],[15,1]]})}),"SFX":({"wide":({"DEFAULT":[[15,901],[15,MAX$6598]],")":[[15,1],[15,MAX$6598]],"]":[[15,1],[15,MAX$6598]],"}":[[15,1],[15,MAX$6598]]}),"short":({"DEFAULT":[[15,1900],[15,MAX$6598]],")":[[15,1],[15,MAX$6598]],"]":[[15,1],[15,MAX$6598]],"}":[[15,1],[15,MAX$6598]]})})}));;(DONE$6600=(-1));;(NONE$6601=0);;(LEFT$6602=1);;(RIGHT$6603=2);;(BOTH$6604=3);;(oparse$6605=function(next$6715,order$6716,finalize$6717){var between$6720;var right_op$6721;var stack$6722;var left_op$6723;var current$6724;(between$6720=finalize$6717(next$6715()));;(right_op$6721=next$6715());;(stack$6722=[]);;(left_op$6723=null);;(current$6724=null);;$6725:while(true){var v$6765;var other$6781;var $6744$6750;var o$6745;(o$6745=function(){if(((!left_op$6723)&&(!right_op$6721))){return DONE$6600;}else{return ((((!left_op$6723)&&RIGHT$6603)||((!right_op$6721)&&LEFT$6602))||order$6716(left_op$6723,right_op$6721));}}());;($6744$6750=o$6745);;if(($6744$6750===DONE$6600)){return between$6720;}else{if(($6744$6750===LEFT$6602)){current$6724.push(between$6720);(between$6720=finalize$6717(current$6724));(v$6765=stack$6722.pop());;(left_op$6723=v$6765[0]);(current$6724=v$6765[1]);}else{if(($6744$6750===RIGHT$6603)){stack$6722.push([left_op$6723,current$6724]);(left_op$6723=right_op$6721);(current$6724=[[right_op$6721],between$6720]);(between$6720=finalize$6717(next$6715()));(right_op$6721=next$6715());}else{if(($6744$6750===BOTH$6604)){current$6724[0].push(right_op$6721);current$6724.push(between$6720);(left_op$6723=right_op$6721);(between$6720=finalize$6717(next$6715()));(right_op$6721=next$6715());}else{(other$6781=$6744$6750);throw $7445(["should_never_happen"]).create("undefined priority",({"left":left_op$6723,"right":right_op$6721}));}}}}}});;(consult$6606=function($6786$6788){var t0$6794;var t1$6795;var map$6801;var fixity$6790;var width$6791;var op$6792;(t0$6794=$6786$6788);if(((t0$6794 instanceof Array)&&((t1$6795=t0$6794.length),(t1$6795===3)))){(fixity$6790=t0$6794[0]);(width$6791=t0$6794[1]);(op$6792=t0$6794[2]);;}else{$7432($6786$6788);}(map$6801=$6561($6561(order_map$6599,fixity$6790),width$6791));;return ($6561(map$6801,op$6792)||map$6801.DEFAULT);});;(order$6607=function(o1$6809,o2$6810){var t0$6820;var t1$6821;var t0$6827;var t1$6828;var $6814$6840;var $6813$6834;var code1$6815;var ord1$6816;var code2$6817;var ord2$6818;(t0$6820=consult$6606(o1$6809)[1]);if(((t0$6820 instanceof Array)&&((t1$6821=t0$6820.length),(t1$6821===2)))){(code1$6815=t0$6820[0]);(ord1$6816=t0$6820[1]);;}else{$7432(consult$6606(o1$6809)[1],"/home/olivier/git/earl-grey/src/parse.eg",6233,6247);}(t0$6827=consult$6606(o2$6810)[0]);if(((t0$6827 instanceof Array)&&((t1$6828=t0$6827.length),(t1$6828===2)))){(code2$6817=t0$6827[0]);(ord2$6818=t0$6827[1]);;}else{$7432(consult$6606(o2$6810)[0],"/home/olivier/git/earl-grey/src/parse.eg",6267,6281);}($6813$6834=null);;$6813$6834;if(((code1$6815&code2$6817)===0)){throw $7445(["syntax","order"]).create("Cannot mix operators in the given order",({"left":o1$6809,"right":o2$6810}));}else{if((ord1$6816>ord2$6818)){return LEFT$6602;}else{if((ord1$6816<ord2$6818)){return RIGHT$6603;}else{if((ord1$6816===ord2$6818)){return BOTH$6604;}else{$7432($6813$6834);}}}}});;(finalize$6608=function($6862$6864){var t0$6873;var $index$6950;var $length$6945;var temp$6940;var $index$6980;var $length$6975;var temp$6970;var $index$7019;var $length$7014;var temp$7009;var acc$7004;var other$7247;var args$7242;var f$7230;var orig_args$7231;var args$7232;var $7205$7217;var $7206$7218;var t0$7213;var t1$7214;var t2$7215;var $7204$7208;var inserted$7100;var result$7101;var f$7258;var other$7316;var x$7310;var $7291$7301;var $7292$7302;var t0$7299;var $7290$7294;var result$7255;var f$7324;var oloc$7391;var abloc$7392;var oabloc$7393;var rval$7394;var a$7386;var b$7387;var $6917$7371;var $6918$7372;var $6919$7373;var $6920$7374;var t0$7364;var t1$7365;var t2$7366;var t3$7367;var t4$7368;var t5$7369;var other$7411;var $6916$7360;var target$7086;var _b$7087;var body$7088;var f$7078;var body$7079;var f$7066;var arg$7067;var body$7068;var $6921$7057;var $6922$7058;var $6923$7059;var $6924$7060;var $6925$7061;var $6926$7062;var $6927$7063;var t0$7046;var t1$7047;var t2$7048;var t3$7049;var t4$7050;var t5$7051;var t6$7052;var t7$7053;var t8$7054;var bridge$6915$7055;var $6914$7041;var sumloc$6928;var orig_ops$6929;var op$6930;var other$7415;var ops$6909;var args$6910;var value$6900;var value$6895;var value$6889;var $6867$6884;var $6868$6885;var $6869$6886;var t0$6882;var $6866$6877;var ph$6870;var token$6871;(t0$6873=$6862$6864);(token$6871=t0$6873);(ph$6870=t0$6873);;($6866$6877=ph$6870);;if((($6867$6884=($6866$6877 instanceof Array))&&((t0$6882=$6866$6877.length),(($6869$6886=(t0$6882===2))&&($6866$6877[0]==="ID"))))){(value$6889=$6866$6877[1]);return __lt____lt____colon__$6595(["symbol",value$6889],token$6871);}else{if(($6869$6886&&($6866$6877[0]==="NUM"))){(value$6895=$6866$6877[1]);return __lt____lt____colon__$6595(["value",value$6895],token$6871);}else{if(($6869$6886&&($6866$6877[0]==="STR"))){(value$6900=$6866$6877[1]);return __lt____lt____colon__$6595(["value",value$6900],token$6871);}else{if(($6867$6884&&((t0$6882===1)&&($6866$6877[0]==="VOID")))){return __lt____lt____colon__$6595(["void"],token$6871);}else{if(($6867$6884&&(t0$6882>=1))){(ops$6909=$6866$6877[0]);(args$6910=Array.prototype.slice.call($6866$6877,1));(sumloc$6928=ops$6909[0].location);;(temp$6940=ops$6909.slice(1));;($length$6945=temp$6940.length);;($index$6950=0);;$6931:for(;($index$6950<$length$6945);($index$6950++)){var op$6966;var m$6958;(m$6958=temp$6940[$index$6950]);;(op$6966=m$6958);(sumloc$6928=__plus____plus____colon__$6596(sumloc$6928,op$6966));}(temp$6970=args$6910);;($length$6975=temp$6970.length);;($index$6980=0);;$6933:for(;($index$6980<$length$6975);($index$6980++)){var arg$6996;var m$6988;(m$6988=temp$6970[$index$6980]);;(arg$6996=m$6988);(sumloc$6928=__plus____plus____colon__$6596(sumloc$6928,arg$6996));}(orig_ops$6929=ops$6909);;(ops$6909=(((acc$7004=[])),(((temp$7009=ops$6909)),((($length$7014=temp$7009.length)),((($index$7019=0)),function(){$7001:for(;($index$7019<$length$7014);($index$7019++)){var o$7035;var m$7027;(m$7027=temp$7009[$index$7019]);;(o$7035=m$7027);acc$7004.push(o$7035[2]);}}()))),acc$7004));(op$6930=ops$6909[0]);;($6914$7041=[ops$6909,args$6910]);;if((($6921$7057=($6914$7041 instanceof Array))&&((t0$7046=$6914$7041.length),(($6923$7059=(t0$7046===2))&&((t1$7047=$6914$7041[0]),(($6925$7061=(t1$7047 instanceof Array))&&((t2$7048=t1$7047.length),((t2$7048===2)&&((t1$7047[0]==="WHITE")&&((t1$7047[1]===":")&&((t3$7049=$6914$7041[1]),((t3$7049 instanceof Array)&&((t4$7050=t3$7049.length),(t4$7050===3)))))))))))))){(f$7066=t3$7049[0]);(arg$7067=t3$7049[1]);(body$7068=t3$7049[2]);return __lt____lt____colon__$6595(["send",f$7066,__lt____lt____colon__$6595(["data",arg$7067,body$7068],__plus____plus____colon__$6596(arg$7067,body$7068))],sumloc$6928);}else{if(($6925$7061&&(($6927$7063=(t2$7048===1))&&((t1$7047[0]===":")&&((t3$7049=$6914$7041[1]),((t3$7049 instanceof Array)&&((t4$7050=t3$7049.length),(t4$7050===2)))))))){(f$7078=t3$7049[0]);(body$7079=t3$7049[1]);return __lt____lt____colon__$6595(["send",f$7078,__lt____lt____colon__$6595(["data",body$7079],body$7079)],sumloc$6928);}else{if(($6927$7063&&((t1$7047[0]==="with")&&((t3$7049=$6914$7041[1]),((t3$7049 instanceof Array)&&((t4$7050=t3$7049.length),((t4$7050===2)&&((target$7086=t3$7049[0]),((t5$7051=t3$7049[1]),((_b$7087=t5$7051),((t6$7052=$7564(["multi"])(t5$7051)),(t6$7052[0]&&((t7$7053=t6$7052[1]),((t8$7054=t7$7053.length),(t8$7054>=0))))))))))))))){(body$7088=Array.prototype.slice.call(t7$7053,0));(inserted$7100=false);;(result$7101=transform$6597(target$7086,function($7107$7109){var t0$7115;var $index$7175;var $length$7170;var temp$7165;var tr$7153;var res$7154;var args$7148;var x$7136;var f$7137;var a$7138;var b$7139;var t0$7124;var t1$7125;var t2$7126;var $7111$7119;var ph$7112;var expr$7113;(t0$7115=$7107$7109);(expr$7113=t0$7115);(ph$7112=t0$7115);;($7111$7119=ph$7112);;if((($7111$7119 instanceof Array)&&((t0$7124=$7111$7119.length),((t0$7124===2)&&(($7111$7119[0]==="symbol")&&($7111$7119[1]==="...")))))){(inserted$7100=true);return __lt____lt____colon__$6595(["multi"].concat(body$7088),_b$7087);}else{(x$7136=$7111$7119);if((x$7136.fromop&&(($7111$7119 instanceof Array)&&((t0$7124=$7111$7119.length),((t0$7124===3)&&(($7111$7119[0]==="send")&&((f$7137=$7111$7119[1]),((t1$7125=$7111$7119[2]),((t1$7125 instanceof Array)&&((t2$7126=t1$7125.length),((t2$7126===3)&&(t1$7125[0]==="data")))))))))))){(a$7138=t1$7125[1]);(b$7139=t1$7125[2]);return ["send",this(f$7137),__lt____lt____colon__$6595(["data",this(a$7138),this(b$7139)],__plus____plus____colon__$6596(a$7138,b$7139))];}else{if((($7111$7119 instanceof Array)&&((t0$7124=$7111$7119.length),((t0$7124>=1)&&($7111$7119[0]==="data"))))){(args$7148=Array.prototype.slice.call($7111$7119,1));(tr$7153=this);;(res$7154=["data"]);;(temp$7165=args$7148);;($length$7170=temp$7165.length);;($index$7175=0);;$7155:for(;($index$7175<$length$7170);($index$7175++)){var other$7199;var t0$7188;var t1$7189;var m$7183;(m$7183=temp$7165[$index$7175]);;(t0$7188=m$7183);if(((t0$7188 instanceof Array)&&((t1$7189=t0$7188.length),((t1$7189===2)&&((t0$7188[0]==="symbol")&&(t0$7188[1]==="...")))))){(inserted$7100=true);(res$7154=res$7154.concat(body$7088));}else{(other$7199=m$7183);res$7154.push(__lt____lt____colon__$6595(tr$7153(other$7199),other$7199));}}return __lt____lt____colon__$6595(res$7154,expr$7113);}else{$7432($7111$7119);}}}}));;if((!inserted$7100)){($7204$7208=target$7086);;if((($7204$7208 instanceof Array)&&((t0$7213=$7204$7208.length),((t0$7213===1)&&($7204$7208[0]==="void"))))){return __lt____lt____colon__$6595(["data"].concat(body$7088),sumloc$6928);}else{$7204$7208;if(target$7086.fromop){return __lt____lt____colon__$6595(["send",target$7086,__lt____lt____colon__$6595(["data"].concat(body$7088),_b$7087)],sumloc$6928);}else{if((($7205$7217=($7204$7208 instanceof Array))&&((t0$7213=$7204$7208.length),((t0$7213===3)&&(($7204$7208[0]==="send")&&((f$7230=$7204$7208[1]),((t1$7214=$7204$7208[2]),((orig_args$7231=t1$7214),((t1$7214 instanceof Array)&&((t2$7215=t1$7214.length),((t2$7215>=1)&&(t1$7214[0]==="data")))))))))))){(args$7232=Array.prototype.slice.call(t1$7214,1));return __lt____lt____colon__$6595(["send",f$7230,__lt____lt____colon__$6595(["data"].concat(args$7232).concat(body$7088),__plus____plus____colon__$6596(orig_args$7231,_b$7087))],sumloc$6928);}else{if(($7205$7217&&((t0$7213>=1)&&($7204$7208[0]==="data")))){(args$7242=Array.prototype.slice.call($7204$7208,1));return __lt____lt____colon__$6595(target$7086.concat(body$7088),sumloc$6928);}else{(other$7247=$7204$7208);return __lt____lt____colon__$6595(["send",target$7086,__lt____lt____colon__$6595(["data"].concat(body$7088),_b$7087)],sumloc$6928);}}}}}else{return __lt____lt____colon__$6595(result$7101,sumloc$6928);}}else{if(($6925$7061&&(($6927$7063=(t2$7048>=1))&&((bridge$6915$7055=t1$7047[0]),((bridge$6915$7055==="[")||(bridge$6915$7055===",")))))){Array.prototype.slice.call(t1$7047,1);$6914$7041[1];if((op$6930==="[")){(args$6910=args$6910.slice(1,(-1)));}(args$6910=(((f$7258=function($7261$7263){var other$7285;var t0$7276;var $7265$7271;var ph$7266;(ph$7266=$7261$7263);;($7265$7271=ph$7266);;if((($7265$7271 instanceof Array)&&((t0$7276=$7265$7271.length),((t0$7276===1)&&($7265$7271[0]==="void"))))){return false;}else{(other$7285=$7265$7271);return true;}})),args$6910.filter(f$7258)));(result$7255=((($7290$7294=args$6910)),function(){if((($7291$7301=($7290$7294 instanceof Array))&&((t0$7299=$7290$7294.length),(t0$7299===0)))){return ["value",(void 0)];}else{if(($7291$7301&&(t0$7299===1))){(x$7310=$7290$7294[0]);(x$7310["location"]=sumloc$6928);return x$7310;}else{(other$7316=$7290$7294);return ["multi"].concat(args$6910);}}}()));;return __lt____lt____colon__$6595(result$7255,sumloc$6928);}else{if(($6927$7063&&(t1$7047[0]==="{"))){Array.prototype.slice.call(t1$7047,1);$6914$7041[1];(f$7324=function($7327$7329){var other$7351;var t0$7342;var $7331$7337;var ph$7332;(ph$7332=$7327$7329);;($7331$7337=ph$7332);;if((($7331$7337 instanceof Array)&&((t0$7342=$7331$7337.length),((t0$7342===1)&&($7331$7337[0]==="void"))))){return false;}else{(other$7351=$7331$7337);return true;}});;return __lt____lt____colon__$6595(["data"].concat(args$6910.slice(1,(-1)).filter(f$7324)),sumloc$6928);}else{if(($6925$7061&&(($6927$7063=(t2$7048===1))&&(t1$7047[0]==="WHITE")))){$6914$7041[1];return __lt____lt____colon__$6595(["send"].concat(args$6910),sumloc$6928);}else{if($6927$7063){t1$7047[0];($6916$7360=$6914$7041[1]);(t0$7364=$6916$7360);if((($6918$7372=(t0$7364 instanceof Array))&&((t1$7365=t0$7364.length),(($6920$7374=(t1$7365===2))&&((t2$7366=t0$7364[0]),((t2$7366 instanceof Array)&&((t3$7367=t2$7366.length),((t3$7367===1)&&((t2$7366[0]==="void")&&((t4$7368=t0$7364[1]),((t4$7368 instanceof Array)&&((t5$7369=t4$7368.length),((t5$7369===1)&&(t4$7368[0]==="void")))))))))))))){return __lt____lt____colon__$6595(["symbol",op$6930],orig_ops$6929[0]);}else{if($6920$7374){(a$7386=t0$7364[0]);(b$7387=t0$7364[1]);(oloc$7391=orig_ops$6929[0].location);;(abloc$7392=__plus____plus____colon__$6596(a$7386,b$7387));;(oabloc$7393=__plus____plus____colon__$6596(orig_ops$6929[0],abloc$7392));;(rval$7394=__lt____lt____colon__$6595(["send",__lt____lt____colon__$6595(["symbol",op$6930],oloc$7391),__lt____lt____colon__$6595(["data",a$7386,b$7387],abloc$7392)],__plus____plus____colon__$6596(oloc$7391,abloc$7392)));;(rval$7394["fromop"]=true);return rval$7394;}else{$7432($6916$7360,"/home/olivier/git/earl-grey/src/parse.eg",9696,9701);}}}else{(other$7411=$6914$7041);throw $7445(["should_never_happen"]).create("unknown node",({"node":token$6871}));}}}}}}}}else{(other$7415=$6866$6877);throw $7445(["should_never_happen"]).create("unknown node (B)",({"node":token$6871}));}}}}}});;(parse$6609=function(tokens$7421){var next$7424;(next$7424=function(){return tokens$7421.shift();});;return oparse$6605(next$7424,order$6607,finalize$6608);});;(exports["parse"]=parse$6609);(exports["order"]=order$6607);(exports["oparse"]=oparse$6605);(exports["finalize"]=finalize$6608);(exports["DONE"]=DONE$6600);(exports["NONE"]=NONE$6601);(exports["LEFT"]=LEFT$6602);(exports["RIGHT"]=RIGHT$6603);(exports["BOTH"]=BOTH$6604);
