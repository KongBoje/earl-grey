var $5847=function(type$5849){var f$5852;(f$5852=type$5849["::check"]);;if((f$5852===(void 0))){return function(value$5857){return (value$5857 instanceof type$5849);};}else{return function(value$5860){return f$5852.call(type$5849,value$5860);};}};
var $5862=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $5863=function(temp$5864$5866){var ph$5870;(ph$5870=temp$5864$5866);;var m$5868$5875;(m$5868$5875=ph$5870);;var bridge$5869$5880;var x$5884;(bridge$5869$5880=m$5868$5875);if((((typeof(bridge$5869$5880)==="string")&&((x$5884=bridge$5869$5880),true))||((typeof(bridge$5869$5880)==="number")&&((x$5884=bridge$5869$5880),true)))){return ["value",x$5884];}else{var other$5891;(other$5891=m$5868$5875);return other$5891["::serialize_ast"]();}};
var send$5710;(send$5710=function(obj$5715,temp$5713$5716){var ph$5720;var msg$5721;var t0$5723;(t0$5723=temp$5713$5716);(msg$5721=t0$5723);(ph$5720=t0$5723);;var m$5718$5727;(m$5718$5727=ph$5720);;var bridge$5719$5732;(bridge$5719$5732=m$5718$5727);if(((typeof(bridge$5719$5732)==="string")||(typeof(bridge$5719$5732)==="number"))){return obj$5715[msg$5721];}else{var other$5740;(other$5740=m$5718$5727);return obj$5715["::send"](msg$5721);}});;(Array[":::project"]=function(temp$5743$5745){var ph$5748;var value$5749;var t0$5751;(t0$5751=temp$5743$5745);(value$5749=t0$5751);(ph$5748=t0$5751);;var m$5747$5755;(m$5747$5755=ph$5748);;if($5847(Array)(m$5747$5755)){return [true,value$5749];}else{m$5747$5755;return [true,[value$5749]];}});(Array.prototype["::check"]=function(value$5769){if((value$5769 instanceof Array)){var i$5774;(i$5774=0);;$5772:for(;(i$5774<this.length);(i$5774++)){if(($5862(this,i$5774)!==$5862(value$5769,i$5774))){return false;}}return true;}else{return false;}});(Array.prototype[":::project"]=function(value$5783){if((value$5783 instanceof Array)){var i$5788;(i$5788=0);;$5786:for(;(i$5788<this.length);(i$5788++)){if(($5862(this,i$5788)!==$5862(value$5783,i$5788))){return [true,[value$5783]];}}return [true,value$5783.slice(this.length)];}else{return [true,[value$5783]];}});(Array.prototype[":::deconstruct"]=function(value$5797){return [true,value$5797.slice(this.length)];});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($5863));});(RegExp.prototype["::check"]=function(value$5802){return value$5802.match(this);});(RegExp.prototype[":::project"]=function(value$5805){var m$5807$5809;(m$5807$5809=value$5805.match(this));;var m$5817;if((m$5807$5809===null)){(m$5817=m$5807$5809);return [false,null];}else{var m$5822;(m$5822=m$5807$5809);return [true,m$5822];}});(RegExp.prototype[":::deconstruct"]=function(value$5825){var m$5827$5829;(m$5827$5829=value$5825.match(this));;var m$5837;if((m$5827$5829===null)){(m$5837=m$5827$5829);return [false,null];}else{var m$5842;(m$5842=m$5827$5829);return [true,m$5842];}});(Function.prototype["::send"]=function(args$5845){return this.apply(this,args$5845);});
var $6836=function(dest$6838,values$6839){var k$6844;(k$6844=null);$6842:for(k$6844 in values$6839){if(values$6839.hasOwnProperty(k$6844)){(dest$6838[k$6844]=values$6839[k$6844]);}}return dest$6838;};
var $6730=function(){var $6731$6733;($6731$6733=function(tags$6737){var it$0$6740;(it$0$6740=function(){if((!$5847($6731$6733)(this))){return Object.create($6731$6733.prototype);}else{return this;}}());;(it$0$6740["tags"]=tags$6737);return it$0$6740;});;($6731$6733.prototype["create"]=function(){var m$6749$6751;(m$6749$6751=arguments);;var t0$6756;var message$6760;var args$6761;(t0$6756=m$6749$6751.length);if((t0$6756>=0)){(message$6760=function(){if((0>=t0$6756)){return "";}else{return m$6749$6751[0];}}());(args$6761=Array.prototype.slice.call(m$6749$6751,1));var it$0$6765;(it$0$6765=this);;var e$6770;(e$6770=Error(message$6760));;(e$6770["::tags"]=it$0$6765.tags);(e$6770["args"]=args$6761);(e$6770["name"]=["E"].concat(it$0$6765.tags).join("."));return e$6770;}else{throw Error("mismatch!!");}});($6731$6733.prototype["::check"]=function(e$6779){var it$0$6782;(it$0$6782=this);;var tags$6787;if(((!e$6779)||(!$5847(Error)(e$6779)))){return false;}(tags$6787=(e$6779["::tags"]||[]));;var temp$6795;(temp$6795=it$0$6782.tags);;var len$6800;(len$6800=temp$6795.length);;var i$6805;(i$6805=0);;$6792:for(;(i$6805<len$6800);(i$6805++)){var m$6813;(m$6813=temp$6795[i$6805]);;var tag$6821;(tag$6821=m$6813);if((tags$6787.indexOf(tag$6821)===(-1))){return false;}else{false;;}}return true;});($6731$6733.prototype["::deconstruct"]=function(e$6829){var it$0$6832;(it$0$6832=this);;return e$6829.args;});$6836($6731$6733,({}));return $6731$6733;}();
var $6848=function(type$6850){return function(value$6853){var f$6856;(f$6856=type$6850[":::project"]);;if((f$6856===(void 0))){var f$6861;(f$6861=type$6850["::project"]);;if((f$6861===(void 0))){return [true,type$6850(value$6853)];}else{var rval$6866;(rval$6866=false);;try{(rval$6866=[true,f$6861(value$6853)]);}catch(excv$6872){var e$6878;(e$6878=excv$6872);(rval$6866=[false,null]);}return rval$6866;}}else{return f$6856.call(type$6850,value$6853);}};};var $5895$5896;var __lt____lt____colon__$5897;var __plus____plus____colon__$5898;var transform$5899;var MAX$5900;var order_map$5901;var DONE$5902;var NONE$5903;var LEFT$5904;var RIGHT$5905;var BOTH$5906;var oparse$5907;var consult$5908;var order$5909;var finalize$5910;var parse$5911;($5895$5896=require("./location"));;(__lt____lt____colon__$5897=$5895$5896["<<:"]);;(__plus____plus____colon__$5898=$5895$5896["++:"]);;(transform$5899=function(expr$5924,cb$5925){var rval$5939;var tr$5928;var result$5929;(tr$5928=function(x$5933){return transform$5899(x$5933,cb$5925);});;(result$5929=(((rval$5939=false)),(function(){try{(rval$5939=cb$5925.call(tr$5928,expr$5924));}catch(excv$5945){var name$5985;var args$5986;var v$5980;var s$5975;var $5954$5965;var $5955$5966;var $5956$5967;var t0$5963;var m$5953$5958;var e$5951;(e$5951=excv$5945);(rval$5939=(((m$5953$5958=expr$5924)),function(){if((($5954$5965=(m$5953$5958 instanceof Array))&&((t0$5963=m$5953$5958.length),((t0$5963===1)&&(m$5953$5958[0]==="void"))))){return ["void"];}else{if(($5954$5965&&(($5956$5967=(t0$5963===2))&&(m$5953$5958[0]==="symbol")))){(s$5975=m$5953$5958[1]);return expr$5924;}else{if(($5956$5967&&(m$5953$5958[0]==="value"))){(v$5980=m$5953$5958[1]);return expr$5924;}else{if(($5954$5965&&(t0$5963>=1))){(name$5985=m$5953$5958[0]);(args$5986=Array.prototype.slice.call(m$5953$5958,1));return [name$5985].concat(args$5986.map(tr$5928));}else{throw Error("mismatch!!");}}}}}()));}}(),rval$5939)));;return __lt____lt____colon__$5897(result$5929,expr$5924);});;(MAX$5900=(1/0));;(order_map$5901=({"IFX":({"wide":({",":[[15,1],[15,1]],"with":[[15,1999],[15,10]],"each":[[15,11],[15,10]],"where":[[15,11],[15,10]],"!!":[[15,11],[15,10]],"|>":[[15,11],[15,10]],"->":[[15,11],[15,10]],"=>":[[15,11],[15,10]],"=":[[15,11],[15,10]],":=":[[15,11],[15,10]],"+=":[[15,11],[15,10]],"-=":[[15,11],[15,10]],"*=":[[15,11],[15,10]],"/=":[[15,11],[15,10]],"<<=":[[15,11],[15,10]],">>=":[[15,11],[15,10]],">>>=":[[15,11],[15,10]],"++=":[[15,11],[15,10]],"?=":[[15,11],[15,10]],"%":[[15,11],[15,10]],"when":[[15,100],[15,101]],"||":[[15,110],[15,111]],"&&":[[15,120],[15,121]],"or":[[15,110],[15,111]],"and":[[15,120],[15,121]],"not":[[15,130],[15,131]],"==":[[15,200],[15,201]],"!=":[[15,200],[15,201]],">=":[[15,200],[15,201]],"<=":[[15,200],[15,201]],">":[[15,200],[15,201]],"<":[[15,200],[15,201]],"^.":[[15,400],[15,401]],"|.":[[15,410],[15,411]],"&.":[[15,420],[15,421]],"<<":[[1,500],[1,501]],">>":[[1,500],[1,501]],">>>":[[1,500],[1,501]],"+":[[1,550],[1,551]],"-":[[1,550],[1,551]],"*":[[1,560],[1,561]],"/":[[1,560],[1,561]],"mod":[[1,560],[1,561]],"**":[[1,571],[1,570]],"DEFAULT":[[8,900],[4,901]],"WHITE":[[15,1002],[15,1001]],":":[[15,1001],[15,2]]}),"short":({"DEFAULT":[[15,1800],[15,1801]],"WHITE":[[15,2000],[15,2001]],",":[[15,1],[15,1]],":":[[15,1001],[15,2]]})}),"PFX":({"wide":({"DEFAULT":[[15,MAX$5900],[15,900]],"when":[[15,MAX$5900],[15,101]],"not":[[15,MAX$5900],[15,131]],".":[[15,MAX$5900],[15,3000]],"#":[[15,MAX$5900],[15,3000]],"~":[[15,MAX$5900],[15,3000]],"@":[[15,MAX$5900],[15,3000]],"<>":[[15,MAX$5900],[15,5]],"(":[[15,MAX$5900],[15,1]],"[":[[15,MAX$5900],[15,1]],"{":[[15,MAX$5900],[15,1]]}),"short":({"DEFAULT":[[15,MAX$5900],[15,1901]],".":[[15,MAX$5900],[15,3000]],"#":[[15,MAX$5900],[15,3000]],"~":[[15,MAX$5900],[15,3000]],"@":[[15,MAX$5900],[15,3000]],"(":[[15,MAX$5900],[15,1]],"[":[[15,MAX$5900],[15,1]],"{":[[15,MAX$5900],[15,1]]})}),"SFX":({"wide":({"DEFAULT":[[15,901],[15,MAX$5900]],")":[[15,1],[15,MAX$5900]],"]":[[15,1],[15,MAX$5900]],"}":[[15,1],[15,MAX$5900]]}),"short":({"DEFAULT":[[15,1900],[15,MAX$5900]],")":[[15,1],[15,MAX$5900]],"]":[[15,1],[15,MAX$5900]],"}":[[15,1],[15,MAX$5900]]})})}));;(DONE$5902=(-1));;(NONE$5903=0);;(LEFT$5904=1);;(RIGHT$5905=2);;(BOTH$5906=3);;(oparse$5907=function(next$6017,order$6018,finalize$6019){var between$6023;var right_op$6024;var stack$6025;var left_op$6026;var current$6027;(between$6023=finalize$6019(next$6017()));;(right_op$6024=next$6017());;(stack$6025=[]);;(left_op$6026=null);;(current$6027=null);;$6022:while(true){var v$6067;var other$6083;var m$6046$6052;var o$6047;(o$6047=function(){if(((!left_op$6026)&&(!right_op$6024))){return DONE$5902;}else{return ((((!left_op$6026)&&RIGHT$5905)||((!right_op$6024)&&LEFT$5904))||order$6018(left_op$6026,right_op$6024));}}());;(m$6046$6052=o$6047);;if((m$6046$6052===DONE$5902)){return between$6023;}else{if((m$6046$6052===LEFT$5904)){current$6027.push(between$6023);(between$6023=finalize$6019(current$6027));(v$6067=stack$6025.pop());;(left_op$6026=v$6067[0]);(current$6027=v$6067[1]);}else{if((m$6046$6052===RIGHT$5905)){stack$6025.push([left_op$6026,current$6027]);(left_op$6026=right_op$6024);(current$6027=[[right_op$6024],between$6023]);(between$6023=finalize$6019(next$6017()));(right_op$6024=next$6017());}else{if((m$6046$6052===BOTH$5906)){current$6027[0].push(right_op$6024);current$6027.push(between$6023);(left_op$6026=right_op$6024);(between$6023=finalize$6019(next$6017()));(right_op$6024=next$6017());}else{(other$6083=m$6046$6052);throw $6730(["should_never_happen"]).create("undefined priority",({"left":left_op$6026,"right":right_op$6024}));}}}}}});;(consult$5908=function(temp$6088$6090){var t0$6096;var t1$6097;var map$6103;var fixity$6092;var width$6093;var op$6094;(t0$6096=temp$6088$6090);if(((t0$6096 instanceof Array)&&((t1$6097=t0$6096.length),(t1$6097===3)))){(fixity$6092=t0$6096[0]);(width$6093=t0$6096[1]);(op$6094=t0$6096[2]);;}else{throw Error("Mismatch");}(map$6103=$5862($5862(order_map$5901,fixity$6092),width$6093));;return ($5862(map$6103,op$6094)||map$6103.DEFAULT);});;(order$5909=function(o1$6111,o2$6112){var t0$6122;var t1$6123;var t0$6129;var t1$6130;var $6116$6142;var m$6115$6136;var code1$6117;var ord1$6118;var code2$6119;var ord2$6120;(t0$6122=consult$5908(o1$6111)[1]);if(((t0$6122 instanceof Array)&&((t1$6123=t0$6122.length),(t1$6123===2)))){(code1$6117=t0$6122[0]);(ord1$6118=t0$6122[1]);;}else{throw Error("Mismatch");}(t0$6129=consult$5908(o2$6112)[0]);if(((t0$6129 instanceof Array)&&((t1$6130=t0$6129.length),(t1$6130===2)))){(code2$6119=t0$6129[0]);(ord2$6120=t0$6129[1]);;}else{throw Error("Mismatch");}(m$6115$6136=null);;m$6115$6136;if(((code1$6117&code2$6119)===0)){throw $6730(["syntax","order"]).create("Cannot mix operators in the given order",({"left":o1$6111,"right":o2$6112}));}else{if((ord1$6118>ord2$6120)){return LEFT$5904;}else{if((ord1$6118<ord2$6120)){return RIGHT$5905;}else{if((ord1$6118===ord2$6120)){return BOTH$5906;}else{throw Error("mismatch!!");}}}}});;(finalize$5910=function(temp$6164$6166){var t0$6175;var i$6249;var len$6244;var temp$6239;var i$6280;var len$6275;var temp$6270;var i$6318;var len$6313;var temp$6308;var acc$6303;var other$6545;var args$6540;var f$6528;var orig_args$6529;var args$6530;var $6503$6515;var $6504$6516;var t0$6511;var t1$6512;var t2$6513;var m$6502$6506;var inserted$6399;var result$6400;var f$6556;var other$6614;var x$6608;var $6589$6599;var $6590$6600;var t0$6597;var m$6588$6592;var result$6553;var f$6622;var oloc$6689;var abloc$6690;var oabloc$6691;var rval$6692;var a$6684;var b$6685;var $6219$6669;var $6220$6670;var $6221$6671;var $6222$6672;var t0$6662;var t1$6663;var t2$6664;var t3$6665;var t4$6666;var t5$6667;var other$6709;var ph$6218$6658;var target$6385;var _b$6386;var body$6387;var f$6377;var body$6378;var f$6365;var arg$6366;var body$6367;var $6223$6356;var $6224$6357;var $6225$6358;var $6226$6359;var $6227$6360;var $6228$6361;var $6229$6362;var t0$6345;var t1$6346;var t2$6347;var t3$6348;var t4$6349;var t5$6350;var t6$6351;var t7$6352;var t8$6353;var bridge$6217$6354;var m$6216$6340;var sumloc$6230;var orig_ops$6231;var op$6232;var other$6713;var ops$6211;var args$6212;var value$6202;var value$6197;var value$6191;var $6169$6186;var $6170$6187;var $6171$6188;var t0$6184;var m$6168$6179;var ph$6172;var token$6173;(t0$6175=temp$6164$6166);(token$6173=t0$6175);(ph$6172=t0$6175);;(m$6168$6179=ph$6172);;if((($6169$6186=(m$6168$6179 instanceof Array))&&((t0$6184=m$6168$6179.length),(($6171$6188=(t0$6184===2))&&(m$6168$6179[0]==="ID"))))){(value$6191=m$6168$6179[1]);return __lt____lt____colon__$5897(["symbol",value$6191],token$6173);}else{if(($6171$6188&&(m$6168$6179[0]==="NUM"))){(value$6197=m$6168$6179[1]);return __lt____lt____colon__$5897(["value",value$6197],token$6173);}else{if(($6171$6188&&(m$6168$6179[0]==="STR"))){(value$6202=m$6168$6179[1]);return __lt____lt____colon__$5897(["value",value$6202],token$6173);}else{if(($6169$6186&&((t0$6184===1)&&(m$6168$6179[0]==="VOID")))){return __lt____lt____colon__$5897(["void"],token$6173);}else{if(($6169$6186&&(t0$6184>=1))){(ops$6211=m$6168$6179[0]);(args$6212=Array.prototype.slice.call(m$6168$6179,1));(sumloc$6230=ops$6211[0].location);;(temp$6239=ops$6211.slice(1));;(len$6244=temp$6239.length);;(i$6249=0);;$6236:for(;(i$6249<len$6244);(i$6249++)){var op$6265;var m$6257;(m$6257=temp$6239[i$6249]);;(op$6265=m$6257);(sumloc$6230=__plus____plus____colon__$5898(sumloc$6230,op$6265));}(temp$6270=args$6212);;(len$6275=temp$6270.length);;(i$6280=0);;$6267:for(;(i$6280<len$6275);(i$6280++)){var arg$6296;var m$6288;(m$6288=temp$6270[i$6280]);;(arg$6296=m$6288);(sumloc$6230=__plus____plus____colon__$5898(sumloc$6230,arg$6296));}(orig_ops$6231=ops$6211);;(ops$6211=(((acc$6303=[])),(((temp$6308=ops$6211)),(((len$6313=temp$6308.length)),(((i$6318=0)),function(){$6301:for(;(i$6318<len$6313);(i$6318++)){var o$6334;var m$6326;(m$6326=temp$6308[i$6318]);;(o$6334=m$6326);acc$6303.push(o$6334[2]);}}()))),acc$6303));(op$6232=ops$6211[0]);;(m$6216$6340=[ops$6211,args$6212]);;if((($6223$6356=(m$6216$6340 instanceof Array))&&((t0$6345=m$6216$6340.length),(($6225$6358=(t0$6345===2))&&((t1$6346=m$6216$6340[0]),(($6227$6360=(t1$6346 instanceof Array))&&((t2$6347=t1$6346.length),((t2$6347===2)&&((t1$6346[0]==="WHITE")&&((t1$6346[1]===":")&&((t3$6348=m$6216$6340[1]),((t3$6348 instanceof Array)&&((t4$6349=t3$6348.length),(t4$6349===3)))))))))))))){(f$6365=t3$6348[0]);(arg$6366=t3$6348[1]);(body$6367=t3$6348[2]);return __lt____lt____colon__$5897(["send",f$6365,__lt____lt____colon__$5897(["data",arg$6366,body$6367],__plus____plus____colon__$5898(arg$6366,body$6367))],sumloc$6230);}else{if(($6227$6360&&(($6229$6362=(t2$6347===1))&&((t1$6346[0]===":")&&((t3$6348=m$6216$6340[1]),((t3$6348 instanceof Array)&&((t4$6349=t3$6348.length),(t4$6349===2)))))))){(f$6377=t3$6348[0]);(body$6378=t3$6348[1]);return __lt____lt____colon__$5897(["send",f$6377,__lt____lt____colon__$5897(["data",body$6378],body$6378)],sumloc$6230);}else{if(($6229$6362&&((t1$6346[0]==="with")&&((t3$6348=m$6216$6340[1]),((t3$6348 instanceof Array)&&((t4$6349=t3$6348.length),((t4$6349===2)&&((target$6385=t3$6348[0]),((t5$6350=t3$6348[1]),((_b$6386=t5$6350),((t6$6351=$6848(["multi"])(t5$6350)),(t6$6351[0]&&((t7$6352=t6$6351[1]),((t8$6353=t7$6352.length),(t8$6353>=0))))))))))))))){(body$6387=Array.prototype.slice.call(t7$6352,0));(inserted$6399=false);;(result$6400=transform$5899(target$6385,function(temp$6406$6408){var t0$6414;var i$6473;var len$6468;var temp$6463;var tr$6452;var res$6453;var args$6447;var x$6435;var f$6436;var a$6437;var b$6438;var t0$6423;var t1$6424;var t2$6425;var m$6410$6418;var ph$6411;var expr$6412;(t0$6414=temp$6406$6408);(expr$6412=t0$6414);(ph$6411=t0$6414);;(m$6410$6418=ph$6411);;if(((m$6410$6418 instanceof Array)&&((t0$6423=m$6410$6418.length),((t0$6423===2)&&((m$6410$6418[0]==="symbol")&&(m$6410$6418[1]==="...")))))){(inserted$6399=true);return __lt____lt____colon__$5897(["multi"].concat(body$6387),_b$6386);}else{(x$6435=m$6410$6418);if((x$6435.fromop&&((m$6410$6418 instanceof Array)&&((t0$6423=m$6410$6418.length),((t0$6423===3)&&((m$6410$6418[0]==="send")&&((f$6436=m$6410$6418[1]),((t1$6424=m$6410$6418[2]),((t1$6424 instanceof Array)&&((t2$6425=t1$6424.length),((t2$6425===3)&&(t1$6424[0]==="data")))))))))))){(a$6437=t1$6424[1]);(b$6438=t1$6424[2]);return ["send",this(f$6436),__lt____lt____colon__$5897(["data",this(a$6437),this(b$6438)],__plus____plus____colon__$5898(a$6437,b$6438))];}else{if(((m$6410$6418 instanceof Array)&&((t0$6423=m$6410$6418.length),((t0$6423>=1)&&(m$6410$6418[0]==="data"))))){(args$6447=Array.prototype.slice.call(m$6410$6418,1));(tr$6452=this);;(res$6453=["data"]);;(temp$6463=args$6447);;(len$6468=temp$6463.length);;(i$6473=0);;$6460:for(;(i$6473<len$6468);(i$6473++)){var other$6497;var t0$6486;var t1$6487;var m$6481;(m$6481=temp$6463[i$6473]);;(t0$6486=m$6481);if(((t0$6486 instanceof Array)&&((t1$6487=t0$6486.length),((t1$6487===2)&&((t0$6486[0]==="symbol")&&(t0$6486[1]==="...")))))){(inserted$6399=true);(res$6453=res$6453.concat(body$6387));}else{(other$6497=m$6481);res$6453.push(__lt____lt____colon__$5897(tr$6452(other$6497),other$6497));}}return __lt____lt____colon__$5897(res$6453,expr$6412);}else{throw Error("mismatch!!");}}}}));;if((!inserted$6399)){(m$6502$6506=target$6385);;if(((m$6502$6506 instanceof Array)&&((t0$6511=m$6502$6506.length),((t0$6511===1)&&(m$6502$6506[0]==="void"))))){return __lt____lt____colon__$5897(["data"].concat(body$6387),sumloc$6230);}else{m$6502$6506;if(target$6385.fromop){return __lt____lt____colon__$5897(["send",target$6385,__lt____lt____colon__$5897(["data"].concat(body$6387),_b$6386)],sumloc$6230);}else{if((($6503$6515=(m$6502$6506 instanceof Array))&&((t0$6511=m$6502$6506.length),((t0$6511===3)&&((m$6502$6506[0]==="send")&&((f$6528=m$6502$6506[1]),((t1$6512=m$6502$6506[2]),((orig_args$6529=t1$6512),((t1$6512 instanceof Array)&&((t2$6513=t1$6512.length),((t2$6513>=1)&&(t1$6512[0]==="data")))))))))))){(args$6530=Array.prototype.slice.call(t1$6512,1));return __lt____lt____colon__$5897(["send",f$6528,__lt____lt____colon__$5897(["data"].concat(args$6530).concat(body$6387),__plus____plus____colon__$5898(orig_args$6529,_b$6386))],sumloc$6230);}else{if(($6503$6515&&((t0$6511>=1)&&(m$6502$6506[0]==="data")))){(args$6540=Array.prototype.slice.call(m$6502$6506,1));return __lt____lt____colon__$5897(target$6385.concat(body$6387),sumloc$6230);}else{(other$6545=m$6502$6506);return __lt____lt____colon__$5897(["send",target$6385,__lt____lt____colon__$5897(["data"].concat(body$6387),_b$6386)],sumloc$6230);}}}}}else{return __lt____lt____colon__$5897(result$6400,sumloc$6230);}}else{if(($6227$6360&&(($6229$6362=(t2$6347>=1))&&((bridge$6217$6354=t1$6346[0]),((bridge$6217$6354==="[")||(bridge$6217$6354===",")))))){Array.prototype.slice.call(t1$6346,1);m$6216$6340[1];if((op$6232==="[")){(args$6212=args$6212.slice(1,(-1)));}(args$6212=(((f$6556=function(temp$6559$6561){var other$6583;var t0$6574;var m$6563$6569;var ph$6564;(ph$6564=temp$6559$6561);;(m$6563$6569=ph$6564);;if(((m$6563$6569 instanceof Array)&&((t0$6574=m$6563$6569.length),((t0$6574===1)&&(m$6563$6569[0]==="void"))))){return false;}else{(other$6583=m$6563$6569);return true;}})),args$6212.filter(f$6556)));(result$6553=(((m$6588$6592=args$6212)),function(){if((($6589$6599=(m$6588$6592 instanceof Array))&&((t0$6597=m$6588$6592.length),(t0$6597===0)))){return ["value",(void 0)];}else{if(($6589$6599&&(t0$6597===1))){(x$6608=m$6588$6592[0]);(x$6608["location"]=sumloc$6230);return x$6608;}else{(other$6614=m$6588$6592);return ["multi"].concat(args$6212);}}}()));;return __lt____lt____colon__$5897(result$6553,sumloc$6230);}else{if(($6229$6362&&(t1$6346[0]==="{"))){Array.prototype.slice.call(t1$6346,1);m$6216$6340[1];(f$6622=function(temp$6625$6627){var other$6649;var t0$6640;var m$6629$6635;var ph$6630;(ph$6630=temp$6625$6627);;(m$6629$6635=ph$6630);;if(((m$6629$6635 instanceof Array)&&((t0$6640=m$6629$6635.length),((t0$6640===1)&&(m$6629$6635[0]==="void"))))){return false;}else{(other$6649=m$6629$6635);return true;}});;return __lt____lt____colon__$5897(["data"].concat(args$6212.slice(1,(-1)).filter(f$6622)),sumloc$6230);}else{if(($6227$6360&&(($6229$6362=(t2$6347===1))&&(t1$6346[0]==="WHITE")))){m$6216$6340[1];return __lt____lt____colon__$5897(["send"].concat(args$6212),sumloc$6230);}else{if($6229$6362){t1$6346[0];(ph$6218$6658=m$6216$6340[1]);(t0$6662=ph$6218$6658);if((($6220$6670=(t0$6662 instanceof Array))&&((t1$6663=t0$6662.length),(($6222$6672=(t1$6663===2))&&((t2$6664=t0$6662[0]),((t2$6664 instanceof Array)&&((t3$6665=t2$6664.length),((t3$6665===1)&&((t2$6664[0]==="void")&&((t4$6666=t0$6662[1]),((t4$6666 instanceof Array)&&((t5$6667=t4$6666.length),((t5$6667===1)&&(t4$6666[0]==="void")))))))))))))){return __lt____lt____colon__$5897(["symbol",op$6232],orig_ops$6231[0]);}else{if($6222$6672){(a$6684=t0$6662[0]);(b$6685=t0$6662[1]);(oloc$6689=orig_ops$6231[0].location);;(abloc$6690=__plus____plus____colon__$5898(a$6684,b$6685));;(oabloc$6691=__plus____plus____colon__$5898(orig_ops$6231[0],abloc$6690));;(rval$6692=__lt____lt____colon__$5897(["send",__lt____lt____colon__$5897(["symbol",op$6232],oloc$6689),__lt____lt____colon__$5897(["data",a$6684,b$6685],abloc$6690)],__plus____plus____colon__$5898(oloc$6689,abloc$6690)));;(rval$6692["fromop"]=true);return rval$6692;}else{throw Error("mismatch!!");}}}else{(other$6709=m$6216$6340);throw $6730(["should_never_happen"]).create("unknown node",({"node":token$6173}));}}}}}}}}else{(other$6713=m$6168$6179);throw $6730(["should_never_happen"]).create("unknown node (B)",({"node":token$6173}));}}}}}});;(parse$5911=function(tokens$6719){var next$6722;(next$6722=function(){return tokens$6719.shift();});;return oparse$5907(next$6722,order$5909,finalize$5910);});;(exports["parse"]=parse$5911);
