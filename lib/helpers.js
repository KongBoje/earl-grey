var τ26=function(type$3499){var f$3502;(f$3502=type$3499["::check"]);;if((f$3502===(void 0))){return function(value$3507){return (value$3507 instanceof type$3499);};}else{return function(value$3510){return f$3502.call(type$3499,value$3510);};}};
var τ27=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var τ28=function(temp$3512$3514){var ph$3518;(ph$3518=temp$3512$3514);;var m$3516$3523;(m$3516$3523=ph$3518);;var bridge$3517$3528;var x$3532;(bridge$3517$3528=m$3516$3523);if((((typeof(bridge$3517$3528)==="string")&&((x$3532=bridge$3517$3528),true))||((typeof(bridge$3517$3528)==="number")&&((x$3532=bridge$3517$3528),true)))){return ["value",x$3532];}else{var other$3539;(other$3539=m$3516$3523);return other$3539["::serialize_ast"]();}};
var send$3361;(send$3361=function(obj$3366,temp$3364$3367){var ph$3371;var msg$3372;var t0$3374;(t0$3374=temp$3364$3367);(msg$3372=t0$3374);(ph$3371=t0$3374);;var m$3369$3378;(m$3369$3378=ph$3371);;var bridge$3370$3383;(bridge$3370$3383=m$3369$3378);if(((typeof(bridge$3370$3383)==="string")||(typeof(bridge$3370$3383)==="number"))){return obj$3366[msg$3372];}else{var other$3391;(other$3391=m$3369$3378);return obj$3366["::send"](msg$3372);}});;(Array[":::project"]=function(temp$3394$3396){var ph$3399;var value$3400;var t0$3402;(t0$3402=temp$3394$3396);(value$3400=t0$3402);(ph$3399=t0$3402);;var m$3398$3406;(m$3398$3406=ph$3399);;if(τ26(Array)(m$3398$3406)){return [true,value$3400];}else{m$3398$3406;return [true,[value$3400]];}});(Array.prototype["::check"]=function(value$3420){if((value$3420 instanceof Array)){var i$3425;(i$3425=0);;$3423:for(;(i$3425<this.length);(i$3425++)){if((τ27(this,i$3425)!==τ27(value$3420,i$3425))){return false;}}return true;}else{return false;}});(Array.prototype[":::project"]=function(value$3434){if((value$3434 instanceof Array)){var i$3439;(i$3439=0);;$3437:for(;(i$3439<this.length);(i$3439++)){if((τ27(this,i$3439)!==τ27(value$3434,i$3439))){return [true,[value$3434]];}}return [true,value$3434.slice(this.length)];}else{return [true,[value$3434]];}});(Array.prototype[":::deconstruct"]=function(value$3448){return [true,value$3448.slice(this.length)];});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map(τ28));});(RegExp.prototype["::check"]=function(value$3453){return value$3453.match(this);});(RegExp.prototype[":::project"]=function(value$3456){var m$3458$3460;(m$3458$3460=value$3456.match(this));;var m$3468;if((m$3458$3460===null)){(m$3468=m$3458$3460);return [false,null];}else{var m$3473;(m$3473=m$3458$3460);return [true,m$3473];}});(RegExp.prototype[":::deconstruct"]=function(value$3476){var m$3478$3480;(m$3478$3480=value$3476.match(this));;var m$3488;if((m$3478$3480===null)){(m$3488=m$3478$3480);return [false,null];}else{var m$3493;(m$3493=m$3478$3480);return [true,m$3493];}});(Function.prototype["::send"]=function(args$3496){return this.apply(this,args$3496);});var $3543$3544;var __lt____lt____colon__$3545;var aslist$3546;var transform$3547;var gensym_factory$3548;var gensym$3549;($3543$3544=require("./location"));;(__lt____lt____colon__$3545=$3543$3544["<<:"]);;(aslist$3546=function(temp$3558$3560){var other$3583;var args$3577;var t0$3573;var m$3562$3568;var ph$3563;(ph$3563=temp$3558$3560);;(m$3562$3568=ph$3563);;if(((m$3562$3568 instanceof Array)&&((t0$3573=m$3562$3568.length),((t0$3573>=1)&&(m$3562$3568[0]==="multi"))))){(args$3577=Array.prototype.slice.call(m$3562$3568,1));return args$3577;}else{(other$3583=m$3562$3568);return [other$3583];}});;(transform$3547=function(expr$3589,cb$3590){var rval$3604;var tr$3593;var result$3594;(tr$3593=function(x$3598){return transform$3547(x$3598,cb$3590);});;(result$3594=(((rval$3604=false)),(function(){try{(rval$3604=cb$3590.call(tr$3593,expr$3589));}catch(excv$3610){var name$3650;var args$3651;var v$3645;var s$3640;var $3619$3630;var $3620$3631;var $3621$3632;var t0$3628;var m$3618$3623;var e$3616;(e$3616=excv$3610);(rval$3604=(((m$3618$3623=expr$3589)),function(){if((($3619$3630=(m$3618$3623 instanceof Array))&&((t0$3628=m$3618$3623.length),((t0$3628===1)&&(m$3618$3623[0]==="void"))))){return ["void"];}else{if(($3619$3630&&(($3621$3632=(t0$3628===2))&&(m$3618$3623[0]==="symbol")))){(s$3640=m$3618$3623[1]);return expr$3589;}else{if(($3621$3632&&(m$3618$3623[0]==="value"))){(v$3645=m$3618$3623[1]);return expr$3589;}else{if(($3619$3630&&(t0$3628>=1))){(name$3650=m$3618$3623[0]);(args$3651=Array.prototype.slice.call(m$3618$3623,1));return [name$3650].concat(args$3651.map(tr$3593));}else{throw Error("mismatch!!");}}}}}()));}}(),rval$3604)));;return __lt____lt____colon__$3545(result$3594,expr$3589);});;(gensym_factory$3548=function(prefix$3661){var id$3664;(prefix$3661=("τ"+prefix$3661));(id$3664=0);;return function(){var name$3671;(name$3671=(prefix$3661+String(id$3664)));;(id$3664=(id$3664+1));return ["symbol",name$3671];};});;(gensym$3549=gensym_factory$3548(""));;(exports["aslist"]=aslist$3546);(exports["transform"]=transform$3547);(exports["gensym"]=gensym$3549);(exports["gensym_factory"]=gensym_factory$3548);
