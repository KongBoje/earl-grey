var $17233=function(type$17235){var f$17238;(f$17238=type$17235["::check"]);;if((f$17238===(void 0))){return function(value$17243){return (value$17243 instanceof type$17235);};}else{return function(value$17246){return f$17238.call(type$17235,value$17246);};}};
var $17248=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $17249=function(temp$17250$17252){var ph$17256;(ph$17256=temp$17250$17252);;var m$17254$17261;(m$17254$17261=ph$17256);;var bridge$17255$17266;var x$17270;(bridge$17255$17266=m$17254$17261);if((((typeof(bridge$17255$17266)==="string")&&((x$17270=bridge$17255$17266),true))||((typeof(bridge$17255$17266)==="number")&&((x$17270=bridge$17255$17266),true)))){return ["value",x$17270];}else{var other$17277;(other$17277=m$17254$17261);return other$17277["::serialize_ast"]();}};
var send$17096;(send$17096=function(obj$17101,temp$17099$17102){var ph$17106;var msg$17107;var t0$17109;(t0$17109=temp$17099$17102);(msg$17107=t0$17109);(ph$17106=t0$17109);;var m$17104$17113;(m$17104$17113=ph$17106);;var bridge$17105$17118;(bridge$17105$17118=m$17104$17113);if(((typeof(bridge$17105$17118)==="string")||(typeof(bridge$17105$17118)==="number"))){return obj$17101[msg$17107];}else{var other$17126;(other$17126=m$17104$17113);return obj$17101["::send"](msg$17107);}});;(Array[":::project"]=function(temp$17129$17131){var ph$17134;var value$17135;var t0$17137;(t0$17137=temp$17129$17131);(value$17135=t0$17137);(ph$17134=t0$17137);;var m$17133$17141;(m$17133$17141=ph$17134);;if($17233(Array)(m$17133$17141)){return [true,value$17135];}else{m$17133$17141;return [true,[value$17135]];}});(Array.prototype["::check"]=function(value$17155){if((value$17155 instanceof Array)){var i$17160;(i$17160=0);;$17158:for(;(i$17160<this.length);(i$17160++)){if(($17248(this,i$17160)!==$17248(value$17155,i$17160))){return false;}}return true;}else{return false;}});(Array.prototype[":::project"]=function(value$17169){if((value$17169 instanceof Array)){var i$17174;(i$17174=0);;$17172:for(;(i$17174<this.length);(i$17174++)){if(($17248(this,i$17174)!==$17248(value$17169,i$17174))){return [true,[value$17169]];}}return [true,value$17169.slice(this.length)];}else{return [true,[value$17169]];}});(Array.prototype[":::deconstruct"]=function(value$17183){return [true,value$17183.slice(this.length)];});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($17249));});(RegExp.prototype["::check"]=function(value$17188){return value$17188.match(this);});(RegExp.prototype[":::project"]=function(value$17191){var m$17193$17195;(m$17193$17195=value$17191.match(this));;var m$17203;if((m$17193$17195===null)){(m$17203=m$17193$17195);return [false,null];}else{var m$17208;(m$17208=m$17193$17195);return [true,m$17208];}});(RegExp.prototype[":::deconstruct"]=function(value$17211){var m$17213$17215;(m$17213$17215=value$17211.match(this));;var m$17223;if((m$17213$17215===null)){(m$17223=m$17213$17215);return [false,null];}else{var m$17228;(m$17228=m$17213$17215);return [true,m$17228];}});(Function.prototype["::send"]=function(args$17231){return this.apply(this,args$17231);});
var $18814=function(dest$18816,values$18817){var k$18822;(k$18822=null);$18820:for(k$18822 in values$18817){if(values$18817.hasOwnProperty(k$18822)){(dest$18816[k$18822]=values$18817[k$18822]);}}return dest$18816;};
var $18708=function(){var $18709$18711;($18709$18711=function(tags$18715){var it$0$18718;(it$0$18718=function(){if((!$17233($18709$18711)(this))){return Object.create($18709$18711.prototype);}else{return this;}}());;(it$0$18718["tags"]=tags$18715);return it$0$18718;});;($18709$18711.prototype["create"]=function(){var m$18727$18729;(m$18727$18729=arguments);;var t0$18734;var message$18738;var args$18739;(t0$18734=m$18727$18729.length);if((t0$18734>=0)){(message$18738=function(){if((0>=t0$18734)){return "";}else{return m$18727$18729[0];}}());(args$18739=Array.prototype.slice.call(m$18727$18729,1));var it$0$18743;(it$0$18743=this);;var e$18748;(e$18748=Error(message$18738));;(e$18748["::tags"]=it$0$18743.tags);(e$18748["args"]=args$18739);(e$18748["name"]=["E"].concat(it$0$18743.tags).join("."));return e$18748;}else{throw Error("mismatch!!");}});($18709$18711.prototype["::check"]=function(e$18757){var it$0$18760;(it$0$18760=this);;var tags$18765;if(((!e$18757)||(!$17233(Error)(e$18757)))){return false;}(tags$18765=(e$18757["::tags"]||[]));;var temp$18773;(temp$18773=it$0$18760.tags);;var len$18778;(len$18778=temp$18773.length);;var i$18783;(i$18783=0);;$18770:for(;(i$18783<len$18778);(i$18783++)){var m$18791;(m$18791=temp$18773[i$18783]);;var tag$18799;(tag$18799=m$18791);if((tags$18765.indexOf(tag$18799)===(-1))){return false;}else{false;;}}return true;});($18709$18711.prototype["::deconstruct"]=function(e$18807){var it$0$18810;(it$0$18810=this);;return e$18807.args;});$18814($18709$18711,({}));return $18709$18711;}();
var $18826=function(temp$18827$18829,key$18830){var ph$18834;(ph$18834=temp$18827$18829);;var m$18832$18839;(m$18832$18839=ph$18834);;var bridge$18833$18844;(bridge$18833$18844=m$18832$18839);if(((bridge$18833$18844===null)||(bridge$18833$18844===(void 0)))){return false;}else{var x$18852;if((typeof(m$18832$18839)==="string")){(x$18852=m$18832$18839);return (key$18830 in String.prototype);}else{var x$18857;if((typeof(m$18832$18839)==="number")){(x$18857=m$18832$18839);return (key$18830 in Number.prototype);}else{var x$18862;(x$18862=m$18832$18839);return (key$18830 in x$18862);}}}};var $17281$17283;var items$17284;var gensym$17285;var $17282$17286;var __lt____gt__$17287;var aslist$17288;var js_op_table2$17289;var js_op_table$17290;var Translator$17291;var translate$17292;($17281$17283=require("./util"));;(items$17284=$17281$17283.items);;(gensym$17285=$17281$17283.gensym);;($17282$17286=require("./pp"));;(__lt____gt__$17287=$17282$17286["<>"]);;(aslist$17288=function(temp$17310$17312){var other$17335;var args$17329;var t0$17325;var m$17314$17320;var ph$17315;(ph$17315=temp$17310$17312);;(m$17314$17320=ph$17315);;if(((m$17314$17320 instanceof Array)&&((t0$17325=m$17314$17320.length),((t0$17325>=1)&&(m$17314$17320[0]==="multi"))))){(args$17329=Array.prototype.slice.call(m$17314$17320,1));return args$17329;}else{(other$17335=m$17314$17320);return [other$17335];}});;(js_op_table2$17289=({"+":"+","-":"-","*":"*","/":"/","mod":"%","&.":"&","|.":"|","^.":"^","~":"~","and":"&&","or":"||","not":"!","==":"===","!=":"!==","===":"===","!==":"!==","<":"<",">":">","<=":"<=",">=":">=","<<":"<<",">>":">>",">>>":">>>","in":" in ","instanceof":" instanceof ","++":"++","--":"--"}));;(js_op_table$17290=({"___plus":"+","___minus":"-","___times":"*","___div":"/","___mod":"%","___binxor":"^","___binand":"&","___binor":"|","___binnot":"~","___and":"&&","___or":"||","___not":"!","___is":"===","___isnt":"!==","___eq":"===","___neq":"!==","___lt":"<","___gt":">","___lte":"<=","___gte":">=","___shl":"<<","___shr":">>","___shr2":">>>","___in":" in ","___instanceof":" instanceof ","___plusplus":"++","___minusminus":"--"}));;(Translator$17291=function(){var it$0$17362;var prelude$17358;var t0$17354;var m$17347$17349;(m$17347$17349=arguments);;(t0$17354=m$17347$17349.length);if(((t0$17354>=0)&&(t0$17354<=1))){(prelude$17358=function(){if((0>=t0$17354)){return null;}else{return m$17347$17349[0];}}());(it$0$17362=function(){if((!$17233(Translator$17291)(this))){return Object.create(Translator$17291.prototype);}else{return this;}}());;(it$0$17362["cache"]=({}));(it$0$17362["prepend"]=[]);if(prelude$17358){it$0$17362.prepend.push(it$0$17362.translate($17249(prelude$17358),"stmt"));}return it$0$17362;}else{throw Error("mismatch!!");}});;(Translator$17291.prototype["register_value"]=function(v$17375,id$17376){var temp$17396;var name$17402;var m$17379$17385;var it$0$17380;(it$0$17380=this);;(m$17379$17385=$17248(it$0$17380.cache,id$17376));;if((m$17379$17385===(void 0))){(temp$17396=["symbol",gensym$17285()]);;(it$0$17380.cache[id$17376]=temp$17396);it$0$17380.prepend.push(it$0$17380.translate(["declare",temp$17396,$17249(v$17375)],"stmt"));return temp$17396;}else{(name$17402=m$17379$17385);return name$17402;}});(Translator$17291.prototype["register_raw"]=function(raw$17407,id$17408){var temp$17428;var name$17434;var m$17411$17417;var it$0$17412;(it$0$17412=this);;(m$17411$17417=$17248(it$0$17412.cache,id$17408));;if((m$17411$17417===(void 0))){(temp$17428=["symbol",gensym$17285()]);;(it$0$17412.cache[id$17408]=temp$17428);it$0$17412.prepend.push(it$0$17412.translate(["declare",temp$17428,["raw",raw$17407]],"stmt"));return temp$17428;}else{(name$17434=m$17411$17417);return name$17434;}});(Translator$17291.prototype["dump_store"]=function(){var rval$17446;var it$0$17441;(it$0$17441=this);;(rval$17446=it$0$17441.prepend.join("\n"));;(it$0$17441["prepend"]=[]);return rval$17446;});(Translator$17291.prototype["mangle"]=function(name$17453){var i$17471;var tr$17462;var r$17463;var it$0$17456;(it$0$17456=this);;(tr$17462=({"+":"__plus__","-":"__minus__","*":"__asterisk__","/":"__slash__","%":"__percent__","^":"__caret__","#":"__hash__","&":"__amp__","|":"__pipe__","@":"__at__","!":"__bang__","?":"__qmark__","=":"__equal__","<":"__lt__",">":"__gt__","~":"__tilde__",".":"__dot__",":":"__colon__"}));;(r$17463=[]);;(i$17471=0);;$17461:for(;(i$17471<name$17453.length);(++i$17471)){var c$17479;(c$17479=$17248(name$17453,i$17471));;r$17463.push(($17248(tr$17462,c$17479)||c$17479));}return r$17463.join("");});(Translator$17291.prototype["body"]=function(b$17486,mode$17487){var x$17519;var stmts$17528;var ret$17529;var other$17542;var m$17495$17508;var orig$17496;var trst$17497;var it$0$17490;(it$0$17490=this);;(orig$17496=b$17486);;(b$17486=aslist$17288(b$17486));(trst$17497=function(stmt$17504){return it$0$17490.translate(stmt$17504,"stmt");});;(m$17495$17508=mode$17487);;if((m$17495$17508==="expr")){(x$17519=["send",["lambda",[],orig$17496],["array"]]);;return it$0$17490.translate(x$17519,mode$17487);}else{if((m$17495$17508==="return")){(stmts$17528=b$17486.slice(0,(-1)));;(ret$17529=$17248(b$17486,(b$17486.length-1)));;return (stmts$17528.map(trst$17497).join("")+it$0$17490.translate(ret$17529,"return"));}else{if((m$17495$17508==="stmt")){return b$17486.map(trst$17497).join("");}else{(other$17542=m$17495$17508);throw $18708(["syntax","mode"]).create("Unknown mode",({"mode":mode$17487}));}}}});(Translator$17291.prototype["expr"]=function(x$17547,mode$17548){var other$17577;var m$17551$17557;var it$0$17552;(it$0$17552=this);;(m$17551$17557=mode$17548);;if((m$17551$17557==="expr")){return x$17547;}else{if((m$17551$17557==="stmt")){return (x$17547+";");}else{if((m$17551$17557==="return")){return (("return "+x$17547)+";");}else{(other$17577=m$17551$17557);throw "OopsI";}}}});(Translator$17291.prototype["op"]=function(op$17582,a$17583,b$17584){var $17596$17609;var $17597$17610;var $17598$17611;var t0$17605;var t1$17606;var t2$17607;var m$17595$17600;var e$17592;var it$0$17587;(it$0$17587=this);;(e$17592=(((m$17595$17600=[a$17583,b$17584])),function(){if((($17596$17609=(m$17595$17600 instanceof Array))&&((t0$17605=m$17595$17600.length),(($17598$17611=(t0$17605===2))&&((t1$17606=m$17595$17600[0]),((t1$17606 instanceof Array)&&((t2$17607=t1$17606.length),((t2$17607===1)&&(t1$17606[0]==="void"))))))))){m$17595$17600[1];return (op$17582+it$0$17587.translate(b$17584,"expr"));}else{if(($17598$17611&&(m$17595$17600[0],((t1$17606=m$17595$17600[1]),((t1$17606 instanceof Array)&&((t2$17607=t1$17606.length),((t2$17607===1)&&(t1$17606[0]==="void")))))))){return (it$0$17587.translate(a$17583,"expr")+op$17582);}else{m$17595$17600;return ((it$0$17587.translate(a$17583,"expr")+op$17582)+it$0$17587.translate(b$17584,"expr"));}}}()));;return (("("+e$17592)+")");});(Translator$17291.prototype["translate"]=function(expr$17633,mode$17634){var repl$17704;var it$0$17735;var it$0$17730;var it$0$17725;var it$0$17720;var bridge$17690$17746;var bridge$17689$17743;var other$17757;var id$17751;var bridge$17688$17697;var m$17687$17692;var r$17684;var t0$17776;var t0$17779;var trf$17785;var trmsg$17786;var trf$17817;var trmsg$17818;var trf$17830;var trmsg$17831;var otherwise$17827;var m$17804$17806;var x$17874;var x$17868;var $17852$17863;var $17853$17864;var $17854$17865;var t0$17861;var m$17851$17856;var i$17906;var len$17901;var temp$17896;var acc$17891;var trf$17882;var trargs$17883;var op$17848;var code$17938;var t0$17934;var t1$17935;var trf$17946;var trmsg$17947;var codevar$17932;var f$17964;var r$17960;var f$17982;var r$17978;var i$18039;var len$18034;var temp$18029;var acc$18024;var a$18016;var b$18017;var a$18088;var b$18089;var other$18085;var m$18071$18073;var a$18120;var b$18121;var c$18122;var other$18117;var m$18103$18105;var a$18159;var other$18156;var bridge$18141$18148;var m$18140$18143;var a$18188;var b$18189;var other$18185;var bridge$18170$18177;var m$18169$18172;var a$18206;var b$18207;var c$18208;var a$18225;var b$18226;var i$18314;var len$18309;var temp$18304;var acc$18299;var i$18350;var len$18345;var temp$18340;var acc$18335;var xs$18294;var $18244$18284;var m$18243$18278;var isdecl$18245;var i$18411;var len$18406;var temp$18401;var acc$18396;var decls$18391;var f$18440;var r$18436;var other$18523;var m$18509$18511;var a$18548;var b$18549;var other$18545;var m$18531$18533;var a$18581;var b$18582;var c$18583;var d$18584;var other$18578;var m$18564$18566;var a$18621;var b$18622;var c$18623;var other$18618;var m$18604$18606;var t0$18646;var t0$18650;var a$18674;var b$18675;var other$18671;var m$18657$18659;var other$18689;var x$18684;var attempt$18635;var v$18636;var body$18637;var x$18599;var y$18600;var body$18601;var x$18558;var y$18559;var z$18560;var body$18561;var test$18527;var body$18528;var label$18503;var body$18504;var value$18498;var value$18493;var value$18488;var label$18481;var label$18474;var value$18469;var args$18432;var vars$18386;var body$18387;var s$18381;var args$18376;var args$18239;var lhs$18220;var rhs$18221;var obj$18198;var msg$18199;var rhs$18200;var binding$18165;var value$18166;var binding$18134;var test$18098;var pos$18099;var neg$18100;var test$18063;var pos$18064;var bindings$18011;var body$18012;var args$17974;var args$17956;var f$17927;var msg$17928;var f$17840;var args$17841;var f$17795;var msg$17796;var s$17797;var f$17771;var msg$17772;var f$17762;var v$17680;var s$17670;var $17640$17664;var $17641$17665;var $17642$17666;var $17643$17667;var t0$17654;var t1$17655;var t2$17656;var t3$17657;var t4$17658;var bridge$17638$17659;var bridge$17639$17660;var t5$17661;var t6$17662;var m$17637$17649;var it$0$17644;(it$0$17644=this);;(m$17637$17649=expr$17633);;if((($17640$17664=(m$17637$17649 instanceof Array))&&((t0$17654=m$17637$17649.length),((t0$17654===2)&&(m$17637$17649[0]==="symbol"))))){(s$17670=m$17637$17649[1]);return it$0$17644.expr(it$0$17644.mangle(s$17670),mode$17634);}else{if(($17640$17664&&((t0$17654===1)&&(m$17637$17649[0]==="void")))){return it$0$17644.expr("null",mode$17634);}else{if(($17640$17664&&((t0$17654===2)&&(m$17637$17649[0]==="value")))){(v$17680=m$17637$17649[1]);(r$17684=(((m$17687$17692=v$17680)),function(){if((typeof(m$17687$17692)==="string")){(repl$17704=({"\"":"\\\"","\n":"\\n","\\":"\\\\"}));;(v$17680=v$17680.replace(RegExp("((?:(?:\"|\\\\)|\n))","g"),function(m$17709){return $17248(repl$17704,m$17709);}));return (("\""+v$17680)+"\"");}else{if((m$17687$17692===(void 0))){return "(void 0)";}else{if($17233(RegExp)(m$17687$17692)){(it$0$17720=String(v$17680));;(it$0$17725=it$0$17720.slice(1,(-1)));;(it$0$17730=it$0$17725.replace(RegExp("/","g"),"\\/"));;(it$0$17735=it$0$17730.replace(RegExp("\n","g"),"\\n"));;return "/".concat(it$0$17735).concat("/");}else{(bridge$17688$17697=m$17687$17692);if((((bridge$17689$17743=bridge$17688$17697),(((bridge$17690$17746=bridge$17689$17743),((typeof(bridge$17690$17746)==="number")||(bridge$17690$17746===true)))||(bridge$17689$17743===false)))||(bridge$17688$17697===null))){return String(v$17680);}else{if(($18826(m$17687$17692,"::id")&&((id$17751=m$17687$17692["::id"]),id$17751))){return it$0$17644.translate(it$0$17644.register_value(v$17680,id$17751),mode$17634);}else{(other$17757=m$17687$17692);throw $18708(["cannot_serialize"]).create("Cannot serialize value",({"value":v$17680}));}}}}}}()));;return it$0$17644.expr(r$17684,mode$17634);}else{if(($17640$17664&&(($17642$17666=(t0$17654===3))&&(($17643$17667=(m$17637$17649[0]==="send"))&&((t1$17655=m$17637$17649[1]),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===2)&&((t1$17655[0]==="symbol")&&((t1$17655[1]==="___node")&&((t3$17657=m$17637$17649[2]),((t3$17657 instanceof Array)&&((t4$17658=t3$17657.length),((t4$17658===2)&&(t3$17657[0]==="value"))))))))))))))){(f$17762=t3$17657[1]);return f$17762;}else{if(($17643$17667&&((bridge$17638$17659=m$17637$17649[1]),((((bridge$17638$17659 instanceof Array)&&((t0$17776=bridge$17638$17659.length),((t0$17776===2)&&((bridge$17638$17659[0]==="symbol")&&(bridge$17638$17659[1]==="___js_fetch")))))||((bridge$17638$17659 instanceof Array)&&((t0$17779=bridge$17638$17659.length),((t0$17779===2)&&((bridge$17638$17659[0]==="variable")&&(bridge$17638$17659[1]==="___js_fetch"))))))&&((t1$17655=m$17637$17649[2]),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===3)&&(t1$17655[0]==="array"))))))))){(f$17771=t1$17655[1]);(msg$17772=t1$17655[2]);(trf$17785=it$0$17644.translate(f$17771,"expr"));;(trmsg$17786=it$0$17644.translate(msg$17772,"expr"));;return it$0$17644.expr((((trf$17785+"[")+trmsg$17786)+"]"),mode$17634);}else{if(($17643$17667&&((f$17795=m$17637$17649[1]),((t1$17655=m$17637$17649[2]),((msg$17796=t1$17655),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===2)&&(t1$17655[0]==="value"))))))))){(s$17797=t1$17655[1]);(m$17804$17806=null);;m$17804$17806;if(((typeof(s$17797)==="string")&&s$17797.match(RegExp("(?:^(?:[a-zA-Z_$]+)$)","")))){(trf$17817=it$0$17644.translate(f$17795,"expr"));;(trmsg$17818=it$0$17644.translate(["symbol",s$17797],"expr"));;return it$0$17644.expr(((trf$17817+".")+trmsg$17818),mode$17634);}else{(otherwise$17827=m$17804$17806);(trf$17830=it$0$17644.translate(f$17795,"expr"));;(trmsg$17831=it$0$17644.translate(msg$17796,"expr"));;return it$0$17644.expr((((trf$17830+"[")+trmsg$17831)+"]"),mode$17634);}}else{if(($17643$17667&&((f$17840=m$17637$17649[1]),((t1$17655=m$17637$17649[2]),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656>=1)&&(t1$17655[0]==="array")))))))){(args$17841=Array.prototype.slice.call(t1$17655,1));(op$17848=(((m$17851$17856=f$17840)),function(){if((($17852$17863=(m$17851$17856 instanceof Array))&&((t0$17861=m$17851$17856.length),(($17854$17865=(t0$17861===2))&&(m$17851$17856[0]==="symbol"))))){(x$17868=m$17851$17856[1]);return $17248(js_op_table$17290,x$17868);}else{if(($17854$17865&&(m$17851$17856[0]==="variable"))){(x$17874=m$17851$17856[1]);return $17248(js_op_table2$17289,x$17874);}else{m$17851$17856;return null;}}}()));;if(op$17848){return it$0$17644.expr(it$0$17644.op(op$17848,args$17841[0],args$17841[1]),mode$17634);}else{(trf$17882=it$0$17644.translate(f$17840,"expr"));;(trargs$17883=(((acc$17891=[])),(((temp$17896=args$17841)),(((len$17901=temp$17896.length)),(((i$17906=0)),function(){$17889:for(;(i$17906<len$17901);(i$17906++)){var x$17922;var m$17914;(m$17914=temp$17896[i$17906]);;(x$17922=m$17914);acc$17891.push(it$0$17644.translate(x$17922,"expr"));}}()))),acc$17891));;return it$0$17644.expr((((trf$17882+"(")+trargs$17883.join(","))+")"),mode$17634);}}else{if($17643$17667){(f$17927=m$17637$17649[1]);(msg$17928=m$17637$17649[2]);(t0$17934=(((code$17938="(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}})")),it$0$17644.register_raw(code$17938,"~send")));if(((t0$17934 instanceof Array)&&((t1$17935=t0$17934.length),((t1$17935===2)&&(t0$17934[0]==="symbol"))))){(codevar$17932=t0$17934[1]);;}else{throw Error("Mismatch");}(trf$17946=it$0$17644.translate(f$17927,"expr"));;(trmsg$17947=it$0$17644.translate(msg$17928,"expr"));;return it$0$17644.expr((((((codevar$17932+"(")+trf$17946)+",")+trmsg$17947)+")"),mode$17634);}else{if(($17640$17664&&(($17642$17666=(t0$17654>=1))&&(m$17637$17649[0]==="array")))){(args$17956=Array.prototype.slice.call(m$17637$17649,1));(r$17960=(((f$17964=function(x$17968){return it$0$17644.translate(x$17968,"expr");})),(("["+args$17956.map(f$17964).join(","))+"]")));;return it$0$17644.expr(r$17960,mode$17634);}else{if(($17642$17666&&(m$17637$17649[0]==="object"))){(args$17974=Array.prototype.slice.call(m$17637$17649,1));(r$17978=(((f$17982=function(temp$17985$17987){var t0$17992;var t1$17993;var a$17999;var b$18000;var x$17989;var y$17990;(t0$17992=temp$17985$17987);if(((t0$17992 instanceof Array)&&((t1$17993=t0$17992.length),((t1$17993===3)&&(t0$17992[0]==="array"))))){(x$17989=t0$17992[1]);(y$17990=t0$17992[2]);;}else{throw Error("Mismatch");}(a$17999=it$0$17644.translate(x$17989,"expr"));;(b$18000=it$0$17644.translate(y$17990,"expr"));;return ((a$17999+":")+b$18000);})),(("({"+args$17974.map(f$17982).join(","))+"})")));;return it$0$17644.expr(r$17978,mode$17634);}else{if(($17640$17664&&((t0$17654===3)&&(m$17637$17649[0]==="lambda")))){(bindings$18011=m$17637$17649[1]);(body$18012=m$17637$17649[2]);(a$18016=(((acc$18024=[])),(((temp$18029=bindings$18011)),(((len$18034=temp$18029.length)),(((i$18039=0)),function(){$18022:for(;(i$18039<len$18034);(i$18039++)){var x$18055;var m$18047;(m$18047=temp$18029[i$18039]);;(x$18055=m$18047);acc$18024.push(it$0$17644.translate(x$18055,"expr"));}}()))),acc$18024).join(","));;(b$18017=it$0$17644.body(body$18012,"return"));;return it$0$17644.expr((((("function("+a$18016)+"){")+b$18017)+"}"),mode$17634);}else{if(($17640$17664&&(($17642$17666=(t0$17654===4))&&(($17643$17667=(m$17637$17649[0]==="if"))&&((test$18063=m$17637$17649[1]),((pos$18064=m$17637$17649[2]),((t1$17655=m$17637$17649[3]),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===2)&&((t1$17655[0]==="value")&&(t1$17655[1]===(void 0))))))))))))){(m$18071$18073=mode$17634);;if((m$18071$18073==="expr")){return it$0$17644.body(expr$17633,"expr");}else{(other$18085=m$18071$18073);(a$18088=it$0$17644.translate(test$18063,"expr"));;(b$18089=it$0$17644.translate(pos$18064,mode$17634));;return (((("if("+a$18088)+"){")+b$18089)+"}");}}else{if($17643$17667){(test$18098=m$17637$17649[1]);(pos$18099=m$17637$17649[2]);(neg$18100=m$17637$17649[3]);(m$18103$18105=mode$17634);;if((m$18103$18105==="expr")){return it$0$17644.body(expr$17633,"expr");}else{(other$18117=m$18103$18105);(a$18120=it$0$17644.translate(test$18098,"expr"));;(b$18121=it$0$17644.translate(pos$18099,mode$17634));;(c$18122=it$0$17644.translate(neg$18100,mode$17634));;return (((((("if("+a$18120)+"){")+b$18121)+"}else{")+c$18122)+"}");}}else{if(($17640$17664&&(($17642$17666=(t0$17654===3))&&(($17643$17667=(m$17637$17649[0]==="declare"))&&((binding$18134=m$17637$17649[1]),((t1$17655=m$17637$17649[2]),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===2)&&((t1$17655[0]==="value")&&(t1$17655[1]===(void 0)))))))))))){(m$18140$18143=mode$17634);;(bridge$18141$18148=m$18140$18143);if(((bridge$18141$18148==="expr")||(bridge$18141$18148==="return"))){throw "Invalid in expr ctx";}else{(other$18156=m$18140$18143);(a$18159=it$0$17644.translate(binding$18134,"expr"));;return (("var "+a$18159)+";");}}else{if($17643$17667){(binding$18165=m$17637$17649[1]);(value$18166=m$17637$17649[2]);(m$18169$18172=mode$17634);;(bridge$18170$18177=m$18169$18172);if(((bridge$18170$18177==="expr")||(bridge$18170$18177==="return"))){throw "Invalid in expr ctx";}else{(other$18185=m$18169$18172);(a$18188=it$0$17644.translate(binding$18165,"expr"));;(b$18189=it$0$17644.translate(value$18166,"expr"));;return (((("var "+a$18188)+"=")+b$18189)+";");}}else{if(($17642$17666&&(($17643$17667=(m$17637$17649[0]==="assign"))&&((t1$17655=m$17637$17649[1]),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===3)&&(t1$17655[0]==="send")))))))){(obj$18198=t1$17655[1]);(msg$18199=t1$17655[2]);(rhs$18200=m$17637$17649[2]);(a$18206=it$0$17644.translate(obj$18198,"expr"));;(b$18207=it$0$17644.translate(msg$18199,"expr"));;(c$18208=it$0$17644.translate(rhs$18200,"expr"));;return it$0$17644.expr((((((("("+a$18206)+"[")+b$18207)+"]=")+c$18208)+")"),mode$17634);}else{if($17643$17667){(lhs$18220=m$17637$17649[1]);(rhs$18221=m$17637$17649[2]);(a$18225=it$0$17644.translate(lhs$18220,"expr"));;(b$18226=it$0$17644.translate(rhs$18221,"expr"));;return it$0$17644.expr((((("("+a$18225)+"=")+b$18226)+")"),mode$17634);}else{if(($17640$17664&&((t0$17654===1)&&(m$17637$17649[0]==="multi")))){if((mode$17634==="stmt")){return ";";}else{return "";}}else{if(($17640$17664&&(($17642$17666=(t0$17654>=1))&&(m$17637$17649[0]==="multi")))){(args$18239=Array.prototype.slice.call(m$17637$17649,1));(isdecl$18245=function(temp$18248$18250){var other$18274;var variable$18267;var value$18268;var t0$18263;var m$18252$18258;var ph$18253;(ph$18253=temp$18248$18250);;(m$18252$18258=ph$18253);;if(((m$18252$18258 instanceof Array)&&((t0$18263=m$18252$18258.length),((t0$18263===3)&&(m$18252$18258[0]==="declare"))))){(variable$18267=m$18252$18258[1]);(value$18268=m$18252$18258[2]);return true;}else{(other$18274=m$18252$18258);return false;}});;(m$18243$18278=null);;m$18243$18278;if((args$18239.length===1)){return it$0$17644.translate(args$18239[0],mode$17634);}else{if(((mode$17634==="expr")&&(!args$18239.some(isdecl$18245)))){(xs$18294=(((acc$18299=[])),(((temp$18304=args$18239)),(((len$18309=temp$18304.length)),(((i$18314=0)),function(){$18297:for(;(i$18314<len$18309);(i$18314++)){var x$18330;var m$18322;(m$18322=temp$18304[i$18314]);;(x$18330=m$18322);acc$18299.push(it$0$17644.translate(x$18330,"expr"));}}()))),acc$18299));;(xs$18294=(((acc$18335=[])),(((temp$18340=xs$18294)),(((len$18345=temp$18340.length)),(((i$18350=0)),function(){$18333:for(;(i$18350<len$18345);(i$18350++)){var x$18366;var m$18358;(m$18358=temp$18340[i$18350]);;(x$18366=m$18358);if((x$18366!=="")){acc$18335.push(x$18366);}else{false;;}}}()))),acc$18335));return (("("+xs$18294.join(","))+")");}else{return it$0$17644.body(expr$17633,mode$17634);}}}else{if(($17642$17666&&(m$17637$17649[0]==="splice"))){(args$18376=Array.prototype.slice.call(m$17637$17649,1));return it$0$17644.translate(["multi"].concat(args$18376),mode$17634);}else{if(($17640$17664&&((t0$17654===2)&&(m$17637$17649[0]==="variable")))){(s$18381=m$17637$17649[1]);return it$0$17644.expr(it$0$17644.mangle(s$18381),mode$17634);}else{if(($17640$17664&&((t0$17654===3)&&(m$17637$17649[0]==="scope")))){(vars$18386=m$17637$17649[1]);(body$18387=m$17637$17649[2]);(decls$18391=(((acc$18396=[])),(((temp$18401=vars$18386)),(((len$18406=temp$18401.length)),(((i$18411=0)),function(){$18394:for(;(i$18411<len$18406);(i$18411++)){var v$18427;var m$18419;(m$18419=temp$18401[i$18411]);;(v$18427=m$18419);acc$18396.push(["declare",v$18427,["value",(void 0)]]);}}()))),acc$18396));;return it$0$17644.translate(["multi"].concat(decls$18391).concat([body$18387]),mode$17634);}else{if(($17640$17664&&((t0$17654>=1)&&(m$17637$17649[0]==="object2")))){(args$18432=Array.prototype.slice.call(m$17637$17649,1));(r$18436=(((f$18440=function(temp$18443$18445){var t0$18450;var t1$18451;var a$18457;var b$18458;var x$18447;var y$18448;(t0$18450=temp$18443$18445);if(((t0$18450 instanceof Array)&&((t1$18451=t0$18450.length),(t1$18451===2)))){(x$18447=t0$18450[0]);(y$18448=t0$18450[1]);;}else{throw Error("Mismatch");}(a$18457=it$0$17644.translate(x$18447,"expr"));;(b$18458=it$0$17644.translate(y$18448,"expr"));;return ((a$18457+":")+b$18458);})),(("({"+args$18432.map(f$18440).join(","))+"})")));;return it$0$17644.expr(r$18436,mode$17634);}else{if(($17640$17664&&((t0$17654===2)&&(m$17637$17649[0]==="js_new")))){(value$18469=m$17637$17649[1]);return it$0$17644.expr((("(new "+it$0$17644.translate(value$18469,"expr"))+")"),mode$17634);}else{if(($17640$17664&&(($17642$17666=((t0$17654>=1)&&(t0$17654<=2)))&&((m$17637$17649[0]==="js_break")&&((t1$17655=function(){if((1>=t0$17654)){return ["value",null];}else{return m$17637$17649[1];}}()),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===2)&&(t1$17655[0]==="value"))))))))){(label$18474=t1$17655[1]);if((mode$17634==="expr")){throw "Invalid break in ctx";}else{return (("break"+function(){if(label$18474){return (" "+label$18474);}else{return "";}}())+";");}}else{if(($17642$17666&&((m$17637$17649[0]==="js_continue")&&((t1$17655=function(){if((1>=t0$17654)){return ["value",null];}else{return m$17637$17649[1];}}()),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===2)&&(t1$17655[0]==="value")))))))){(label$18481=t1$17655[1]);if((mode$17634==="expr")){throw "Invalid continue in ctx";}else{return (("continue"+function(){if(label$18481){return (" "+label$18481);}else{return "";}}())+";");}}else{if(($17640$17664&&(($17642$17666=(t0$17654===2))&&(m$17637$17649[0]==="js_return")))){(value$18488=m$17637$17649[1]);if((mode$17634==="expr")){throw "Invalid return in ctx";}else{return (("return "+it$0$17644.translate(value$18488,"expr"))+";");}}else{if(($17642$17666&&(m$17637$17649[0]==="js_delete"))){(value$18493=m$17637$17649[1]);if((mode$17634==="expr")){throw "Invalid delete in ctx";}else{return (("delete "+it$0$17644.translate(value$18493,"expr"))+";");}}else{if(($17642$17666&&(m$17637$17649[0]==="js_throw"))){(value$18498=m$17637$17649[1]);if((mode$17634==="expr")){return (("function(){throw "+it$0$17644.translate(value$18498,"expr"))+";}()");}else{return (("throw "+it$0$17644.translate(value$18498,"expr"))+";");}}else{if(($17640$17664&&(($17642$17666=(t0$17654===3))&&((m$17637$17649[0]==="js_label")&&((t1$17655=m$17637$17649[1]),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===2)&&(t1$17655[0]==="value"))))))))){(label$18503=t1$17655[1]);(body$18504=m$17637$17649[2]);(m$18509$18511=mode$17634);;if((m$18509$18511==="expr")){return it$0$17644.body(expr$17633,"expr");}else{(other$18523=m$18509$18511);return ((label$18503+":")+it$0$17644.translate(body$18504,other$18523));}}else{if(($17642$17666&&(m$17637$17649[0]==="js_while"))){(test$18527=m$17637$17649[1]);(body$18528=m$17637$17649[2]);(m$18531$18533=mode$17634);;if((m$18531$18533==="expr")){return it$0$17644.body(expr$17633,"expr");}else{(other$18545=m$18531$18533);(a$18548=it$0$17644.translate(test$18527,"expr"));;(b$18549=it$0$17644.translate(body$18528,"stmt"));;return (((("while("+a$18548)+"){")+b$18549)+"}");}}else{if(($17640$17664&&((t0$17654===5)&&(m$17637$17649[0]==="js_for")))){(x$18558=m$17637$17649[1]);(y$18559=m$17637$17649[2]);(z$18560=m$17637$17649[3]);(body$18561=m$17637$17649[4]);(m$18564$18566=mode$17634);;if((m$18564$18566==="expr")){return it$0$17644.body(expr$17633,"expr");}else{(other$18578=m$18564$18566);(a$18581=it$0$17644.translate(x$18558,"stmt"));;(b$18582=it$0$17644.translate(y$18559,"stmt"));;(c$18583=it$0$17644.translate(z$18560,"expr"));;(d$18584=it$0$17644.translate(body$18561,"stmt"));;return (((((("for("+a$18581)+b$18582)+c$18583)+"){")+d$18584)+"}");}}else{if(($17640$17664&&(($17642$17666=(t0$17654===4))&&(m$17637$17649[0]==="js_for_in")))){(x$18599=m$17637$17649[1]);(y$18600=m$17637$17649[2]);(body$18601=m$17637$17649[3]);(m$18604$18606=mode$17634);;if((m$18604$18606==="expr")){return it$0$17644.body(expr$17633,"expr");}else{(other$18618=m$18604$18606);(a$18621=it$0$17644.translate(x$18599,"expr"));;(b$18622=it$0$17644.translate(y$18600,"expr"));;(c$18623=it$0$17644.translate(body$18601,"stmt"));;return (((((("for("+a$18621)+" in ")+b$18622)+"){")+c$18623)+"}");}}else{if(($17642$17666&&((m$17637$17649[0]==="js_try")&&((attempt$18635=m$17637$17649[1]),((t1$17655=m$17637$17649[2]),((t1$17655 instanceof Array)&&((t2$17656=t1$17655.length),((t2$17656===3)&&((t1$17655[0]==="lambda")&&((t3$17657=t1$17655[1]),((t3$17657 instanceof Array)&&((t4$17658=t3$17657.length),((t4$17658===1)&&((bridge$17639$17660=t3$17657[0]),((((bridge$17639$17660 instanceof Array)&&((t0$18646=bridge$17639$17660.length),((t0$18646===2)&&((bridge$17639$17660[0]==="symbol")&&((v$18636=bridge$17639$17660[1]),true)))))||((bridge$17639$17660 instanceof Array)&&((t0$18650=bridge$17639$17660.length),((t0$18650===2)&&((bridge$17639$17660[0]==="variable")&&((v$18636=bridge$17639$17660[1]),true))))))&&((body$18637=t1$17655[2]),((t5$17661=m$17637$17649[3]),((t5$17661 instanceof Array)&&((t6$17662=t5$17661.length),((t6$17662===1)&&(t5$17661[0]==="void"))))))))))))))))))))){(m$18657$18659=mode$17634);;if((m$18657$18659==="expr")){return it$0$17644.body(expr$17633,"expr");}else{(other$18671=m$18657$18659);(a$18674=it$0$17644.translate(attempt$18635,"stmt"));;(b$18675=it$0$17644.translate(body$18637,"stmt"));;return (((((("try{"+a$18674)+"}catch(")+v$18636)+"){")+b$18675)+"}");}}else{if(($17640$17664&&((t0$17654===2)&&(m$17637$17649[0]==="raw")))){(x$18684=m$17637$17649[1]);return x$18684;}else{(other$18689=m$17637$17649);throw other$18689;}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}});$18814(Translator$17291,({}));Translator$17291;(translate$17292=function(expr$18694,mode$18695){var tr$18698;var t$18699;(tr$18698=Translator$17291());;(t$18699=tr$18698.translate(expr$18694,mode$18695));;return (tr$18698.dump_store()+t$18699);});;(exports["Translator"]=Translator$17291);(exports["translate"]=translate$17292);
