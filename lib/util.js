var $43333=(function(type$43336){var f$43340;(f$43340=type$43336["::check"]);if((f$43340===(void 0))){return (function(value$43346){return (value$43346 instanceof type$43336);});}else{return (function(value$43350){return f$43340.call(type$43336,value$43350);});}});
var $43352=(function(dest$43355,values$43356){var k$43361;(k$43361=null);$43359:for(k$43361 in values$43356){if(values$43356.hasOwnProperty(k$43361)){(dest$43355[k$43361]=values$43356[k$43361]);}}return dest$43355;});
var $43369=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $43370=(function($43372$43375){var ph$43381;(ph$43381=$43372$43375);var $43377$43387;($43377$43387=ph$43381);var bridge$43379$43392;var x$43396;(bridge$43379$43392=$43377$43387);if((((typeof(bridge$43379$43392)==="string")&&((x$43396=bridge$43379$43392),true))||((typeof(bridge$43379$43392)==="number")&&((x$43396=bridge$43379$43392),true)))){return ["value",x$43396];}else{var other$43407;(other$43407=$43377$43387);return other$43407["::serialize_ast"]();}});
var $43409=(function(obj$43412){var results$43417;(results$43417=[]);var k$43422;(k$43422=null);$43416:for(k$43422 in obj$43412){if(Object.prototype.hasOwnProperty.call(obj$43412,k$43422)){results$43417.push([k$43422,$43369(obj$43412,k$43422)]);}}return results$43417;});
var $43678=(function(arr$43681){var results$43687;var l$43688;(results$43687=[]);(l$43688=arr$43681.length);var i$43697;(i$43697=0);$43686:for(;(i$43697<l$43688);(i$43697++)){results$43687.push([i$43697,$43369(arr$43681,i$43697)]);}return results$43687;});
var $43445=(function(){var $43446$43452;($43446$43452=(function(tags$43457){var it$0$43460;(it$0$43460=(function(){if((!$43333($43446$43452)(this))){return Object.create($43446$43452.prototype);}else{return this;}})());(it$0$43460["tags"]=tags$43457);return it$0$43460;}));($43446$43452.prototype["create"]=(function(){var it$0$43480;var self$43481;(it$0$43480=this);(self$43481=this);var $43478$43490;($43478$43490=arguments);var t0$43495;var message$43499;var args$43500;(t0$43495=$43478$43490.length);if((t0$43495>=0)){(message$43499=(function(){if((0>=t0$43495)){return "";}else{return $43478$43490[0];}})());(args$43500=Array.prototype.slice.call($43478$43490,1));var e$43513;(e$43513=Error(message$43499));(e$43513["::tags"]=it$0$43480.tags);(e$43513["args"]=args$43500);var temp$43529;(temp$43529=$43678(args$43500));var $length$43535;($length$43535=temp$43529.length);var $index$43541;($index$43541=0);$43514:for(;($index$43541<$length$43535);($index$43541++)){var m$43550;(m$43550=temp$43529[$index$43541]);var t0$43555;var t1$43556;var i$43560;var arg$43561;(t0$43555=m$43550);if(((t0$43555 instanceof Array)&&(((t1$43556=t0$43555.length)),(t1$43556===2)))){(i$43560=t0$43555[0]);(arg$43561=t0$43555[1]);(e$43513[i$43560]=arg$43561);}else{$43426(m$43550);}}(e$43513["length"]=args$43500.length);(e$43513["name"]=["E"].concat(it$0$43480.tags).join("."));return e$43513;}else{$43426($43478$43490);}}));($43446$43452.prototype["::check"]=(function(e$43591){var it$0$43595;var self$43596;(it$0$43595=this);(self$43596=this);var tags$43606;if(((!e$43591)||(!$43333(Error)(e$43591)))){return false;}(tags$43606=(e$43591["::tags"]||[]));var temp$43617;(temp$43617=it$0$43595.tags);var $length$43623;($length$43623=temp$43617.length);var $index$43629;($index$43629=0);$43607:for(;($index$43629<$length$43623);($index$43629++)){var m$43638;(m$43638=temp$43617[$index$43629]);var tag$43646;(tag$43646=m$43638);if((tags$43606.indexOf(tag$43646)===-1)){return false;}else{false;}}return true;}));($43446$43452.prototype["::deconstruct"]=(function(e$43655){var it$0$43659;var self$43660;(it$0$43659=this);(self$43660=this);return e$43655.args;}));$43352($43446$43452,$43352((function(){var accum$43671;(accum$43671=({}));(accum$43671["::name"]="$43446");return accum$43671;})(),(function(){var accum$43675;(accum$43675=({}));(accum$43675["::egclass"]=true);return accum$43675;})()));return $43446$43452;})();
var $43426=(function(value$43429,url$43430,start$43431,end$43432){var err$43436;(err$43436=$43445(["match"]).create("Could not find a match for value",({"value":value$43429})));if(url$43430){(err$43436["location"]=["location",url$43430,start$43431,end$43432]);}throw err$43436;});
var send$42978;var __array_methods$42979;var __re_methods$42980;(send$42978=(function(obj$42993,$42990$42994){var ph$43000;var msg$43001;var t0$43003;(t0$43003=$42990$42994);(msg$43001=t0$43003);(ph$43000=t0$43003);var $42996$43012;($42996$43012=ph$43000);var bridge$42998$43017;(bridge$42998$43017=$42996$43012);if(((typeof(bridge$42998$43017)==="string")||(typeof(bridge$42998$43017)==="number"))){return obj$42993[msg$43001];}else{var other$43029;(other$43029=$42996$43012);return obj$42993["::send"](msg$43001);}}));(Array[":::project"]=(function($43035$43038){var ph$43043;var value$43044;var t0$43046;(t0$43046=$43035$43038);(value$43044=t0$43046);(ph$43043=t0$43046);var $43040$43055;($43040$43055=ph$43043);if($43333(Array)($43040$43055)){return [true,value$43044];}else{$43040$43055;return [true,[value$43044]];}}));(__array_methods$42979=$43352((function(){var accum$43076;(accum$43076=({}));(accum$43076["::check"]=(function(value$43081){if((value$43081 instanceof Array)){var i$43087;(i$43087=0);$43084:for(;(i$43087<this.length);(i$43087++)){if(($43369(this,i$43087)!==$43369(value$43081,i$43087))){return false;}}return true;}else{return false;}}));return accum$43076;})(),$43352((function(){var accum$43096;(accum$43096=({}));(accum$43096["::clone"]=(function(){return $43352(this.slice(0),this);}));return accum$43096;})(),$43352((function(){var accum$43103;(accum$43103=({}));(accum$43103[":::project"]=(function(value$43108){if((value$43108 instanceof Array)){var i$43114;(i$43114=0);$43111:for(;(i$43114<this.length);(i$43114++)){if(($43369(this,i$43114)!==$43369(value$43108,i$43114))){return [true,this.concat([value$43108])];}}return [true,value$43108];}else{return [true,this.concat([value$43108])];}}));return accum$43103;})(),(function(){var accum$43123;(accum$43123=({}));(accum$43123["::serialize_ast"]=(function(){return ["array"].concat(this.map($43370));}));return accum$43123;})()))));var temp$43133;(temp$43133=$43409(__array_methods$42979));var $length$43139;($length$43139=temp$43133.length);var $index$43145;($index$43145=0);$42981:for(;($index$43145<$length$43139);($index$43145++)){var m$43154;(m$43154=temp$43133[$index$43145]);var t0$43159;var t1$43160;var k$43164;var v$43165;(t0$43159=m$43154);if(((t0$43159 instanceof Array)&&(((t1$43160=t0$43159.length)),(t1$43160===2)))){(k$43164=t0$43159[0]);(v$43165=t0$43159[1]);if((!$43369(Array.prototype,k$43164))){Object.defineProperty(Array.prototype,k$43164,({"enumerable":false,"value":v$43165}));}}else{$43426(m$43154);}}(__re_methods$42980=$43352((function(){var accum$43185;(accum$43185=({}));(accum$43185["::check"]=(function($43189$43192){var ph$43197;(ph$43197=$43189$43192);var $43194$43203;($43194$43203=ph$43197);var value$43211;if((typeof($43194$43203)==="string")){(value$43211=$43194$43203);if(value$43211.match(this)){return true;}else{return false;}}else{var other$43216;(other$43216=$43194$43203);return false;}}));return accum$43185;})(),(function(){var accum$43219;(accum$43219=({}));(accum$43219[":::project"]=(function($43223$43226){var ph$43231;(ph$43231=$43223$43226);var $43228$43237;($43228$43237=ph$43231);var value$43245;if((typeof($43228$43237)==="string")){(value$43245=$43228$43237);var $43248$43253;($43248$43253=value$43245.match(this));var m$43261;if(($43248$43253===null)){(m$43261=$43248$43253);return [false,null];}else{var m$43266;(m$43266=$43248$43253);return [true,m$43266];}}else{var other$43270;(other$43270=$43228$43237);return [false,null];}}));return accum$43219;})()));var temp$43276;(temp$43276=$43409(__re_methods$42980));var $length$43282;($length$43282=temp$43276.length);var $index$43288;($index$43288=0);$42984:for(;($index$43288<$length$43282);($index$43288++)){var m$43297;(m$43297=temp$43276[$index$43288]);var t0$43302;var t1$43303;var k$43307;var v$43308;(t0$43302=m$43297);if(((t0$43302 instanceof Array)&&(((t1$43303=t0$43302.length)),(t1$43303===2)))){(k$43307=t0$43302[0]);(v$43308=t0$43302[1]);if((!$43369(RegExp.prototype,k$43307))){Object.defineProperty(RegExp.prototype,k$43307,({"enumerable":false,"value":v$43308}));}}else{$43426(m$43297);}}if((!Function.prototype["::send"])){Object.defineProperty(Function.prototype,"::send",$43352(({"enumerable":false}),(function(){var accum$43326;(accum$43326=({}));(accum$43326["value"]=(function(args$43331){return this.apply(this,args$43331);}));return accum$43326;})()));}var GenSym$43718;var gensym$43719;var identity$43720;var binsearch$43721;var classify$43722;var classify_contiguous$43723;var neighbours$43724;var partition$43725;var product$43726;var construct$43727;var mkset$43728;var Body$43729;(GenSym$43718=(function(prefix$43734){var id$43739;(id$43739=0);return (function(){var r$43766;var pfx$43757;var t0$43753;var $43744$43748;($43744$43748=arguments);(t0$43753=$43744$43748.length);if(((t0$43753>=0)&&(t0$43753<=1))){(pfx$43757=(function(){if((0>=t0$43753)){return "";}else{return $43744$43748[0];}})());(r$43766=((pfx$43757+prefix$43734)+[true,String(id$43739)][1]));(id$43739++);return r$43766;}else{$43426($43744$43748);}});}));(gensym$43719=GenSym$43718("$"));(identity$43720=(function(x$43780){return x$43780;}));(binsearch$43721=(function(xs$43787,x$43788){var lo$43793;var hi$43794;(lo$43793=0);(hi$43794=(xs$43787.length-1));$43801:while((lo$43793<=hi$43794)){var $43807$43821;var mid$43811;var v$43812;(mid$43811=(lo$43793+((hi$43794-lo$43793)>>1)));(v$43812=$43369(xs$43787,mid$43811));($43807$43821=$43369(xs$43787,mid$43811));if(($43807$43821<x$43788)){(lo$43793=(mid$43811+1));}else{if(($43807$43821>x$43788)){(hi$43794=(mid$43811-1));}else{$43807$43821;return (mid$43811+1);}}}return lo$43793;}));(classify$43722=(function(){var $index$43896;var $length$43890;var temp$43884;var results$43874;var classes$43864;var xs$43865;var t0$43860;var $43851$43855;($43851$43855=arguments);(t0$43860=$43851$43855.length);if((t0$43860>=1)){(classes$43864=Array.prototype.slice.call($43851$43855,0,-1));(xs$43865=$43851$43855[(t0$43860-1)]);(results$43874=({"rest":[]}));(temp$43884=classes$43864);($length$43890=temp$43884.length);($index$43896=0);$43875:for(;($index$43896<$length$43890);($index$43896++)){var cls$43913;var m$43905;(m$43905=temp$43884[$index$43896]);(cls$43913=m$43905);(results$43874[cls$43913]=[]);}$43919:while(xs$43865.length){var x$43955;var other$43975;var cls$43962;var x$43963;var newxs$43938;var t0$43934;var $43922$43929;($43922$43929=xs$43865.shift());if((($43922$43929 instanceof Array)&&(((t0$43934=$43922$43929.length)),((t0$43934>=1)&&($43922$43929[0]==="splice"))))){(newxs$43938=Array.prototype.slice.call($43922$43929,1));(xs$43865=newxs$43938.concat(xs$43865));}else{if((((x$43955=$43922$43929)),((x$43955 instanceof Array)&&(x$43955[0]==="ignore")))){null;}else{if((($43922$43929 instanceof Array)&&(((t0$43934=$43922$43929.length)),((t0$43934===2)&&((cls$43962=$43922$43929[0]),((x$43963=$43922$43929[1]),$43369(results$43874,cls$43962))))))){$43369(results$43874,cls$43962).push(x$43963);}else{(other$43975=$43922$43929);results$43874.rest.push(other$43975);}}}}return results$43874;}else{$43426($43851$43855);}}));(classify_contiguous$43723=(function(xs$43984,classifier$43985){var $index$44021;var $length$44015;var temp$44009;var groups$43991;var currcls$43992;var curr$43993;(groups$43991=[]);(currcls$43992=null);(curr$43993=null);(temp$44009=xs$43984);($length$44015=temp$44009.length);($index$44021=0);$43994:for(;($index$44021<$length$44015);($index$44021++)){var cls$44042;var x$44038;var m$44030;(m$44030=temp$44009[$index$44021]);(x$44038=m$44030);(cls$44042=classifier$43985(x$44038));if((cls$44042===currcls$43992)){curr$43993.push(x$44038);}else{if(curr$43993){groups$43991.push(curr$43993);}(curr$43993=[cls$44042,x$44038]);(currcls$43992=cls$44042);}}if(curr$43993){groups$43991.push(curr$43993);}return groups$43991;}));(neighbours$43724=(function($44061$44064){var x$44103;var y$44104;var rest$44105;var x$44098;var $44070$44085;var $44071$44086;var t0$44083;var $44066$44078;var ph$44072;(ph$44072=$44061$44064);($44066$44078=ph$44072);if((($44070$44085=($44066$44078 instanceof Array))&&(((t0$44083=$44066$44078.length)),(t0$44083===0)))){return [];}else{if(($44070$44085&&(t0$44083===1))){(x$44098=$44066$44078[0]);return [];}else{if(($44070$44085&&(t0$44083>=2))){(x$44103=$44066$44078[0]);(y$44104=$44066$44078[1]);(rest$44105=Array.prototype.slice.call($44066$44078,2));return [[x$44103,y$44104]].concat(neighbours$43724([y$44104].concat(rest$44105)));}else{$43426($44066$44078);}}}}));(partition$43725=(function(xs$44115,predicate$44116){var $index$44148;var $length$44142;var temp$44136;var t$44121;var f$44122;(t$44121=[]);(f$44122=[]);(temp$44136=xs$44115);($length$44142=temp$44136.length);($index$44148=0);$44123:for(;($index$44148<$length$44142);($index$44148++)){var x$44170;var x$44165;var m$44157;(m$44157=temp$44136[$index$44148]);(x$44165=m$44157);if(predicate$44116(x$44165)){t$44121.push(x$44165);}else{(x$44170=m$44157);f$44122.push(x$44170);}}return [t$44121,f$44122];}));(product$43726=(function(a$44177,b$44178){var $index$44204;var $length$44198;var temp$44192;var results$44182;(results$44182=[]);(temp$44192=a$44177);($length$44198=temp$44192.length);($index$44204=0);$44183:for(;($index$44204<$length$44198);($index$44204++)){var $index$44246;var $length$44240;var temp$44234;var acc$44228;var x$44221;var m$44213;(m$44213=temp$44192[$index$44204]);(x$44221=m$44213);(results$44182=results$44182.concat((((acc$44228=[])),(((temp$44234=b$44178)),((($length$44240=temp$44234.length)),((($index$44246=0)),(function(){$44223:for(;($index$44246<$length$44240);($index$44246++)){var y$44263;var m$44255;(m$44255=temp$44234[$index$44246]);(y$44263=m$44255);acc$44228.push([x$44221,y$44263]);}})()))),acc$44228)));}return results$44182;}));(construct$43727=(function($44270$44273,fn$44274,zero$44275){var x$44314;var rest$44315;var x$44309;var $44281$44296;var $44282$44297;var t0$44294;var $44277$44289;var ph$44283;(ph$44283=$44270$44273);($44277$44289=ph$44283);if((($44281$44296=($44277$44289 instanceof Array))&&(((t0$44294=$44277$44289.length)),(t0$44294===0)))){return zero$44275;}else{if(($44281$44296&&(t0$44294===1))){(x$44309=$44277$44289[0]);return x$44309;}else{if(($44281$44296&&(t0$44294>=1))){(x$44314=$44277$44289[0]);(rest$44315=Array.prototype.slice.call($44277$44289,1));return fn$44274(x$44314,construct$43727(rest$44315,fn$44274,zero$44275));}else{$43426($44277$44289);}}}}));(mkset$43728=(function(xs$44325){var $index$44351;var $length$44345;var temp$44339;var rval$44329;(rval$44329=({}));(temp$44339=xs$44325);($length$44345=temp$44339.length);($index$44351=0);$44330:for(;($index$44351<$length$44345);($index$44351++)){var x$44368;var m$44360;(m$44360=temp$44339[$index$44351]);(x$44368=m$44360);(rval$44329[x$44368]=true);}return rval$44329;}));(Body$43729=(function($44378$44381){var t0$44389;var xs$44407;var t0$44403;var $44383$44398;var ph$44386;var x$44387;(t0$44389=$44378$44381);(x$44387=t0$44389);(ph$44386=t0$44389);($44383$44398=ph$44386);if((($44383$44398 instanceof Array)&&(((t0$44403=$44383$44398.length)),((t0$44403>=1)&&($44383$44398[0]==="multi"))))){(xs$44407=Array.prototype.slice.call($44383$44398,1));return xs$44407;}else{$44383$44398;return [x$44387];}}));(exports["GenSym"]=GenSym$43718);(exports["gensym"]=gensym$43719);(exports["identity"]=identity$43720);(exports["binsearch"]=binsearch$43721);(exports["classify"]=classify$43722);(exports["classify_contiguous"]=classify_contiguous$43723);(exports["neighbours"]=neighbours$43724);(exports["partition"]=partition$43725);(exports["construct"]=construct$43727);(exports["mkset"]=mkset$43728);(exports["product"]=product$43726);(exports["Body"]=Body$43729);
