var τ1197=function(type){var τ1198=type["::check"];var f;if((τ1198===(void 0))){return function(value){return (value instanceof type);};}else{if(((f=τ1198),true)){return function(value){return f.call(type,value);};}else{throw ["Could not find a match",τ1198];}}};
var τ1199=function(){var r=[];for(var i=0;(i<arguments.length);(i++)){(r=r.concat(arguments[i]));}return r;};
var τ1200=function(τ1201){var τ1202=τ1201;var x;var x;var other;if((((typeof(τ1202)==="string")&&((x=τ1202),true))||((typeof(τ1202)==="number")&&((x=τ1202),true)))){return ["value",x];}else{if(((other=τ1202),true)){return other["::serialize_ast"]();}else{throw ["Could not find a match",τ1202];}}};
var send=function(obj,τ1190){var msg;var τ1189;(msg=τ1190);true;(τ1189=τ1190);var τ1191=τ1189;var other;if(((typeof(τ1191)==="string")||(typeof(τ1191)==="number"))){return obj[msg];}else{if(((other=τ1191),true)){return obj["::send"](msg);}else{throw ["Could not find a match",τ1191];}}};(Array[":::project"]=function(τ1193){var value;var τ1192;(value=τ1193);true;(τ1192=τ1193);var τ1194=τ1192;var _;if(τ1197(Array)(τ1194)){return [true,value];}else{if(((_=τ1194),true)){return [true,[value]];}else{throw ["Could not find a match",τ1194];}}});(Array.prototype["::check"]=function(value){if((value instanceof Array)){for(var i=0;(i<this.length);(i++)){if((send(this,i)!==send(value,i))){return false;}else{null;}}return true;}else{return false;}});(Array.prototype[":::project"]=function(value){if((value instanceof Array)){for(var i=0;(i<this.length);(i++)){if((send(this,i)!==send(value,i))){var rval=this.slice(0);rval.push(value);return [true,rval];}else{null;}}return [true,value];}else{var rval=this.slice(0);rval.push(value);return [true,rval];}});(Array.prototype[":::deconstruct"]=function(value){return [true,value.slice(this.length)];});(Array.prototype["::serialize_ast"]=function(){return τ1199(["array"],this.map(τ1200));});(RegExp.prototype["::check"]=function(value){return value.match(this);});(RegExp.prototype[":::project"]=function(value){var τ1195=value.match(this);var m;var m;if(((τ1195===null)&&((m=τ1195),true))){return [false,null];}else{if(((m=τ1195),true)){return [true,m];}else{throw ["Could not find a match",τ1195];}}});(RegExp.prototype[":::deconstruct"]=function(value){var τ1196=value.match(this);var m;var m;if(((τ1196===null)&&((m=τ1196),true))){return [false,null];}else{if(((m=τ1196),true)){return [true,m];}else{throw ["Could not find a match",τ1196];}}});(Function.prototype["::send"]=function(args){return this.apply(this,args);});var items=function(obj){var results=[];for(k in obj){results.push([k,send(obj,k)]);}return results;};var enumerate=function(arr){var results=[];var l=arr.length;for(var i=0;(i<l);(i++)){results.push([i,send(arr,i)]);}return results;};var binsearch=function(xs,x){var lo=0;var hi=(xs.length-1);while((lo<=hi)){var mid=(lo+((hi-lo)>>1));var v=send(xs,mid);var τ1203=send(xs,mid);var _;if((τ1203<x)){(lo=(mid+1));}else{if((τ1203>x)){(hi=(mid-1));}else{if(((_=τ1203),true)){return (mid+1);}else{throw ["Could not find a match",τ1203];}}}}return lo;};var classify=function(xs){var results=({});while(xs.length){var τ1204=xs.shift();var τp0;var τp1;var newxs;var τp0;var cls;var x;var τ1205=false;var τ1206=false;var τ1207=false;if(((τ1205=(τ1204 instanceof Array))&&((τ1206=((τp0=τ1204.length),true))&&((τ1207=(τp0===2))&&(((τp1=τ1204[0]),(τp1==="splice"))&&((newxs=τ1204[1]),true)))))){(xs=newxs.concat(xs));}else{if((τ1207&&((cls=τ1204[0]),true,(x=τ1204[1]),true))){if((!send(results,cls))){(results[cls]=[]);}else{null;}send(results,cls).push(x);}else{throw ["Could not find a match",τ1204];}}}return results;};(exports["items"]=items);(exports["enumerate"]=enumerate);(exports["binsearch"]=binsearch);(exports["classify"]=classify);
