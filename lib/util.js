var $32292=function(type$32294){var f$32297;(f$32297=type$32294["::check"]);if((f$32297===(void 0))){return function(value$32302){return (value$32302 instanceof type$32294);};}else{return function(value$32305){return f$32297.call(type$32294,value$32305);};}};
var $32307=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $32308=function(dest$32310,values$32311){var k$32316;(k$32316=null);$32314:for(k$32316 in values$32311){if(values$32311.hasOwnProperty(k$32316)){(dest$32310[k$32316]=values$32311[k$32316]);}}return dest$32310;};
var $32323=function($32324$32326){var ph$32330;(ph$32330=$32324$32326);var $32328$32335;($32328$32335=ph$32330);var bridge$32329$32340;var x$32344;(bridge$32329$32340=$32328$32335);if((((typeof(bridge$32329$32340)==="string")&&((x$32344=bridge$32329$32340),true))||((typeof(bridge$32329$32340)==="number")&&((x$32344=bridge$32329$32340),true)))){return ["value",x$32344];}else{var other$32354;(other$32354=$32328$32335);return other$32354["::serialize_ast"]();}};
var send$32099;(send$32099=function(obj$32104,$32102$32105){var ph$32109;var msg$32110;var t0$32112;(t0$32112=$32102$32105);(msg$32110=t0$32112);(ph$32109=t0$32112);var $32107$32119;($32107$32119=ph$32109);var bridge$32108$32124;(bridge$32108$32124=$32107$32119);if(((typeof(bridge$32108$32124)==="string")||(typeof(bridge$32108$32124)==="number"))){return obj$32104[msg$32110];}else{var other$32135;(other$32135=$32107$32119);return obj$32104["::send"](msg$32110);}});(Array[":::project"]=function($32140$32142){var ph$32145;var value$32146;var t0$32148;(t0$32148=$32140$32142);(value$32146=t0$32148);(ph$32145=t0$32148);var $32144$32155;($32144$32155=ph$32145);if($32292(Array)($32144$32155)){return [true,value$32146];}else{$32144$32155;return [true,[value$32146]];}});(Array.prototype["::check"]=function(value$32172){if((value$32172 instanceof Array)){var i$32177;(i$32177=0);$32175:for(;(i$32177<this.length);(i$32177++)){if(($32307(this,i$32177)!==$32307(value$32172,i$32177))){return false;}}return true;}else{return false;}});(Array.prototype["::clone"]=function(){return $32308(this.slice(0),this);});(Array.prototype[":::project"]=function(value$32194){if((value$32194 instanceof Array)){var i$32199;(i$32199=0);$32197:for(;(i$32199<this.length);(i$32199++)){if(($32307(this,i$32199)!==$32307(value$32194,i$32199))){return [true,[value$32194]];}}return [true,value$32194.slice(this.length)];}else{return [true,[value$32194]];}});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($32323));});(RegExp.prototype["::check"]=function($32215$32217){var ph$32220;(ph$32220=$32215$32217);var $32219$32225;($32219$32225=ph$32220);var value$32233;if((typeof($32219$32225)==="string")){(value$32233=$32219$32225);if(value$32233.match(this)){return true;}else{return false;}}else{var other$32238;(other$32238=$32219$32225);return false;}});(RegExp.prototype[":::project"]=function($32243$32245){var ph$32248;(ph$32248=$32243$32245);var $32247$32253;($32247$32253=ph$32248);var value$32261;if((typeof($32247$32253)==="string")){(value$32261=$32247$32253);var $32264$32266;($32264$32266=value$32261.match(this));var m$32274;if(($32264$32266===null)){(m$32274=$32264$32266);return [false,null];}else{var m$32279;(m$32279=$32264$32266);return [true,m$32279];}}else{var other$32283;(other$32283=$32247$32253);return [false,null];}});(Function.prototype["::send"]=function(args$32289){return this.apply(this,args$32289);});
var $33292=function(arr$33294){var results$33298;var l$33299;(results$33298=[]);(l$33299=arr$33294.length);var i$33307;(i$33307=0);$33297:for(;(i$33307<l$33299);(i$33307++)){results$33298.push([i$33307,$32307(arr$33294,i$33307)]);}return results$33298;};
var $33096=function(){var $33097$33099;($33097$33099=function(tags$33103){var it$0$33106;(it$0$33106=function(){if((!$32292($33097$33099)(this))){return Object.create($33097$33099.prototype);}else{return this;}}());(it$0$33106["tags"]=tags$33103);return it$0$33106;});($33097$33099.prototype["create"]=function(){var $33118$33120;($33118$33120=arguments);var t0$33125;var message$33129;var args$33130;(t0$33125=$33118$33120.length);if((t0$33125>=0)){(message$33129=function(){if((0>=t0$33125)){return "";}else{return $33118$33120[0];}}());(args$33130=Array.prototype.slice.call($33118$33120,1));var it$0$33137;(it$0$33137=this);var self$33142;(self$33142=this);var e$33147;(e$33147=Error(message$33129));(e$33147["::tags"]=it$0$33137.tags);(e$33147["args"]=args$33130);var temp$33161;(temp$33161=$33292(args$33130));var $length$33166;($length$33166=temp$33161.length);var $index$33171;($index$33171=0);$33148:for(;($index$33171<$length$33166);($index$33171++)){var m$33179;(m$33179=temp$33161[$index$33171]);var t0$33184;var t1$33185;var i$33189;var arg$33190;(t0$33184=m$33179);if(((t0$33184 instanceof Array)&&(((t1$33185=t0$33184.length)),(t1$33185===2)))){(i$33189=t0$33184[0]);(arg$33190=t0$33184[1]);(e$33147[i$33189]=arg$33190);}else{$33080(m$33179);}}(e$33147["length"]=args$33130.length);(e$33147["name"]=["E"].concat(it$0$33137.tags).join("."));return e$33147;}else{$33080($33118$33120);}});($33097$33099.prototype["::check"]=function(e$33216){var it$0$33219;(it$0$33219=this);var self$33224;(self$33224=this);var tags$33229;if(((!e$33216)||(!$32292(Error)(e$33216)))){return false;}(tags$33229=(e$33216["::tags"]||[]));var temp$33238;(temp$33238=it$0$33219.tags);var $length$33243;($length$33243=temp$33238.length);var $index$33248;($index$33248=0);$33230:for(;($index$33248<$length$33243);($index$33248++)){var m$33256;(m$33256=temp$33238[$index$33248]);var tag$33264;(tag$33264=m$33256);if((tags$33229.indexOf(tag$33264)===-1)){return false;}else{false;}}return true;});($33097$33099.prototype["::deconstruct"]=function(e$33272){var it$0$33275;(it$0$33275=this);var self$33280;(self$33280=this);return e$33272.args;});$32308($33097$33099,$32308(function(){var accum$33285;(accum$33285=({}));(accum$33285["::name"]="$33097");return accum$33285;}(),function(){var accum$33289;(accum$33289=({}));(accum$33289["::egclass"]=true);return accum$33289;}()));return $33097$33099;}();
var $33080=function(value$33082,url$33083,start$33084,end$33085){var err$33088;(err$33088=$33096(["match"]).create("Could not find a match for value",({"value":value$33082})));if(url$33083){(err$33088["location"]=["location",url$33083,start$33084,end$33085]);}throw err$33088;};var GenSym$32358;var gensym$32359;var uuid$32360;var identity$32361;var binsearch$32362;var __classify$32363;var classify$32364;var classify_contiguous$32365;var neighbours$32366;var partition$32367;var construct$32368;var mkset$32369;var make_object$32370;var product$32371;(GenSym$32358=function(prefix$32375){var id$32378;(id$32378=0);return function(){var r$32401;var pfx$32394;var t0$32390;var $32383$32385;($32383$32385=arguments);(t0$32390=$32383$32385.length);if(((t0$32390>=0)&&(t0$32390<=1))){(pfx$32394=function(){if((0>=t0$32390)){return null;}else{return $32383$32385[0];}}());(r$32401=(((pfx$32394||"")+prefix$32375)+[true,String(id$32378)][1]));(id$32378++);return r$32401;}else{$33080($32383$32385);}};});(gensym$32359=GenSym$32358("$"));(uuid$32360=function(){return gensym$32359("#");});(identity$32361=function(x$32419){return x$32419;});(binsearch$32362=function(xs$32425,x$32426){var lo$32429;var hi$32430;(lo$32429=0);(hi$32430=(xs$32425.length-1));$32437:while((lo$32429<=hi$32430)){var $32441$32451;var mid$32442;var v$32443;(mid$32442=(lo$32429+((hi$32430-lo$32429)>>1)));(v$32443=$32307(xs$32425,mid$32442));($32441$32451=$32307(xs$32425,mid$32442));if(($32441$32451<x$32426)){(lo$32429=(mid$32442+1));}else{if(($32441$32451>x$32426)){(hi$32430=(mid$32442-1));}else{$32441$32451;return (mid$32442+1);}}}return lo$32429;});(__classify$32363=function(xs$32478){var results$32481;(results$32481=({}));$32485:while(xs$32478.length){var cls$32517;var x$32518;var newxs$32505;var $32489$32500;var $32490$32501;var $32491$32502;var t0$32498;var $32488$32493;($32488$32493=xs$32478.shift());if((($32489$32500=($32488$32493 instanceof Array))&&(((t0$32498=$32488$32493.length)),(($32491$32502=(t0$32498===2))&&($32488$32493[0]==="splice"))))){(newxs$32505=$32488$32493[1]);(xs$32478=newxs$32505.concat(xs$32478));}else{if($32491$32502){(cls$32517=$32488$32493[0]);(x$32518=$32488$32493[1]);if((!$32307(results$32481,cls$32517))){(results$32481[cls$32517]=[]);}$32307(results$32481,cls$32517).push(x$32518);}else{$33080($32488$32493);}}}return results$32481;});(classify$32364=function(){var $index$32569;var $length$32564;var temp$32559;var results$32551;var classes$32543;var xs$32544;var t0$32539;var $32532$32534;($32532$32534=arguments);(t0$32539=$32532$32534.length);if((t0$32539>=1)){(classes$32543=Array.prototype.slice.call($32532$32534,0,-1));(xs$32544=$32532$32534[(t0$32539-1)]);(results$32551=({"rest":[]}));(temp$32559=classes$32543);($length$32564=temp$32559.length);($index$32569=0);$32552:for(;($index$32569<$length$32564);($index$32569++)){var cls$32585;var m$32577;(m$32577=temp$32559[$index$32569]);(cls$32585=m$32577);(results$32551[cls$32585]=[]);}$32590:while(xs$32544.length){var x$32618;var other$32637;var cls$32625;var x$32626;var newxs$32604;var t0$32600;var $32593$32595;($32593$32595=xs$32544.shift());if((($32593$32595 instanceof Array)&&(((t0$32600=$32593$32595.length)),((t0$32600>=1)&&($32593$32595[0]==="splice"))))){(newxs$32604=Array.prototype.slice.call($32593$32595,1));(xs$32544=newxs$32604.concat(xs$32544));}else{if((((x$32618=$32593$32595)),((x$32618 instanceof Array)&&(x$32618[0]==="ignore")))){null;}else{if((($32593$32595 instanceof Array)&&(((t0$32600=$32593$32595.length)),((t0$32600===2)&&((cls$32625=$32593$32595[0]),((x$32626=$32593$32595[1]),$32307(results$32551,cls$32625))))))){$32307(results$32551,cls$32625).push(x$32626);}else{(other$32637=$32593$32595);results$32551.rest.push(other$32637);}}}}return results$32551;}else{$33080($32532$32534);}});(classify_contiguous$32365=function(xs$32645,classifier$32646){var $index$32675;var $length$32670;var temp$32665;var groups$32649;var currcls$32650;var curr$32651;(groups$32649=[]);(currcls$32650=null);(curr$32651=null);(temp$32665=xs$32645);($length$32670=temp$32665.length);($index$32675=0);$32652:for(;($index$32675<$length$32670);($index$32675++)){var cls$32694;var x$32691;var m$32683;(m$32683=temp$32665[$index$32675]);(x$32691=m$32683);(cls$32694=classifier$32646(x$32691));if((cls$32694===currcls$32650)){curr$32651.push(x$32691);}else{if(curr$32651){groups$32649.push(curr$32651);}(curr$32651=[cls$32694,x$32691]);(currcls$32650=cls$32694);}}if(curr$32651){groups$32649.push(curr$32651);}return groups$32649;});(neighbours$32366=function($32710$32712){var x$32746;var y$32747;var rest$32748;var x$32741;var $32715$32729;var $32716$32730;var t0$32727;var $32714$32722;var ph$32717;(ph$32717=$32710$32712);($32714$32722=ph$32717);if((($32715$32729=($32714$32722 instanceof Array))&&(((t0$32727=$32714$32722.length)),(t0$32727===0)))){return [];}else{if(($32715$32729&&(t0$32727===1))){(x$32741=$32714$32722[0]);return [];}else{if(($32715$32729&&(t0$32727>=2))){(x$32746=$32714$32722[0]);(y$32747=$32714$32722[1]);(rest$32748=Array.prototype.slice.call($32714$32722,2));return [[x$32746,y$32747]].concat(neighbours$32366([y$32747].concat(rest$32748)));}else{$33080($32714$32722);}}}});(partition$32367=function(xs$32757,predicate$32758){var $index$32783;var $length$32778;var temp$32773;var t$32761;var f$32762;(t$32761=[]);(f$32762=[]);(temp$32773=xs$32757);($length$32778=temp$32773.length);($index$32783=0);$32763:for(;($index$32783<$length$32778);($index$32783++)){var x$32804;var x$32799;var m$32791;(m$32791=temp$32773[$index$32783]);(x$32799=m$32791);if(predicate$32758(x$32799)){t$32761.push(x$32799);}else{(x$32804=m$32791);f$32762.push(x$32804);}}return [t$32761,f$32762];});(construct$32368=function($32809$32811,fn$32812,zero$32813){var x$32847;var rest$32848;var x$32842;var $32816$32830;var $32817$32831;var t0$32828;var $32815$32823;var ph$32818;(ph$32818=$32809$32811);($32815$32823=ph$32818);if((($32816$32830=($32815$32823 instanceof Array))&&(((t0$32828=$32815$32823.length)),(t0$32828===0)))){return zero$32813;}else{if(($32816$32830&&(t0$32828===1))){(x$32842=$32815$32823[0]);return x$32842;}else{if(($32816$32830&&(t0$32828>=1))){(x$32847=$32815$32823[0]);(rest$32848=Array.prototype.slice.call($32815$32823,1));return fn$32812(x$32847,construct$32368(rest$32848,fn$32812,zero$32813));}else{$33080($32815$32823);}}}});(mkset$32369=function(xs$32857){var $index$32878;var $length$32873;var temp$32868;var rval$32860;(rval$32860=({}));(temp$32868=xs$32857);($length$32873=temp$32868.length);($index$32878=0);$32861:for(;($index$32878<$length$32873);($index$32878++)){var x$32894;var m$32886;(m$32886=temp$32868[$index$32878]);(x$32894=m$32886);(rval$32860[x$32894]=true);}return rval$32860;});(make_object$32370=function(pairs$32903){var $index$32924;var $length$32919;var temp$32914;var rval$32906;(rval$32906=({}));(temp$32914=pairs$32903);($length$32919=temp$32914.length);($index$32924=0);$32907:for(;($index$32924<$length$32919);($index$32924++)){var k$32942;var v$32943;var t0$32937;var t1$32938;var m$32932;(m$32932=temp$32914[$index$32924]);(t0$32937=m$32932);if(((t0$32937 instanceof Array)&&(((t1$32938=t0$32937.length)),(t1$32938===2)))){(k$32942=t0$32937[0]);(v$32943=t0$32937[1]);(rval$32906[k$32942]=v$32943);}else{$33080(m$32932,"/home/olivier/git/earl-grey/src/util.eg",2775,2817);}}return rval$32906;});(product$32371=function(a$32962,b$32963){var $index$32984;var $length$32979;var temp$32974;var results$32966;(results$32966=[]);(temp$32974=a$32962);($length$32979=temp$32974.length);($index$32984=0);$32967:for(;($index$32984<$length$32979);($index$32984++)){var $index$33020;var $length$33015;var temp$33010;var acc$33005;var x$33000;var m$32992;(m$32992=temp$32974[$index$32984]);(x$33000=m$32992);(results$32966=results$32966.concat((((acc$33005=[])),(((temp$33010=b$32963)),((($length$33015=temp$33010.length)),((($index$33020=0)),function(){$33002:for(;($index$33020<$length$33015);($index$33020++)){var y$33036;var m$33028;(m$33028=temp$33010[$index$33020]);(y$33036=m$33028);acc$33005.push([x$33000,y$33036]);}}()))),acc$33005)));}return results$32966;});(exports["GenSym"]=GenSym$32358);(exports["gensym"]=gensym$32359);(exports["uuid"]=uuid$32360);(exports["identity"]=identity$32361);(exports["binsearch"]=binsearch$32362);(exports["classify"]=classify$32364);(exports["classify_contiguous"]=classify_contiguous$32365);(exports["neighbours"]=neighbours$32366);(exports["partition"]=partition$32367);(exports["construct"]=construct$32368);(exports["mkset"]=mkset$32369);(exports["make_object"]=make_object$32370);(exports["product"]=product$32371);
