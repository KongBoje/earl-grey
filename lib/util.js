var τ1192=function(type){var τ1193=type["::check"];var f;if((τ1193===(void 0))){return function(value){return (value instanceof type);};}else{if(((f=τ1193),true)){return function(value){return f.call(type,value);};}else{throw ["Could not find a match",τ1193];}}};
var τ1194=function(){var r=[];for(var i=0;(i<arguments.length);(i++)){(r=r.concat(arguments[i]));}return r;};
var τ1195=function(τ1196){var τ1197=τ1196;var x;var x;var other;if((((typeof(τ1197)==="string")&&((x=τ1197),true))||((typeof(τ1197)==="number")&&((x=τ1197),true)))){return ["value",x];}else{if(((other=τ1197),true)){return other["::serialize_ast"]();}else{throw ["Could not find a match",τ1197];}}};
var send=function(obj,τ1185){var msg;var τ1184;(msg=τ1185);true;(τ1184=τ1185);var τ1186=τ1184;var other;if(((typeof(τ1186)==="string")||(typeof(τ1186)==="number"))){return obj[msg];}else{if(((other=τ1186),true)){return obj["::send"](msg);}else{throw ["Could not find a match",τ1186];}}};(Array[":::project"]=function(τ1188){var value;var τ1187;(value=τ1188);true;(τ1187=τ1188);var τ1189=τ1187;var _;if(τ1192(Array)(τ1189)){return [true,value];}else{if(((_=τ1189),true)){return [true,[value]];}else{throw ["Could not find a match",τ1189];}}});(Array.prototype["::check"]=function(value){if((value instanceof Array)){for(var i=0;(i<this.length);(i++)){if((send(this,i)!==send(value,i))){return false;}else{null;}}return true;}else{return false;}});(Array.prototype[":::project"]=function(value){if((value instanceof Array)){for(var i=0;(i<this.length);(i++)){if((send(this,i)!==send(value,i))){var rval=this.slice(0);rval.push(value);return [true,rval];}else{null;}}return [true,value];}else{var rval=this.slice(0);rval.push(value);return [true,rval];}});(Array.prototype[":::deconstruct"]=function(value){return [true,value.slice(this.length)];});(Array.prototype["::serialize_ast"]=function(){return τ1194(["array"],this.map(τ1195));});(RegExp.prototype["::check"]=function(value){return value.match(this);});(RegExp.prototype[":::project"]=function(value){var τ1190=value.match(this);var m;var m;if(((τ1190===null)&&((m=τ1190),true))){return [false,null];}else{if(((m=τ1190),true)){return [true,m];}else{throw ["Could not find a match",τ1190];}}});(RegExp.prototype[":::deconstruct"]=function(value){var τ1191=value.match(this);var m;var m;if(((τ1191===null)&&((m=τ1191),true))){return [false,null];}else{if(((m=τ1191),true)){return [true,m];}else{throw ["Could not find a match",τ1191];}}});(Function.prototype["::send"]=function(args){return this.apply(this,args);});var items=function(obj){var results=[];for(k in obj){results.push([k,send(obj,k)]);}return results;};var enumerate=function(arr){var results=[];var l=arr.length;for(var i=0;(i<l);(i++)){results.push([i,send(arr,i)]);}return results;};var binsearch=function(xs,x){var lo=0;var hi=(xs.length-1);while((lo<=hi)){var mid=(lo+((hi-lo)>>1));var v=send(xs,mid);var τ1198=send(xs,mid);var _;if((τ1198<x)){(lo=(mid+1));}else{if((τ1198>x)){(hi=(mid-1));}else{if(((_=τ1198),true)){return (mid+1);}else{throw ["Could not find a match",τ1198];}}}}return lo;};(exports["items"]=items);(exports["enumerate"]=enumerate);(exports["binsearch"]=binsearch);
