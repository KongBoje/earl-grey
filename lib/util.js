var $25330=function(type$25332){var f$25335;(f$25335=type$25332["::check"]);;if((f$25335===(void 0))){return function(value$25340){return (value$25340 instanceof type$25332);};}else{return function(value$25343){return f$25335.call(type$25332,value$25343);};}};
var $25345=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $25346=function(dest$25348,values$25349){var k$25354;(k$25354=null);$25352:for(k$25354 in values$25349){if(values$25349.hasOwnProperty(k$25354)){(dest$25348[k$25354]=values$25349[k$25354]);}}return dest$25348;};
var $25358=function($25359$25361){var ph$25365;(ph$25365=$25359$25361);;var $25363$25370;($25363$25370=ph$25365);;var bridge$25364$25375;var x$25379;(bridge$25364$25375=$25363$25370);if((((typeof(bridge$25364$25375)==="string")&&((x$25379=bridge$25364$25375),true))||((typeof(bridge$25364$25375)==="number")&&((x$25379=bridge$25364$25375),true)))){return ["value",x$25379];}else{var other$25386;(other$25386=$25363$25370);return other$25386["::serialize_ast"]();}};
var send$25170;(send$25170=function(obj$25175,$25173$25176){var ph$25180;var msg$25181;var t0$25183;(t0$25183=$25173$25176);(msg$25181=t0$25183);(ph$25180=t0$25183);;var $25178$25187;($25178$25187=ph$25180);;var bridge$25179$25192;(bridge$25179$25192=$25178$25187);if(((typeof(bridge$25179$25192)==="string")||(typeof(bridge$25179$25192)==="number"))){return obj$25175[msg$25181];}else{var other$25200;(other$25200=$25178$25187);return obj$25175["::send"](msg$25181);}});;(Array[":::project"]=function($25203$25205){var ph$25208;var value$25209;var t0$25211;(t0$25211=$25203$25205);(value$25209=t0$25211);(ph$25208=t0$25211);;var $25207$25215;($25207$25215=ph$25208);;if($25330(Array)($25207$25215)){return [true,value$25209];}else{$25207$25215;return [true,[value$25209]];}});(Array.prototype["::check"]=function(value$25229){if((value$25229 instanceof Array)){var i$25234;(i$25234=0);;$25232:for(;(i$25234<this.length);(i$25234++)){if(($25345(this,i$25234)!==$25345(value$25229,i$25234))){return false;}}return true;}else{return false;}});(Array.prototype["::clone"]=function(){return $25346(this.slice(0),this);});(Array.prototype[":::project"]=function(value$25245){if((value$25245 instanceof Array)){var i$25250;(i$25250=0);;$25248:for(;(i$25250<this.length);(i$25250++)){if(($25345(this,i$25250)!==$25345(value$25245,i$25250))){return [true,[value$25245]];}}return [true,value$25245.slice(this.length)];}else{return [true,[value$25245]];}});(Array.prototype["::serialize_ast"]=function(){return ["array"].concat(this.map($25358));});(RegExp.prototype["::check"]=function($25260$25262){var ph$25265;(ph$25265=$25260$25262);;var $25264$25270;($25264$25270=ph$25265);;var value$25278;if((typeof($25264$25270)==="string")){(value$25278=$25264$25270);if(value$25278.match(this)){return true;}else{return false;}}else{var other$25283;(other$25283=$25264$25270);return false;}});(RegExp.prototype[":::project"]=function($25285$25287){var ph$25290;(ph$25290=$25285$25287);;var $25289$25295;($25289$25295=ph$25290);;var value$25303;if((typeof($25289$25295)==="string")){(value$25303=$25289$25295);var $25306$25308;($25306$25308=value$25303.match(this));;var m$25316;if(($25306$25308===null)){(m$25316=$25306$25308);return [false,null];}else{var m$25321;(m$25321=$25306$25308);return [true,m$25321];}}else{var other$25325;(other$25325=$25289$25295);return [false,null];}});(Function.prototype["::send"]=function(args$25328){return this.apply(this,args$25328);});
var $26197=function(arr$26199){var results$26203;var l$26204;(results$26203=[]);;(l$26204=arr$26199.length);;var i$26212;(i$26212=0);;$26202:for(;(i$26212<l$26204);(i$26212++)){results$26203.push([i$26212,$25345(arr$26199,i$26212)]);}return results$26203;};
var $26028=function(){var $26029$26031;($26029$26031=function(tags$26035){var it$0$26038;(it$0$26038=function(){if((!$25330($26029$26031)(this))){return Object.create($26029$26031.prototype);}else{return this;}}());;(it$0$26038["tags"]=tags$26035);return it$0$26038;});;($26029$26031.prototype["create"]=function(){var $26047$26049;($26047$26049=arguments);;var t0$26054;var message$26058;var args$26059;(t0$26054=$26047$26049.length);if((t0$26054>=0)){(message$26058=function(){if((0>=t0$26054)){return "";}else{return $26047$26049[0];}}());(args$26059=Array.prototype.slice.call($26047$26049,1));var it$0$26063;(it$0$26063=this);;var self$26068;(self$26068=this);;var e$26073;(e$26073=Error(message$26058));;(e$26073["::tags"]=it$0$26063.tags);(e$26073["args"]=args$26059);var temp$26081;(temp$26081=$26197(args$26059));;var $length$26086;($length$26086=temp$26081.length);;var $index$26091;($index$26091=0);;$26074:for(;($index$26091<$length$26086);($index$26091++)){var m$26099;(m$26099=temp$26081[$index$26091]);;var t0$26104;var t1$26105;var i$26109;var arg$26110;(t0$26104=m$26099);if(((t0$26104 instanceof Array)&&((t1$26105=t0$26104.length),(t1$26105===2)))){(i$26109=t0$26104[0]);(arg$26110=t0$26104[1]);(e$26073[i$26109]=arg$26110);}else{$26015(m$26099);;}}(e$26073["length"]=args$26059.length);(e$26073["name"]=["E"].concat(it$0$26063.tags).join("."));return e$26073;}else{$26015($26047$26049);}});($26029$26031.prototype["::check"]=function(e$26121){var it$0$26124;(it$0$26124=this);;var self$26129;(self$26129=this);;var tags$26134;if(((!e$26121)||(!$25330(Error)(e$26121)))){return false;}(tags$26134=(e$26121["::tags"]||[]));;var temp$26143;(temp$26143=it$0$26124.tags);;var $length$26148;($length$26148=temp$26143.length);;var $index$26153;($index$26153=0);;$26135:for(;($index$26153<$length$26148);($index$26153++)){var m$26161;(m$26161=temp$26143[$index$26153]);;var tag$26169;(tag$26169=m$26161);if((tags$26134.indexOf(tag$26169)===-1)){return false;}else{false;;}}return true;});($26029$26031.prototype["::deconstruct"]=function(e$26177){var it$0$26180;(it$0$26180=this);;var self$26185;(self$26185=this);;return e$26177.args;});$25346($26029$26031,$25346(function(){var accum$26190;(accum$26190=({}));(accum$26190["::name"]="$26029");return accum$26190;}(),function(){var accum$26194;(accum$26194=({}));(accum$26194["::egclass"]=true);return accum$26194;}()));return $26029$26031;}();
var $26015=function(value$26017,url$26018,start$26019,end$26020){var err$26023;(err$26023=$26028(["match"]).create("Could not find a match for value",({"value":value$26017})));;if(url$26018){(err$26023["location"]=["location",url$26018,start$26019,end$26020]);}throw err$26023;};var GenSym$25390;var gensym$25391;var uuid$25392;var identity$25393;var binsearch$25394;var __classify$25395;var classify$25396;var classify_contiguous$25397;var neighbours$25398;var partition$25399;var construct$25400;var mkset$25401;var make_object$25402;var product$25403;(GenSym$25390=function(prefix$25407){var id$25410;(id$25410=0);;return function(){var r$25430;var pfx$25426;var t0$25422;var $25415$25417;($25415$25417=arguments);;(t0$25422=$25415$25417.length);if(((t0$25422>=0)&&(t0$25422<=1))){(pfx$25426=function(){if((0>=t0$25422)){return null;}else{return $25415$25417[0];}}());(r$25430=(((pfx$25426||"")+prefix$25407)+[true,String(id$25410)][1]));;(id$25410++);return r$25430;}else{$26015($25415$25417);}};});;(gensym$25391=GenSym$25390("$"));;(uuid$25392=function(){return gensym$25391("#");});;(identity$25393=function(x$25448){return x$25448;});;(binsearch$25394=function(xs$25454,x$25455){var lo$25458;var hi$25459;(lo$25458=0);;(hi$25459=(xs$25454.length-1));;$25466:while((lo$25458<=hi$25459)){var $25470$25480;var mid$25471;var v$25472;(mid$25471=(lo$25458+((hi$25459-lo$25458)>>1)));;(v$25472=$25345(xs$25454,mid$25471));;($25470$25480=$25345(xs$25454,mid$25471));;if(($25470$25480<x$25455)){(lo$25458=(mid$25471+1));}else{if(($25470$25480>x$25455)){(hi$25459=(mid$25471-1));}else{$25470$25480;return (mid$25471+1);}}}return lo$25458;});;(__classify$25395=function(xs$25501){var results$25504;(results$25504=({}));;$25508:while(xs$25501.length){var cls$25534;var x$25535;var newxs$25528;var $25512$25523;var $25513$25524;var $25514$25525;var t0$25521;var $25511$25516;($25511$25516=xs$25501.shift());;if((($25512$25523=($25511$25516 instanceof Array))&&((t0$25521=$25511$25516.length),(($25514$25525=(t0$25521===2))&&($25511$25516[0]==="splice"))))){(newxs$25528=$25511$25516[1]);(xs$25501=newxs$25528.concat(xs$25501));}else{if($25514$25525){(cls$25534=$25511$25516[0]);(x$25535=$25511$25516[1]);if((!$25345(results$25504,cls$25534))){(results$25504[cls$25534]=[]);}$25345(results$25504,cls$25534).push(x$25535);}else{$26015($25511$25516);;}}}return results$25504;});;(classify$25396=function(){var $index$25580;var $length$25575;var temp$25570;var results$25562;var classes$25557;var xs$25558;var t0$25553;var $25546$25548;($25546$25548=arguments);;(t0$25553=$25546$25548.length);if((t0$25553>=1)){(classes$25557=Array.prototype.slice.call($25546$25548,0,-1));(xs$25558=$25546$25548[(t0$25553-1)]);(results$25562=({"rest":[]}));;(temp$25570=classes$25557);;($length$25575=temp$25570.length);;($index$25580=0);;$25563:for(;($index$25580<$length$25575);($index$25580++)){var cls$25596;var m$25588;(m$25588=temp$25570[$index$25580]);;(cls$25596=m$25588);(results$25562[cls$25596]=[]);}$25598:while(xs$25558.length){var x$25620;var other$25636;var cls$25627;var x$25628;var newxs$25612;var t0$25608;var $25601$25603;($25601$25603=xs$25558.shift());;if((($25601$25603 instanceof Array)&&((t0$25608=$25601$25603.length),((t0$25608>=1)&&($25601$25603[0]==="splice"))))){(newxs$25612=Array.prototype.slice.call($25601$25603,1));(xs$25558=newxs$25612.concat(xs$25558));}else{if((((x$25620=$25601$25603)),((x$25620 instanceof Array)&&(x$25620[0]==="ignore")))){null;}else{if((($25601$25603 instanceof Array)&&((t0$25608=$25601$25603.length),((t0$25608===2)&&((cls$25627=$25601$25603[0]),((x$25628=$25601$25603[1]),$25345(results$25562,cls$25627))))))){$25345(results$25562,cls$25627).push(x$25628);}else{(other$25636=$25601$25603);results$25562.rest.push(other$25636);}}}}return results$25562;}else{$26015($25546$25548);}});;(classify_contiguous$25397=function(xs$25644,classifier$25645){var $index$25674;var $length$25669;var temp$25664;var groups$25648;var currcls$25649;var curr$25650;(groups$25648=[]);;(currcls$25649=null);;(curr$25650=null);;(temp$25664=xs$25644);;($length$25669=temp$25664.length);;($index$25674=0);;$25651:for(;($index$25674<$length$25669);($index$25674++)){var cls$25693;var x$25690;var m$25682;(m$25682=temp$25664[$index$25674]);;(x$25690=m$25682);(cls$25693=classifier$25645(x$25690));;if((cls$25693===currcls$25649)){curr$25650.push(x$25690);}else{if(curr$25650){groups$25648.push(curr$25650);}(curr$25650=[cls$25693,x$25690]);(currcls$25649=cls$25693);}}if(curr$25650){groups$25648.push(curr$25650);}return groups$25648;});;(neighbours$25398=function($25703$25705){var x$25736;var y$25737;var rest$25738;var x$25731;var $25708$25722;var $25709$25723;var t0$25720;var $25707$25715;var ph$25710;(ph$25710=$25703$25705);;($25707$25715=ph$25710);;if((($25708$25722=($25707$25715 instanceof Array))&&((t0$25720=$25707$25715.length),(t0$25720===0)))){return [];}else{if(($25708$25722&&(t0$25720===1))){(x$25731=$25707$25715[0]);return [];}else{if(($25708$25722&&(t0$25720>=2))){(x$25736=$25707$25715[0]);(y$25737=$25707$25715[1]);(rest$25738=Array.prototype.slice.call($25707$25715,2));return [[x$25736,y$25737]].concat(neighbours$25398([y$25737].concat(rest$25738)));}else{$26015($25707$25715);}}}});;(partition$25399=function(xs$25747,predicate$25748){var $index$25773;var $length$25768;var temp$25763;var t$25751;var f$25752;(t$25751=[]);;(f$25752=[]);;(temp$25763=xs$25747);;($length$25768=temp$25763.length);;($index$25773=0);;$25753:for(;($index$25773<$length$25768);($index$25773++)){var x$25794;var x$25789;var m$25781;(m$25781=temp$25763[$index$25773]);;(x$25789=m$25781);if(predicate$25748(x$25789)){t$25751.push(x$25789);}else{(x$25794=m$25781);f$25752.push(x$25794);}}return [t$25751,f$25752];});;(construct$25400=function($25799$25801,fn$25802,zero$25803){var x$25834;var rest$25835;var x$25829;var $25806$25820;var $25807$25821;var t0$25818;var $25805$25813;var ph$25808;(ph$25808=$25799$25801);;($25805$25813=ph$25808);;if((($25806$25820=($25805$25813 instanceof Array))&&((t0$25818=$25805$25813.length),(t0$25818===0)))){return zero$25803;}else{if(($25806$25820&&(t0$25818===1))){(x$25829=$25805$25813[0]);return x$25829;}else{if(($25806$25820&&(t0$25818>=1))){(x$25834=$25805$25813[0]);(rest$25835=Array.prototype.slice.call($25805$25813,1));return fn$25802(x$25834,construct$25400(rest$25835,fn$25802,zero$25803));}else{$26015($25805$25813);}}}});;(mkset$25401=function(xs$25844){var $index$25865;var $length$25860;var temp$25855;var rval$25847;(rval$25847=({}));;(temp$25855=xs$25844);;($length$25860=temp$25855.length);;($index$25865=0);;$25848:for(;($index$25865<$length$25860);($index$25865++)){var x$25881;var m$25873;(m$25873=temp$25855[$index$25865]);;(x$25881=m$25873);(rval$25847[x$25881]=true);}return rval$25847;});;(make_object$25402=function(pairs$25887){var $index$25908;var $length$25903;var temp$25898;var rval$25890;(rval$25890=({}));;(temp$25898=pairs$25887);;($length$25903=temp$25898.length);;($index$25908=0);;$25891:for(;($index$25908<$length$25903);($index$25908++)){var k$25926;var v$25927;var t0$25921;var t1$25922;var m$25916;(m$25916=temp$25898[$index$25908]);;(t0$25921=m$25916);if(((t0$25921 instanceof Array)&&((t1$25922=t0$25921.length),(t1$25922===2)))){(k$25926=t0$25921[0]);(v$25927=t0$25921[1]);(rval$25890[k$25926]=v$25927);}else{$26015(m$25916,"/home/olivier/git/earl-grey/src/util.eg",2736,2779);;}}return rval$25890;});;(product$25403=function(a$25937,b$25938){var $index$25959;var $length$25954;var temp$25949;var results$25941;(results$25941=[]);;(temp$25949=a$25937);;($length$25954=temp$25949.length);;($index$25959=0);;$25942:for(;($index$25959<$length$25954);($index$25959++)){var $index$25995;var $length$25990;var temp$25985;var acc$25980;var x$25975;var m$25967;(m$25967=temp$25949[$index$25959]);;(x$25975=m$25967);(results$25941=results$25941.concat((((acc$25980=[])),(((temp$25985=b$25938)),((($length$25990=temp$25985.length)),((($index$25995=0)),function(){$25977:for(;($index$25995<$length$25990);($index$25995++)){var y$26011;var m$26003;(m$26003=temp$25985[$index$25995]);;(y$26011=m$26003);acc$25980.push([x$25975,y$26011]);}}()))),acc$25980)));}return results$25941;});;(exports["GenSym"]=GenSym$25390);(exports["gensym"]=gensym$25391);(exports["uuid"]=uuid$25392);(exports["identity"]=identity$25393);(exports["binsearch"]=binsearch$25394);(exports["classify"]=classify$25396);(exports["classify_contiguous"]=classify_contiguous$25397);(exports["neighbours"]=neighbours$25398);(exports["partition"]=partition$25399);(exports["construct"]=construct$25400);(exports["mkset"]=mkset$25401);(exports["make_object"]=make_object$25402);(exports["product"]=product$25403);
