var $43241=(function(type$43244){var f$43248;(f$43248=type$43244["::check"]);if((f$43248===(void 0))){return (function(value$43254){return (value$43254 instanceof type$43244);});}else{return (function(value$43258){return f$43248.call(type$43244,value$43258);});}});
var $43260=(function(dest$43263,values$43264){var k$43269;(k$43269=null);$43267:for(k$43269 in values$43264){if(values$43264.hasOwnProperty(k$43269)){(dest$43263[k$43269]=values$43264[k$43269]);}}return dest$43263;});
var $43277=(function(o,m){if(typeof(m)==='string'||typeof(m)==='number'){return o[m];}else{return o['::send'](m);}});
var $43278=(function($43280$43283){var ph$43289;(ph$43289=$43280$43283);var $43285$43295;($43285$43295=ph$43289);var bridge$43287$43300;var x$43304;(bridge$43287$43300=$43285$43295);if((((typeof(bridge$43287$43300)==="string")&&((x$43304=bridge$43287$43300),true))||((typeof(bridge$43287$43300)==="number")&&((x$43304=bridge$43287$43300),true)))){return ["value",x$43304];}else{var other$43315;(other$43315=$43285$43295);return other$43315["::serialize_ast"]();}});
var $43317=(function(obj$43320){var results$43325;(results$43325=[]);var k$43330;(k$43330=null);$43324:for(k$43330 in obj$43320){if(Object.prototype.hasOwnProperty.call(obj$43320,k$43330)){results$43325.push([k$43330,$43277(obj$43320,k$43330)]);}}return results$43325;});
var $43586=(function(arr$43589){var results$43595;var l$43596;(results$43595=[]);(l$43596=arr$43589.length);var i$43605;(i$43605=0);$43594:for(;(i$43605<l$43596);(i$43605++)){results$43595.push([i$43605,$43277(arr$43589,i$43605)]);}return results$43595;});
var $43353=(function(){var $43354$43360;($43354$43360=(function(tags$43365){var it$0$43368;(it$0$43368=(function(){if((!$43241($43354$43360)(this))){return Object.create($43354$43360.prototype);}else{return this;}})());(it$0$43368["tags"]=tags$43365);return it$0$43368;}));($43354$43360.prototype["create"]=(function(){var it$0$43388;var self$43389;(it$0$43388=this);(self$43389=this);var $43386$43398;($43386$43398=arguments);var t0$43403;var message$43407;var args$43408;(t0$43403=$43386$43398.length);if((t0$43403>=0)){(message$43407=(function(){if((0>=t0$43403)){return "";}else{return $43386$43398[0];}})());(args$43408=Array.prototype.slice.call($43386$43398,1));var e$43421;(e$43421=Error(message$43407));(e$43421["::tags"]=it$0$43388.tags);(e$43421["args"]=args$43408);var temp$43437;(temp$43437=$43586(args$43408));var $length$43443;($length$43443=temp$43437.length);var $index$43449;($index$43449=0);$43422:for(;($index$43449<$length$43443);($index$43449++)){var m$43458;(m$43458=temp$43437[$index$43449]);var t0$43463;var t1$43464;var i$43468;var arg$43469;(t0$43463=m$43458);if(((t0$43463 instanceof Array)&&(((t1$43464=t0$43463.length)),(t1$43464===2)))){(i$43468=t0$43463[0]);(arg$43469=t0$43463[1]);(e$43421[i$43468]=arg$43469);}else{$43334(m$43458);}}(e$43421["length"]=args$43408.length);(e$43421["name"]=["E"].concat(it$0$43388.tags).join("."));return e$43421;}else{$43334($43386$43398);}}));($43354$43360.prototype["::check"]=(function(e$43499){var it$0$43503;var self$43504;(it$0$43503=this);(self$43504=this);var tags$43514;if(((!e$43499)||(!$43241(Error)(e$43499)))){return false;}(tags$43514=(e$43499["::tags"]||[]));var temp$43525;(temp$43525=it$0$43503.tags);var $length$43531;($length$43531=temp$43525.length);var $index$43537;($index$43537=0);$43515:for(;($index$43537<$length$43531);($index$43537++)){var m$43546;(m$43546=temp$43525[$index$43537]);var tag$43554;(tag$43554=m$43546);if((tags$43514.indexOf(tag$43554)===-1)){return false;}else{false;}}return true;}));($43354$43360.prototype["::deconstruct"]=(function(e$43563){var it$0$43567;var self$43568;(it$0$43567=this);(self$43568=this);return e$43563.args;}));$43260($43354$43360,$43260((function(){var accum$43579;(accum$43579=({}));(accum$43579["::name"]="$43354");return accum$43579;})(),(function(){var accum$43583;(accum$43583=({}));(accum$43583["::egclass"]=true);return accum$43583;})()));return $43354$43360;})();
var $43334=(function(value$43337,url$43338,start$43339,end$43340){var err$43344;(err$43344=$43353(["match"]).create("Could not find a match for value",({"value":value$43337})));if(url$43338){(err$43344["location"]=["location",url$43338,start$43339,end$43340]);}throw err$43344;});
var send$42886;var __array_methods$42887;var __re_methods$42888;(send$42886=(function(obj$42901,$42898$42902){var ph$42908;var msg$42909;var t0$42911;(t0$42911=$42898$42902);(msg$42909=t0$42911);(ph$42908=t0$42911);var $42904$42920;($42904$42920=ph$42908);var bridge$42906$42925;(bridge$42906$42925=$42904$42920);if(((typeof(bridge$42906$42925)==="string")||(typeof(bridge$42906$42925)==="number"))){return obj$42901[msg$42909];}else{var other$42937;(other$42937=$42904$42920);return obj$42901["::send"](msg$42909);}}));(Array[":::project"]=(function($42943$42946){var ph$42951;var value$42952;var t0$42954;(t0$42954=$42943$42946);(value$42952=t0$42954);(ph$42951=t0$42954);var $42948$42963;($42948$42963=ph$42951);if($43241(Array)($42948$42963)){return [true,value$42952];}else{$42948$42963;return [true,[value$42952]];}}));(__array_methods$42887=$43260((function(){var accum$42984;(accum$42984=({}));(accum$42984["::check"]=(function(value$42989){if((value$42989 instanceof Array)){var i$42995;(i$42995=0);$42992:for(;(i$42995<this.length);(i$42995++)){if(($43277(this,i$42995)!==$43277(value$42989,i$42995))){return false;}}return true;}else{return false;}}));return accum$42984;})(),$43260((function(){var accum$43004;(accum$43004=({}));(accum$43004["::clone"]=(function(){return $43260(this.slice(0),this);}));return accum$43004;})(),$43260((function(){var accum$43011;(accum$43011=({}));(accum$43011[":::project"]=(function(value$43016){if((value$43016 instanceof Array)){var i$43022;(i$43022=0);$43019:for(;(i$43022<this.length);(i$43022++)){if(($43277(this,i$43022)!==$43277(value$43016,i$43022))){return [true,this.concat([value$43016])];}}return [true,value$43016];}else{return [true,this.concat([value$43016])];}}));return accum$43011;})(),(function(){var accum$43031;(accum$43031=({}));(accum$43031["::serialize_ast"]=(function(){return ["array"].concat(this.map($43278));}));return accum$43031;})()))));var temp$43041;(temp$43041=$43317(__array_methods$42887));var $length$43047;($length$43047=temp$43041.length);var $index$43053;($index$43053=0);$42889:for(;($index$43053<$length$43047);($index$43053++)){var m$43062;(m$43062=temp$43041[$index$43053]);var t0$43067;var t1$43068;var k$43072;var v$43073;(t0$43067=m$43062);if(((t0$43067 instanceof Array)&&(((t1$43068=t0$43067.length)),(t1$43068===2)))){(k$43072=t0$43067[0]);(v$43073=t0$43067[1]);if((!$43277(Array.prototype,k$43072))){Object.defineProperty(Array.prototype,k$43072,({"enumerable":false,"value":v$43073}));}}else{$43334(m$43062);}}(__re_methods$42888=$43260((function(){var accum$43093;(accum$43093=({}));(accum$43093["::check"]=(function($43097$43100){var ph$43105;(ph$43105=$43097$43100);var $43102$43111;($43102$43111=ph$43105);var value$43119;if((typeof($43102$43111)==="string")){(value$43119=$43102$43111);if(value$43119.match(this)){return true;}else{return false;}}else{var other$43124;(other$43124=$43102$43111);return false;}}));return accum$43093;})(),(function(){var accum$43127;(accum$43127=({}));(accum$43127[":::project"]=(function($43131$43134){var ph$43139;(ph$43139=$43131$43134);var $43136$43145;($43136$43145=ph$43139);var value$43153;if((typeof($43136$43145)==="string")){(value$43153=$43136$43145);var $43156$43161;($43156$43161=value$43153.match(this));var m$43169;if(($43156$43161===null)){(m$43169=$43156$43161);return [false,null];}else{var m$43174;(m$43174=$43156$43161);return [true,m$43174];}}else{var other$43178;(other$43178=$43136$43145);return [false,null];}}));return accum$43127;})()));var temp$43184;(temp$43184=$43317(__re_methods$42888));var $length$43190;($length$43190=temp$43184.length);var $index$43196;($index$43196=0);$42892:for(;($index$43196<$length$43190);($index$43196++)){var m$43205;(m$43205=temp$43184[$index$43196]);var t0$43210;var t1$43211;var k$43215;var v$43216;(t0$43210=m$43205);if(((t0$43210 instanceof Array)&&(((t1$43211=t0$43210.length)),(t1$43211===2)))){(k$43215=t0$43210[0]);(v$43216=t0$43210[1]);if((!$43277(RegExp.prototype,k$43215))){Object.defineProperty(RegExp.prototype,k$43215,({"enumerable":false,"value":v$43216}));}}else{$43334(m$43205);}}if((!Function.prototype["::send"])){Object.defineProperty(Function.prototype,"::send",$43260(({"enumerable":false}),(function(){var accum$43234;(accum$43234=({}));(accum$43234["value"]=(function(args$43239){return this.apply(this,args$43239);}));return accum$43234;})()));}var GenSym$43626;var gensym$43627;var identity$43628;var binsearch$43629;var classify$43630;var classify_contiguous$43631;var neighbours$43632;var partition$43633;var product$43634;var construct$43635;var mkset$43636;var Body$43637;(GenSym$43626=(function(prefix$43642){var id$43647;(id$43647=0);return (function(){var r$43674;var pfx$43665;var t0$43661;var $43652$43656;($43652$43656=arguments);(t0$43661=$43652$43656.length);if(((t0$43661>=0)&&(t0$43661<=1))){(pfx$43665=(function(){if((0>=t0$43661)){return "";}else{return $43652$43656[0];}})());(r$43674=((pfx$43665+prefix$43642)+[true,String(id$43647)][1]));(id$43647++);return r$43674;}else{$43334($43652$43656);}});}));(gensym$43627=GenSym$43626("$"));(identity$43628=(function(x$43688){return x$43688;}));(binsearch$43629=(function(xs$43695,x$43696){var lo$43701;var hi$43702;(lo$43701=0);(hi$43702=(xs$43695.length-1));$43709:while((lo$43701<=hi$43702)){var $43715$43729;var mid$43719;var v$43720;(mid$43719=(lo$43701+((hi$43702-lo$43701)>>1)));(v$43720=$43277(xs$43695,mid$43719));($43715$43729=$43277(xs$43695,mid$43719));if(($43715$43729<x$43696)){(lo$43701=(mid$43719+1));}else{if(($43715$43729>x$43696)){(hi$43702=(mid$43719-1));}else{$43715$43729;return (mid$43719+1);}}}return lo$43701;}));(classify$43630=(function(){var $index$43804;var $length$43798;var temp$43792;var results$43782;var classes$43772;var xs$43773;var t0$43768;var $43759$43763;($43759$43763=arguments);(t0$43768=$43759$43763.length);if((t0$43768>=1)){(classes$43772=Array.prototype.slice.call($43759$43763,0,-1));(xs$43773=$43759$43763[(t0$43768-1)]);(results$43782=({"rest":[]}));(temp$43792=classes$43772);($length$43798=temp$43792.length);($index$43804=0);$43783:for(;($index$43804<$length$43798);($index$43804++)){var cls$43821;var m$43813;(m$43813=temp$43792[$index$43804]);(cls$43821=m$43813);(results$43782[cls$43821]=[]);}$43827:while(xs$43773.length){var x$43863;var other$43883;var cls$43870;var x$43871;var newxs$43846;var t0$43842;var $43830$43837;($43830$43837=xs$43773.shift());if((($43830$43837 instanceof Array)&&(((t0$43842=$43830$43837.length)),((t0$43842>=1)&&($43830$43837[0]==="splice"))))){(newxs$43846=Array.prototype.slice.call($43830$43837,1));(xs$43773=newxs$43846.concat(xs$43773));}else{if((((x$43863=$43830$43837)),((x$43863 instanceof Array)&&(x$43863[0]==="ignore")))){null;}else{if((($43830$43837 instanceof Array)&&(((t0$43842=$43830$43837.length)),((t0$43842===2)&&((cls$43870=$43830$43837[0]),((x$43871=$43830$43837[1]),$43277(results$43782,cls$43870))))))){$43277(results$43782,cls$43870).push(x$43871);}else{(other$43883=$43830$43837);results$43782.rest.push(other$43883);}}}}return results$43782;}else{$43334($43759$43763);}}));(classify_contiguous$43631=(function(xs$43892,classifier$43893){var $index$43929;var $length$43923;var temp$43917;var groups$43899;var currcls$43900;var curr$43901;(groups$43899=[]);(currcls$43900=null);(curr$43901=null);(temp$43917=xs$43892);($length$43923=temp$43917.length);($index$43929=0);$43902:for(;($index$43929<$length$43923);($index$43929++)){var cls$43950;var x$43946;var m$43938;(m$43938=temp$43917[$index$43929]);(x$43946=m$43938);(cls$43950=classifier$43893(x$43946));if((cls$43950===currcls$43900)){curr$43901.push(x$43946);}else{if(curr$43901){groups$43899.push(curr$43901);}(curr$43901=[cls$43950,x$43946]);(currcls$43900=cls$43950);}}if(curr$43901){groups$43899.push(curr$43901);}return groups$43899;}));(neighbours$43632=(function($43969$43972){var x$44011;var y$44012;var rest$44013;var x$44006;var $43978$43993;var $43979$43994;var t0$43991;var $43974$43986;var ph$43980;(ph$43980=$43969$43972);($43974$43986=ph$43980);if((($43978$43993=($43974$43986 instanceof Array))&&(((t0$43991=$43974$43986.length)),(t0$43991===0)))){return [];}else{if(($43978$43993&&(t0$43991===1))){(x$44006=$43974$43986[0]);return [];}else{if(($43978$43993&&(t0$43991>=2))){(x$44011=$43974$43986[0]);(y$44012=$43974$43986[1]);(rest$44013=Array.prototype.slice.call($43974$43986,2));return [[x$44011,y$44012]].concat(neighbours$43632([y$44012].concat(rest$44013)));}else{$43334($43974$43986);}}}}));(partition$43633=(function(xs$44023,predicate$44024){var $index$44056;var $length$44050;var temp$44044;var t$44029;var f$44030;(t$44029=[]);(f$44030=[]);(temp$44044=xs$44023);($length$44050=temp$44044.length);($index$44056=0);$44031:for(;($index$44056<$length$44050);($index$44056++)){var x$44078;var x$44073;var m$44065;(m$44065=temp$44044[$index$44056]);(x$44073=m$44065);if(predicate$44024(x$44073)){t$44029.push(x$44073);}else{(x$44078=m$44065);f$44030.push(x$44078);}}return [t$44029,f$44030];}));(product$43634=(function(a$44085,b$44086){var $index$44112;var $length$44106;var temp$44100;var results$44090;(results$44090=[]);(temp$44100=a$44085);($length$44106=temp$44100.length);($index$44112=0);$44091:for(;($index$44112<$length$44106);($index$44112++)){var $index$44154;var $length$44148;var temp$44142;var acc$44136;var x$44129;var m$44121;(m$44121=temp$44100[$index$44112]);(x$44129=m$44121);(results$44090=results$44090.concat((((acc$44136=[])),(((temp$44142=b$44086)),((($length$44148=temp$44142.length)),((($index$44154=0)),(function(){$44131:for(;($index$44154<$length$44148);($index$44154++)){var y$44171;var m$44163;(m$44163=temp$44142[$index$44154]);(y$44171=m$44163);acc$44136.push([x$44129,y$44171]);}})()))),acc$44136)));}return results$44090;}));(construct$43635=(function($44178$44181,fn$44182,zero$44183){var x$44222;var rest$44223;var x$44217;var $44189$44204;var $44190$44205;var t0$44202;var $44185$44197;var ph$44191;(ph$44191=$44178$44181);($44185$44197=ph$44191);if((($44189$44204=($44185$44197 instanceof Array))&&(((t0$44202=$44185$44197.length)),(t0$44202===0)))){return zero$44183;}else{if(($44189$44204&&(t0$44202===1))){(x$44217=$44185$44197[0]);return x$44217;}else{if(($44189$44204&&(t0$44202>=1))){(x$44222=$44185$44197[0]);(rest$44223=Array.prototype.slice.call($44185$44197,1));return fn$44182(x$44222,construct$43635(rest$44223,fn$44182,zero$44183));}else{$43334($44185$44197);}}}}));(mkset$43636=(function(xs$44233){var $index$44259;var $length$44253;var temp$44247;var rval$44237;(rval$44237=({}));(temp$44247=xs$44233);($length$44253=temp$44247.length);($index$44259=0);$44238:for(;($index$44259<$length$44253);($index$44259++)){var x$44276;var m$44268;(m$44268=temp$44247[$index$44259]);(x$44276=m$44268);(rval$44237[x$44276]=true);}return rval$44237;}));(Body$43637=(function($44286$44289){var t0$44297;var xs$44315;var t0$44311;var $44291$44306;var ph$44294;var x$44295;(t0$44297=$44286$44289);(x$44295=t0$44297);(ph$44294=t0$44297);($44291$44306=ph$44294);if((($44291$44306 instanceof Array)&&(((t0$44311=$44291$44306.length)),((t0$44311>=1)&&($44291$44306[0]==="multi"))))){(xs$44315=Array.prototype.slice.call($44291$44306,1));return xs$44315;}else{$44291$44306;return [x$44295];}}));(exports["GenSym"]=GenSym$43626);(exports["gensym"]=gensym$43627);(exports["identity"]=identity$43628);(exports["binsearch"]=binsearch$43629);(exports["classify"]=classify$43630);(exports["classify_contiguous"]=classify_contiguous$43631);(exports["neighbours"]=neighbours$43632);(exports["partition"]=partition$43633);(exports["construct"]=construct$43635);(exports["mkset"]=mkset$43636);(exports["product"]=product$43634);(exports["Body"]=Body$43637);
